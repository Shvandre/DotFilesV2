import{a as ro}from"./chunk-22WDMZSQ.js";import{b as so}from"./chunk-OEKI3DMR.js";import"./chunk-W4AP4G2F.js";import{a as no}from"./chunk-EMF7IQKN.js";import"./chunk-GILH4DNE.js";import"./chunk-4TTNWJKA.js";import"./chunk-S3LJPSNS.js";import"./chunk-OIEYJ2ZW.js";import{a as to,b as io}from"./chunk-NYDEBL3G.js";import{b as oo}from"./chunk-L3JFU4EM.js";import"./chunk-5KT4NAMN.js";import"./chunk-GGXP4DHI.js";import"./chunk-PD3VQVJ7.js";import"./chunk-5DMQK7BZ.js";import"./chunk-SK2I62KI.js";import"./chunk-PHIZZC4K.js";import"./chunk-LNE2OUES.js";import"./chunk-QEX5ZPUZ.js";import"./chunk-FN3DYSEQ.js";import"./chunk-MWZBPFMQ.js";import"./chunk-IDNGKLWD.js";import"./chunk-SBI642EK.js";import"./chunk-2ZR4MGIO.js";import{Da as Xe,Ea as Ye,Fa as Je,Oa as Re,Q as Ge,Qa as eo,Ra as te,S as re,T as qe,U as Ke,Z as Qe,y as $e}from"./chunk-YNOMEZGR.js";import{i as je}from"./chunk-7IWA7VDF.js";import"./chunk-F6R6PZOR.js";import"./chunk-MDZMKEZM.js";import{a as Ze}from"./chunk-Z2IREGI3.js";import"./chunk-H7JFZ3YS.js";import{a as I}from"./chunk-J75C23KI.js";import"./chunk-FQRSH645.js";import"./chunk-U3NMDQK3.js";import"./chunk-SGGLIP2Q.js";import"./chunk-MOFSVQWA.js";import"./chunk-HUWYOARQ.js";import"./chunk-CRVSDQKM.js";import"./chunk-QNLMWMRR.js";import"./chunk-CCAASF45.js";import"./chunk-FTCKELIN.js";import"./chunk-D5MQIHZE.js";import{a as v}from"./chunk-WAL4SSJC.js";import{g as We,i as _e}from"./chunk-3NW35I2P.js";import"./chunk-7TOQ3J6S.js";import"./chunk-QM77BPVG.js";import"./chunk-REHM6SJD.js";import"./chunk-3WNFRSDS.js";import"./chunk-KI5DTAW7.js";import"./chunk-HCYB2VG2.js";import{b as Ue}from"./chunk-VECUKCNS.js";import"./chunk-GYUGWQHP.js";import"./chunk-Z2TWY6BT.js";import"./chunk-VDRJSOTK.js";import"./chunk-RALT2YVD.js";import"./chunk-7D7ZBNJK.js";import"./chunk-X3FFOAGQ.js";import"./chunk-7ZVEM3WY.js";import"./chunk-ZVRCX2UV.js";import"./chunk-NSWARKFZ.js";import{R as De,ib as y,na as ze,p as a,sa as Ve}from"./chunk-I6U22RLL.js";import{Lb as Ne,Mb as Le,Nb as He,p as Ce,q as ke,s as ve}from"./chunk-5HSK4GMQ.js";import"./chunk-UCBZOSRF.js";import"./chunk-27IHK2SF.js";import"./chunk-QCTV7K6S.js";import"./chunk-WUU3X3IN.js";import"./chunk-4AX42N6B.js";import{$ as Oe,d as Be,i as Fe,q as Pe}from"./chunk-XNDOEJ4N.js";import"./chunk-XIAMBEDX.js";import"./chunk-M56YM2VY.js";import{c as Ae}from"./chunk-WN5BOODY.js";import"./chunk-OCBCUAFE.js";import{Pb as Ee,ld as Ie,nd as Me}from"./chunk-HKKBRKQE.js";import"./chunk-LWEFQGDN.js";import{Qd as ee,Rd as ge,Xd as fe,Ya as de,eb as ue,ie as he,ke as oe,pe as be,xd as pe}from"./chunk-3GZCHS7Y.js";import"./chunk-3LY6FUZT.js";import"./chunk-SK6BTSEQ.js";import{Fa as we,H as c,Ia as Te,Ja as Se,L as k,M as ye,ra as xe,x as L}from"./chunk-BY5XXL4W.js";import{P as me}from"./chunk-WP4K54AS.js";import"./chunk-UCPKAIVR.js";import{O as ce,u as ne}from"./chunk-NL7NWYRL.js";import{a as P}from"./chunk-57IY32VM.js";import"./chunk-TVMPABNZ.js";import"./chunk-4M6V6BRQ.js";import"./chunk-O2N6PUOM.js";import"./chunk-UNDMYLJW.js";import"./chunk-ICCUGV36.js";import{f as E,h as u,i as x,n as p}from"./chunk-3KENBVE7.js";u();p();var e=E(P());u();p();var n=E(P());u();p();var w=E(P()),ao=({children:o,maxFontSize:i})=>{let l=(0,w.useRef)(null),[r,t]=(0,w.useState)(i);return(0,w.useEffect)(()=>{let s=l.current;if(!s)return;let m=new ResizeObserver(()=>{let g=r;s.querySelectorAll("*").forEach(b=>{for(;b.scrollWidth>s.clientWidth&&g>10;)g-=1,b.style.fontSize=`${g}px`}),t(g)});return m.observe(s),()=>{m.disconnect()}},[r]),w.default.createElement(k,{ref:l,overflow:"hidden",width:"100%",display:"flex",direction:"column",alignItems:"center"},w.default.createElement("div",{style:{fontSize:`${r}px`,whiteSpace:"nowrap"}},o))};u();p();var G=E(P());var lo=()=>{let{data:o}=ee(),{caip19:i,tokenName:l,tokenSymbol:r}=he(),{handleShowModalVisibility:t,handleHideModalVisibility:s}=te(),{openBuy:m}=Qe({caip19:i,context:"nux",analyticsEvent:"nuxBuyTokenClickedByUser"}),g=(0,G.useCallback)(()=>{o&&t("receive",{account:o,onCloseClick:()=>s("receive")})},[s,t,o]);return G.default.createElement($e,{image:G.default.createElement(xe,{src:"https://assets.phantom.app/assets/nux-illustration-gm.webp",width:249,height:96}),onClickBuyToken:m,onClickReceive:g,tokenName:l,tokenSymbol:r})};var ko=a(v).attrs({align:"center"})`
  margin-top: 2rem;
`,vo=a(v).attrs({align:"center"})`
  padding-left: 16px;
  padding-right: 16px;
  padding-top: 16px;
  padding-bottom: 0;
  margin-bottom: -8px; // Forces spacing between nux and CTA buttons to be 24px
`,se=a(v).attrs({align:"center",justify:"center",width:"100%"})`
  height: 5.3rem;
`,co=a(Ze).attrs({height:"8px",borderRadius:"6px",backgroundColor:c.colors.legacy.borderPrimary})`
  opacity: 0.2;
`,mo=a(I)`
  height: 8px;
  border-radius: 6px;
  background-color: rgba(from ${c.colors.legacy.textSecondary} r g b / 50%);
  opacity: 0.5;
`,Ao=a.div`
  display: flex;
  flex-direction: row;
  padding: 16px 5px;
  justify-content: center;
  align-items: center;
  gap: 6px;
  flex: 1 0 0;
  border-radius: 62px;
  background: ${c.colors.legacy.bgButton};
`,Bo=a(y).attrs({size:15,weight:"600",color:c.colors.legacy.textPrimary,lineHeight:20})``,Fo=a(y).attrs({size:36,weight:"bold",color:c.colors.legacy.textSecondary})``,Eo=a(I).attrs({justify:"center"})``,Po=a(y).attrs({weight:500,size:18})`
  border-radius: 6px;
  padding: 2px 5px;
`,Io=a.div`
  > * {
    box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.16);
  }
  display: flex;
  flex-direction: row;
  gap: 8px;
  width: 326px;
  margin-top: 2rem;
  margin-bottom: 22px;
  margin-left: auto;
  margin-right: auto;
`,Mo=a.div`
  padding: 16px;
  padding-bottom: 0px;
`,Oo=a.div`
  padding: 32px 16px;
  width: 100%;
`,No={minimumFractionDigits:2,maximumFractionDigits:2},uo=n.default.memo(({hasFungibles:o,isErrorTokens:i,isLoading:l,isHidingAllFungibles:r,isReadOnlyAccount:t,value:s,earnings:m,showDollarValues:g,shouldShowPartialError:h,partialErrorMessage:b,ctaActions:S})=>{let{t:f}=L(),A=Lo(m),C=Ho(s,m),{buttonDisabled:D}=Do({isLoading:l,isEnabled:o||r,isErrorTokens:i}),z=Le();return n.default.createElement(k,{width:"100%"},h?n.default.createElement(Mo,null,n.default.createElement(Xe,{partialErrorMessage:b})):null,z?n.default.createElement(vo,null,n.default.createElement(lo,null)):n.default.createElement(ko,null,g?l?n.default.createElement(se,null,n.default.createElement(co,{width:"184px",margin:"0 0 10px 0"}),n.default.createElement(co,{width:"112px"})):o||r?n.default.createElement(n.default.Fragment,null,n.default.createElement(k,{width:"100%",marginBottom:10},n.default.createElement(ao,{maxFontSize:38},n.default.createElement(re,{font:"inherit",fontWeight:"semibold",value:s,intlNumberFormatOptions:No}))),n.default.createElement(Eo,null,n.default.createElement(re,{signConfig:"always",marginRight:6,font:"title1",color:"sentiment",value:m}),n.default.createElement(Po,{color:A,backgroundColor:ce(A,.1)},C))):i?n.default.createElement(se,null,n.default.createElement(mo,{width:"184px",margin:"0 0 10px 0"}),n.default.createElement(mo,{width:"112px"})):null:n.default.createElement(se,null,n.default.createElement(Fo,null,"\u2013"))),n.default.createElement(oo,null),t?n.default.createElement(Io,null,n.default.createElement(Ao,null,n.default.createElement(De,{width:20,height:20,fill:c.colors.legacy.textPrimary}),n.default.createElement(Bo,null,f("readOnlyAccountBannerWarning")))):n.default.createElement(Oo,null,n.default.createElement(Je,{disabled:D,actions:S,uiContextName:"home",maxButtons:4})))}),Lo=o=>o===void 0||o===0?c.colors.legacy.textSecondary:o>0?c.colors.legacy.accentSuccess:c.colors.legacy.accentAlert,Ho=(o,i)=>{let l=o===void 0,r=i===void 0,t=r||i>=0?"+":"-";return l||r?"-":`${t}${Math.abs(Ee(o-i,o)).toFixed(2)}%`},Do=({isLoading:o,isEnabled:i,isErrorTokens:l})=>{let r="primary",t=!1;switch(!0){case o:r="secondary",t=!0;break;case i:r="primary",t=!1;break;case l:r="secondary",t=!0}return{buttonTheme:r,buttonDisabled:t}};u();p();var T=E(P());var zo=a(v).attrs({align:"center"})``,Vo=a.div`
  width: 48px;
  height: 48px;
  position: relative;
  margin-bottom: 15px;
  border-radius: 100%;
  background: ${c.colors.legacy.bgRow};
`,Uo=a(I).attrs({align:"center",justify:"center"})`
  height: 100%;
`,Wo=a(y).attrs({size:17,weight:500,lineHeight:22,margin:"0 0 10px 0"})``,_o=a(y).attrs({size:15,weight:500,lineHeight:21,margin:"0 0 15px 0",color:c.colors.legacy.textSecondary})``,$o=a(y).attrs({size:16,weight:500,lineHeight:22,margin:"0",color:c.colors.legacy.accentPrimary})``,po=T.default.memo(o=>T.default.createElement(zo,null,T.default.createElement(Vo,null,T.default.createElement(Uo,null,T.default.createElement(Ve,{width:22,exclamationFill:"transparent",circleFill:c.colors.brand.yellowMoon}))),T.default.createElement(Wo,null,o.title),T.default.createElement(_o,null,o.description),T.default.createElement($o,{onClick:o.refetch},o.buttonText)));u();p();var H=E(P());var Go=a(I).attrs({justify:"center",margin:"0 auto",width:"auto"})`
  cursor: pointer;
  height: 48px;
  margin-bottom: 10px;
  p {
    font-weight: 500;
  }
  &:hover {
    p {
      color: ${c.colors.legacy.accentPrimary} !important;
    }
    svg {
      fill: ${c.colors.legacy.accentPrimary};
      path {
        stroke: ${c.colors.legacy.accentPrimary};
      }
      circle {
        stroke: ${c.colors.legacy.accentPrimary};
      }
    }
  }
`,Zo=a(y).attrs({size:16,color:c.colors.legacy.textSecondary,weight:500,margin:"0 0 0 10px",lineHeight:19,noWrap:!0})``,ae=H.default.memo(o=>H.default.createElement(Go,{onClick:o.onClick},H.default.createElement(Ue,null,H.default.createElement(ze,null)),H.default.createElement(Zo,null,o.buttonText)));u();p();var Z=E(P());function go(o,i,l){let r=oe(),[t,s]=(0,Z.useState)(!1);(0,Z.useEffect)(()=>{r||s(!1)},[l,r]),(0,Z.useEffect)(()=>{t||!i.length||!o.length||r||(Ye.walletBalance(l,i,o),s(!0))},[l,i,o,t,r])}u();p();var fo=()=>x.ENVIRONMENT==="e2e";var jo=Be(!0),qo=e.default.memo(({listRowProps:o,fungible:i,isMainnet:l,visibilityOverrides:r})=>{let{t}=L(),{pushDetailView:s}=We(),{chain:m,name:g,tokenAddress:h}=i.data,b=g??t("assetDetailUnknownToken"),S=ue(Ie(i)),f=(0,e.useCallback)(()=>{Ae.capture("assetDetailClick",{data:{address:h,chain:m.name,chainId:de.getChainID(m.id),isNativeOfType:m.name,networkId:m.id,type:"fungible",spamStatus:i.data.spamStatus,name:b}}),s(e.default.createElement(eo,{caip19:S,fungibleKey:i.data.key,splTokenAccount:i.type==="SPL"?i.data.splTokenAccountPubkey:void 0,isSplCompressed:i.type==="CompressedSPL",entryPoint:"home"}))},[i,m,S,s,b,h]);return e.default.createElement("div",{key:o.key,style:o.style},e.default.createElement(Ke,{...Ge(i,r),onClick:()=>f(),showBalance:!0,showCurrencyValues:l,enableAnimations:!0}))}),Ko=ne({seconds:5}),Qo=ne({seconds:10}),Xo=()=>{let{data:o}=ee(),{data:i}=pe(o?.identifier),{shouldShowAdditionalPermissionsInterstitial:l}=io(),r=Re(),{handleShowModalVisibility:t,handleHideModalVisibility:s,isAnyModalOpen:m}=te(),g=(0,e.useCallback)(()=>{o&&t("onramp")},[t,o]),h=(0,e.useCallback)(()=>{o&&t("receive",{account:o,onCloseClick:()=>s("receive")})},[s,t,o]),b=(0,e.useCallback)(()=>{r({})},[r]),S=(0,e.useCallback)(()=>{t("sendFungibleSelect")},[t]),{t:f}=L(),A=(0,e.useMemo)(()=>({manageTokenList:f("homeManageTokenList"),errorTitle:f("homeErrorTitle"),errorDescription:f("homeErrorDescription"),errorButton:f("homeErrorButtonText")}),[f]),{ctaActions:C,shouldShowPartialError:D,partialErrorMessage:z}=Oe({onTappingBuy:g,onTappingReceive:h,onTappingSend:S,onTappingSwap:b,account:o}),B=(0,e.useCallback)(()=>{s("unifiedInterstitial")},[s]),{isOpen:j}=_e(),{shouldShow:V,showFlow:U}=Ne(),{interstitial:q,shouldShow:K}=Ce({onPrimaryAction:B,condition:()=>!j,image:e.default.createElement("img",{src:"/images/sui/onboarding.svg",style:{paddingTop:"16px"}})}),{interstitial:Q,shouldShow:W}=ke({onPrimaryAction:B,onSecondaryAction:B,condition:()=>!j,image:e.default.createElement("img",{src:"/images/arbitrum/onboarding.svg",style:{paddingTop:"16px"}})}),{shouldShowTermsOfServiceUpdateInterstitial:_,setTermsAcknowledgement:ie}=He(),{interstitial:X}=ve({onConfirm:()=>{ie(!0),B()},openUrl:async N=>{self.open(N,"_blank")}});(0,e.useEffect)(()=>{let N=setTimeout(()=>{m()||(_?t("unifiedInterstitial",X):V?U(()=>t("quickClaimUsername",{isDismissable:!1})):K?t("unifiedInterstitial",q):W&&t("unifiedInterstitial",Q))},500);return()=>clearTimeout(N)},[q,t,K,V,U,m,_,X,Q,W]);let{accountBalance:M,accountId:O}=(0,e.useMemo)(()=>({accountBalance:i?.value,accountId:o?.identifier??""}),[i?.value,o?.identifier]),d=o?.isReadOnly,F=!oe(),Y=Pe(N=>N.resetSendSlice);(0,e.useEffect)(function(){O&&Y()},[O,Y]);let{fungibles:$,visibilityOverrides:J,portfolio:R,isHidingAllFungibles:ho,isLoadingVisibilityOverrides:bo,isLoadingTokens:yo,isLoadingPrices:xo,isErrorTokens:wo,refetch:To}=Me({useTokenQueryOptions:{staleTime:Ko,refetchInterval:Qo}}),{mutate:So}=ge();be({accountBalance:M,accountId:O,enabled:F,value:R.value,setAccountBalance:So});let Co=fe();return go($,Co,O),{data:(0,e.useMemo)(()=>({fungibles:$,earnings:R.earnings,value:R.value,isMainnet:F,translations:A,visibilityOverrides:J,ctaActions:C,showReceiveModal:h,handleShowModalVisibility:t,handleHideModalVisibility:s}),[J,$,R,A,F,h,t,s,C]),isHidingAllFungibles:ho,isLoading:bo||yo||xo,isErrorTokens:wo,isReadOnlyAccount:d,refetch:To,shouldShowPartialError:D,partialErrorMessage:z,shouldShowAdditionalPermissionsInterstitial:l}},le="home-tab",Yo=()=>{let{data:[o]}=me(["enable-merge-collectibles"]),{t:i}=L(),{data:l,isHidingAllFungibles:r,isLoading:t,isErrorTokens:s,isReadOnlyAccount:m,refetch:g,shouldShowPartialError:h,partialErrorMessage:b,shouldShowAdditionalPermissionsInterstitial:S}=Xo(),{fungibles:f,translations:A,isMainnet:C,earnings:D,value:z,visibilityOverrides:B,ctaActions:j,handleShowModalVisibility:V}=l,{manageTokenList:U,errorTitle:q,errorDescription:K,errorButton:Q}=A,W=f.length>0,_=(0,e.useRef)(document.getElementById(le));(0,e.useEffect)(()=>{let d=document.getElementById(le);d&&(_.current=d)},[]);let[ie,X]=Fe(jo),M=o?ie:!0,O=(0,e.useCallback)(d=>e.default.createElement(qo,{key:d.key,listRowProps:d,fungible:f[d.index],isMainnet:C,visibilityOverrides:B}),[f,C,B]);return e.default.createElement("div",{id:le,style:{overflowY:M?"auto":void 0,overflowX:"hidden"}},e.default.createElement(uo,{earnings:D,value:z,hasFungibles:W,isErrorTokens:s,isLoading:t,isHidingAllFungibles:r,isReadOnlyAccount:m,showDollarValues:C,shouldShowPartialError:h,partialErrorMessage:b,ctaActions:j}),e.default.createElement(v,{align:"center",padding:"0 16px 16px"},!m&&e.default.createElement(ro,null),!fo()&&e.default.createElement(e.default.Fragment,null,e.default.createElement(no,null)),S&&e.default.createElement(to,null),o?e.default.createElement(k,{direction:"row",gap:12,width:"100%",marginBottom:12},[{title:i("portfolioHomeTokens"),isActive:M},{title:i("portfolioHomeCollectibles"),isActive:!M}].map(d=>e.default.createElement(ye,{key:d.title,font:"title1Semibold",onPress:d.isActive?void 0:()=>X(F=>!F),color:d.isActive?"textPrimary":"textSecondary"},d.title))):null,t?[1,2,3].map(d=>e.default.createElement(je,{key:`fungible-token-row-loader-${d}`})):W?M?e.default.createElement(e.default.Fragment,null,e.default.createElement(Se,{scrollElement:_.current??void 0},({height:d=0,isScrolling:F,registerChild:Y,scrollTop:$})=>e.default.createElement("div",{style:{width:"100%"},ref:Y},e.default.createElement(we,{disableHeight:!0},({width:J})=>e.default.createElement(Te,{autoHeight:!0,width:J,height:d,scrollTop:$,isScrolling:F,rowCount:f.length,rowHeight:qe+10,rowRenderer:O})))),e.default.createElement(ae,{buttonText:U,onClick:()=>V("fungibleVisibility")})):e.default.createElement(k,{size:"100%"},e.default.createElement(so,{hideSearch:!0,padding:0})):r?e.default.createElement(ae,{buttonText:U,onClick:()=>V("fungibleVisibility")}):e.default.createElement(po,{title:q,description:K,buttonText:Q,refetch:g})))},Hi=Yo;export{Hi as default};
//# sourceMappingURL=HomeTabPage-4SDXYWX2.js.map
