import{a as U}from"./chunk-GW3BMC2S.js";import{Ha as J,Ia as Ie,Oa as xe,Pa as Se,Ra as Re,V as B,p as w}from"./chunk-YNOMEZGR.js";import"./chunk-7IWA7VDF.js";import"./chunk-F6R6PZOR.js";import"./chunk-MDZMKEZM.js";import"./chunk-Z2IREGI3.js";import"./chunk-H7JFZ3YS.js";import"./chunk-J75C23KI.js";import"./chunk-FQRSH645.js";import"./chunk-U3NMDQK3.js";import"./chunk-SGGLIP2Q.js";import"./chunk-MOFSVQWA.js";import"./chunk-HUWYOARQ.js";import"./chunk-CRVSDQKM.js";import"./chunk-QNLMWMRR.js";import"./chunk-CCAASF45.js";import"./chunk-FTCKELIN.js";import"./chunk-D5MQIHZE.js";import"./chunk-WAL4SSJC.js";import{g as Ne}from"./chunk-3NW35I2P.js";import"./chunk-7TOQ3J6S.js";import{a as Ee}from"./chunk-QM77BPVG.js";import"./chunk-KI5DTAW7.js";import"./chunk-HCYB2VG2.js";import"./chunk-VECUKCNS.js";import"./chunk-Z2TWY6BT.js";import"./chunk-VDRJSOTK.js";import"./chunk-RALT2YVD.js";import"./chunk-7D7ZBNJK.js";import"./chunk-X3FFOAGQ.js";import"./chunk-7ZVEM3WY.js";import"./chunk-ZVRCX2UV.js";import{c as q}from"./chunk-NSWARKFZ.js";import{ib as fe,p as P}from"./chunk-I6U22RLL.js";import{ba as g,da as X,ea as j,ha as x,ia as G,ka as we}from"./chunk-5HSK4GMQ.js";import"./chunk-UCBZOSRF.js";import"./chunk-27IHK2SF.js";import"./chunk-QCTV7K6S.js";import"./chunk-WUU3X3IN.js";import"./chunk-4AX42N6B.js";import"./chunk-XNDOEJ4N.js";import"./chunk-XIAMBEDX.js";import{b as Le}from"./chunk-M56YM2VY.js";import{c as ge}from"./chunk-WN5BOODY.js";import"./chunk-OCBCUAFE.js";import"./chunk-HKKBRKQE.js";import{$ as Ae,U as he,a as ve,c as De,j as be}from"./chunk-LWEFQGDN.js";import{$b as M,Qd as Ce,Ya as R,bc as ye,cc as _,eb as N}from"./chunk-3GZCHS7Y.js";import"./chunk-3LY6FUZT.js";import"./chunk-SK6BTSEQ.js";import{H as A,x as ke}from"./chunk-BY5XXL4W.js";import"./chunk-WP4K54AS.js";import"./chunk-UCPKAIVR.js";import{B as ue,fa as f}from"./chunk-NL7NWYRL.js";import{a as Te}from"./chunk-57IY32VM.js";import"./chunk-TVMPABNZ.js";import"./chunk-4M6V6BRQ.js";import"./chunk-O2N6PUOM.js";import"./chunk-UNDMYLJW.js";import"./chunk-ICCUGV36.js";import{f as de,h as pe,n as me}from"./chunk-3KENBVE7.js";pe();me();var o=de(Te()),W=de(Te());var je=P.a`
  cursor: pointer;
`,Ge=P.div`
  display: flex;
  justify-content: space-between;
  gap: 8px;
`,L=P.span`
  cursor: pointer;
  color: ${m=>m.color||"white"};
  &:hover {
    color: ${A.colors.legacy.accentPrimary};
  }
`,qe=P.div`
  margin: -16px -16px 0 -16px;
  width: calc(100% + 32px);
  height: calc(100% + 16px);
  overflow-y: auto;
  position: absolute;
  top: 0;
  left: 0;
`,_e=({label:m,url:d})=>o.createElement(je,{onClick:()=>self.open(d)},o.createElement(fe,{color:A.colors.legacy.accentPrimary,noWrap:!0,lineHeight:14,maxWidth:`${Le/2}`,weight:600,size:14},m)),Je=({activityItem:m})=>{let{interactionData:d,chainMeta:V}=m,{t:e}=ke(),{transactionType:O}=d,{status:Pe,networkFee:Be,networkFeePayer:Q}=V,D=V.chainId,b=Pe==="failed",{pushDetailView:Z}=Ne(),{getKnownAddressLabel:Ue}=Ae(),{data:ee}=he(),{handleHideModalVisibility:ae}=Re(),z=(0,W.useCallback)(()=>ae("activityItem"),[ae]),{data:F}=Ce(),te=F?.isReadOnly,c=(0,W.useCallback)((t,a)=>{Z(o.createElement(qe,null,o.createElement(Se,{caip19:t,title:a,entryPoint:"activityItemDetail"})))},[Z]),Oe=Q?F?.addresses.some(t=>t.address.toLowerCase()===Q.toLowerCase()):!1,Fe=ue(m.timestamp*1e3,e("richTransactionDetailAt")),$=R.getTokenDecimals(D),h=R.getTokenSymbol(D),$e=G(Be,$,h),I=o.createElement(w,{activityItem:m,size:"medium"}),u={label:e("richTransactionDetailDate"),value:Fe},oe=g(m.id),Me="dapp"in d?d.dapp?.displayName:void 0,{bridgeUrl:K,isLoading:We}=we(oe,Me),y=[];if(ee){let t=V.chainId,a=ee.explorers[t]??ve.get(t).defaultExplorer,i=be({networkID:t,endpoint:"transaction",explorerType:a,param:oe});i!==""&&y.push({label:e("richTransactionDetailViewOnExplorer",{explorer:De[a]}),value:i,type:"link"})}let S=N({chainId:D,slip44:R.getSlip44(D),resourceType:"nativeToken"}),k=b?{label:e("richTransactionDetailStatus"),value:e("richTransactionDetailFailed"),color:A.colors.legacy.accentAlert}:{label:e("richTransactionDetailStatus"),value:e("historyStatusSucceeded"),color:A.colors.legacy.accentSuccess},C={label:e("richTransactionDetailNetworkFee"),value:Oe?$e:void 0},v={label:e("historyNetwork"),value:R.getNetworkName(D)},ie=xe(),ne=(0,W.useCallback)((t,a)=>{ge.capture("activityItemSwapAgainClicked",{data:{from_asset_caip19:a,to_asset_caip19:t}}),ie({buyFungibleCaip19:t,sellFungibleCaip19:a}),z()},[ie,z]),p;switch(O){case"TOKEN_SEND":{let a=d.balanceChanges[0],i=j(a,F?.addresses??[]),{token:{symbol:n,decimals:l,displayName:s,tokenType:r,isSpam:T},amount:E}=a,se=X(r),le=N(x(a.token,D)),Ve=i?"+":"-",H=l!==void 0?`${f(E,l)} ${n||""}`:e("transactionsUnknownAmount"),ze=`${Ve}${H}`,Y=g(i?a.from:a.to),ce=ye(Y,void 0,Ue(Y,D)),Ke={label:e(i?"richTransactionDetailFrom":"richTransactionDetailTo"),value:o.createElement(U,{delayedChildren:o.createElement(B,{alignment:"topCenter",copyString:Y},ce)},ce)},re=Xe=>o.createElement(L,{onClick:()=>c(le,a.token.symbol),color:i&&!b?A.colors.legacy.accentSuccess:void 0},Xe),He=b?[{label:e("historyAttemptedAmount"),value:H}]:[],Ye=b?e("transactionsSendFailed"):`${e("transactionsSent")}`;p={sections:[{rows:[u,k,Ke,v,C,...He,...y]}],title:i?e("transactionsReceived"):Ye,primaryText:se?{value:s||e("richTransactionDetailUnknownNFT")}:b||l===void 0?{value:re(H)}:{value:re(ze)},secondaryText:{value:""},image:se?I:o.createElement(w,{activityItem:m,size:"medium",onClick:()=>c(le,a.token.symbol)}),warning:i&&T?e("spamActivityWarning"):""};break}case"TOKEN_BURN":{let{amount:t,token:a}=d,i="";b||(a.displayName?t==="1"?i=a.displayName:i=`${a.displayName} (${t})`:i=e("richTransactionDetailUnknownNFT")),p={sections:[{rows:[u,k,v,C,...y]}],title:e("richTransactionDetailBurned"),primaryText:{value:i},secondaryText:{value:""},image:I};break}case"TOKEN_SWAP":{let{receiveAmount:t,receiveToken:a,sendAmount:i,sendToken:n,dapp:l}=d,s=_(g(n.id)||""),r=_(g(a.id)||""),T=N(x(n,D)),E=N(x(a,D));p={sections:[{rows:[u,k,v,C]},{title:e("richTransactionDetailSwapDetails"),rows:[{label:e("richTransactionDetailProvider"),value:l?.displayName&&l.logoURI?o.createElement(J,{name:l.displayName,imageURL:l.logoURI}):l?.displayName||e("historyUnknownDappName")},{label:e("richTransactionDetailYouPaid"),value:G(i,n.decimals,n.symbol||""),onClick:()=>c(T,n.symbol||s)},{label:e("richTransactionDetailYouReceived"),value:a.decimals!==void 0?`+${f(t,a.decimals)} ${a.symbol||""}`:e("transactionsUnknownAmount"),color:a.decimals!==void 0&&!b?A.colors.legacy.accentSuccess:"",onClick:()=>c(E,a.symbol||r)},...y]}],title:e("richTransactionDetailTokenSwap"),primaryText:{value:o.createElement(o.Fragment,null,o.createElement(L,{onClick:()=>c(T,n.symbol||s)},n.symbol||s)," \u2192 ",o.createElement(L,{onClick:()=>c(E,a.symbol||r)},a.symbol||r))},secondaryText:{value:""},image:o.createElement(w,{activityItem:m,size:"medium",onClick:te?void 0:()=>ne(E,T)}),swapAgain:te?void 0:{sendToken:T,receiveToken:E}};break}case"BRIDGE_INIT":{let a=d.balanceChanges[0],i=j(a,F?.addresses??[]),{token:{symbol:n,decimals:l},amount:s}=a,r=N(x(a.token,D)),T=l!==void 0?`${f(s,l)} ${n||""}`:e("transactionsUnknownAmount"),E=We||!K?[]:[{label:K.label,value:K.value,type:"link"}];p={sections:[{rows:[u,k,v,C,...E]}],title:b?e("transactionBridgeInitiatedFailed"):`${e("transactionBridgeInitiated")}`,primaryText:{value:o.createElement(L,{onClick:()=>c(r,n),color:i&&!b?A.colors.legacy.accentSuccess:void 0},T)},secondaryText:{value:""},image:o.createElement(w,{activityItem:m,size:"medium",onClick:()=>c(r,n)})};break}case"TOKEN_UNWRAP":{let{token:t,amount:a}=d,i=_(g(t.id)||""),n=N(x(t,D)),l=t.decimals!==void 0?`+${f(a,t.decimals)} ${t.symbol||""}`:e("transactionsUnknownAmount");p={sections:[{rows:[u,k,v,C]},{title:e("richTransactionDetailUnwrapDetails"),rows:[{label:e("richTransactionDetailYouReceived"),value:o.createElement(L,{onClick:()=>c(n,t.symbol),color:b?void 0:A.colors.legacy.accentSuccess},l)},...y]}],title:e("richTransactionDetailTokenUnwrap"),primaryText:{value:o.createElement(L,{onClick:()=>c(n,t.symbol)},t.symbol||i)},secondaryText:{value:""},image:o.createElement(w,{activityItem:m,size:"medium",onClick:()=>c(n,t.symbol)})};break}case"WITHDRAW_STAKE":{let{amount:t,stakeAccount:a}=d,i=g(a),n=M(i,4);p={sections:[{rows:[u,k,{label:e("richTransactionDetailAccount"),value:o.createElement(U,{delayedChildren:o.createElement(B,{alignment:"topCenter",copyString:i},n)},n)},v,C,...y]}],title:e("richTransactionDetailWithdrawStake"),primaryText:{value:o.createElement(L,{onClick:()=>c(S,h),color:b?void 0:A.colors.legacy.accentSuccess},"+",f(t,$)," ",h)},secondaryText:{value:""},image:o.createElement(w,{activityItem:m,size:"medium",onClick:()=>c(S,h)})};break}case"DEACTIVATE_STAKE":{let{amount:t,stakeAccount:a}=d,i=g(a),n=M(i,4);p={sections:[{rows:[u,k,{label:e("richTransactionDetailAccount"),value:o.createElement(U,{delayedChildren:o.createElement(B,{alignment:"topCenter",copyString:i},n)},n)},v,C,...y]}],title:e("richTransactionDetailUnstaked"),primaryText:{value:o.createElement(L,{onClick:()=>c(S,h)},f(t,$)," ",h)},secondaryText:{value:""},image:o.createElement(w,{activityItem:m,size:"medium",onClick:()=>c(S,h)})};break}case"STAKE":{let{amount:t,stakeAccount:a,validatorName:i,validatorWebsite:n}=d,l=g(a),s=M(l,4);p={sections:[{rows:[u,k,{label:e("richTransactionDetailAccount"),value:o.createElement(U,{delayedChildren:o.createElement(B,{alignment:"topCenter",copyString:l},s)},s)},{label:"Validator",value:i&&n?o.createElement(_e,{label:i,url:n}):i},v,C,...y]}],title:e("richTransactionDetailStaked"),primaryText:{value:o.createElement(L,{onClick:()=>c(S,h)},"-",f(t,$)," ",h)},secondaryText:{value:""},image:o.createElement(w,{activityItem:m,size:"medium",onClick:()=>c(S,h)})};break}case"COLLECTIBLE_LIST":case"COLLECTIBLE_BUY_ITEM":case"COLLECTIBLE_CANCEL_BID":case"COLLECTIBLE_BID_ITEM":case"COLLECTIBLE_UNLIST":case"COLLECTIBLE_SELL_ITEM":{let{dapp:t,item:a,forAmount:i,forAsset:n,listingUrl:l}=d,s=n.decimals!==void 0?`${f(i,n.decimals)} ${n.symbol||""}`:e("transactionsUnknownAmount"),r=a.displayName||e("richTransactionDetailUnknownNFT"),T={COLLECTIBLE_LIST:{priceRow:{label:e("richTransactionDetailListingPrice"),value:s},sectionTitle:e("richTransactionDetailListingDetails"),detailTitle:e("richTransactionDetailListed")},COLLECTIBLE_UNLIST:{priceRow:{label:e("richTransactionDetailOriginalListingPrice"),value:s},sectionTitle:e("richTransactionDetailListingDetails"),detailTitle:e("richTransactionDetailUnlisted")},COLLECTIBLE_BID_ITEM:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailBidDetails"),detailTitle:e("richTransactionDetailBid")},COLLECTIBLE_CANCEL_BID:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailBidDetails"),detailTitle:e("richTransactionDetailCancelBid")},COLLECTIBLE_BUY_ITEM:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailPurchaseDetails"),detailTitle:e("richTransactionDetailBought")},COLLECTIBLE_SELL_ITEM:{priceRow:{label:e("richTransactionDetailPrice"),value:s},sectionTitle:e("richTransactionDetailSaleDetails"),detailTitle:e("richTransactionDetailSold")}};p={sections:[{rows:[u,k,v,C]},{title:T[O].sectionTitle,rows:[T[O].priceRow,{label:e("richTransactionDetailItem"),value:r&&l?o.createElement(_e,{label:r,url:l}):r},{label:e("richTransactionDetailMarketplace"),value:t?.displayName&&t?.logoURI?o.createElement(J,{name:t.displayName,imageURL:t.logoURI}):t?.displayName||""},...y]}],title:T[O].detailTitle,primaryText:{value:r},secondaryText:{value:""},image:I};break}case"CANCEL_TX":{p={sections:[{rows:[u,k,v,C,...y]}],title:e("transactionCancelled"),primaryText:{value:""},secondaryText:{value:""},image:I};break}case"TOKEN_APPROVAL":{let{dapp:t,token:a,isApproved:i}=d,n=t?.displayName||e("historyUnknownDappName"),l=t?.displayName?[{label:e("transactionApproveAppLabel"),value:t?.displayName}]:[],s=_(g(a.id)||""),r=X(a.tokenType)?a.displayName:a.symbol,T=N(x(a,D));p={sections:[{rows:[u,k,v,C]},{title:e("transactionApproveDetailsTitle"),rows:[...l,{label:e("transactionApproveTokenLabel"),value:r||s,onClick:()=>c(T,r||s)},...y]}],title:o.createElement(L,{onClick:()=>c(T,r||s)},e(i?"transactionApproveToken":"transactionRevokeApproveToken",{tokenSymbol:r||""})),primaryText:{value:""},secondaryText:{value:n},image:o.createElement(w,{activityItem:m,size:"medium",onClick:()=>c(T,r||s)})};break}case"COLLECTION_APPROVAL":{let{dapp:t,collection:a,isApproved:i}=d,n=t?.displayName||e("historyUnknownDappName"),l=t?.displayName?[{label:e("transactionApproveAppLabel"),value:t?.displayName}]:[],s=a.displayName;p={sections:[{rows:[u,k,v,C]},{title:e("transactionApproveDetailsTitle"),rows:[...l,{label:e("transactionApproveCollectionLabel"),value:s},...y]}],title:e(i?"transactionApproveToken":"transactionRevokeApproveToken",{tokenSymbol:s}),primaryText:{value:""},secondaryText:{value:n},image:I};break}case"CANCEL_ORDER":{let{dapp:t}=d;p={sections:[{rows:[u,k,v,C,...y]}],title:e("transactionCancelOrder"),primaryText:{value:""},secondaryText:{value:t?.displayName||e("historyUnknownDappName")},image:I};break}case"UNCLASSIFIED_APP_INTERACTION":default:{let{dapp:t}=d,a=t?.displayName||e("historyUnknownDappName");p={sections:[{rows:[u,k,v,C,...y]}],title:e("richTransactionDetailAppInteraction"),primaryText:{value:""},secondaryText:{value:a},image:I};break}}return o.createElement(o.Fragment,null,o.createElement(Ie,{...p}),o.createElement(Ee,{removeFooterExpansion:!1},o.createElement(Ge,null,o.createElement(q,{onClick:z},e("commandClose")),p.swapAgain&&o.createElement(q,{onClick:()=>ne(p.swapAgain.receiveToken,p.swapAgain.sendToken),theme:"primary"},e("commandSwapAgain")))))},ga=Je;export{Je as ActivityItemDetail,_e as Link,ga as default};
//# sourceMappingURL=ActivityItemDetail-5IWXKXWD.js.map
