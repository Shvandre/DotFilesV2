import{gO as li,gP as di,gQ as q,gR as $e,gS as Vn,gT as F,gU as le,gV as J,gW as he,gX as hi,gY as pi,gZ as gi,g_ as yi,g$ as vi,gN as er,h0 as _i,h1 as Ri,h2 as mi,r as z,b7 as Ci,i as Ti,a9 as Si,h3 as Ei,a$ as bi,j as ae,bd as wi,K as Oi,k as Ii,N as Di}from"./main.BJ1Zz46B.js";import{r as Bi,H as Ai,B as Pi,K as Mi}from"./AccountView.CMRZeGV7.js";import"./index.D14i0AOK.js";import"./TransitionGroup.9hOyNVKg.js";var ye={},gt={exports:{}},yt={},vt={};const Ni=li(di);var _t={},ve={},Rt={},nt={exports:{}},_e={},dr;function or(){if(dr)return _e;dr=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.DataItem=void 0;let i=class{constructor(C,E){this.setTag=g=>{this.tag=g},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=C,this.tag=E}};return _e.DataItem=i,_e}var Li=nt.exports,hr;function Ui(){return hr||(hr=1,function(i){(function(p,C){i.exports?i.exports=C():p.CBOR=C()})(Li,function(){const{DataItem:p}=or();var C=function(){function E(c){this.$hex=c}E.prototype={length:function(){return this.$hex.length/2},toString:function(c){if(!c||c==="hex"||c===16)return this.$hex;if(c==="utf-8"){for(var m="",w=0;w<this.$hex.length;w+=2)m+="%"+this.$hex.substring(w,w+2);return decodeURIComponent(m)}if(c==="latin"){for(var m=[],w=0;w<this.$hex.length;w+=2)m.push(parseInt(this.$hex.substring(w,w+2),16));return String.fromCharCode.apply(String,m)}throw new Error("Unrecognised format: "+c)}},E.fromLatinString=function(c){for(var m="",w=0;w<c.length;w++){var B=c.charCodeAt(w).toString(16);B.length===1&&(B="0"+B),m+=B}return new E(m)},E.fromUtf8String=function(c){for(var m=encodeURIComponent(c),w="",B=0;B<m.length;B++)if(m.charAt(B)==="%")w+=m.substring(B+1,B+3),B+=2;else{var M=m.charCodeAt(B).toString(16);M.length<2&&(M="0"+M),w+=M}return new E(w)};var g=[],r={},e=function(c){return function(){throw new Error(c+" not implemented")}};function o(){}o.prototype={peekByte:e("peekByte"),readByte:e("readByte"),readChunk:e("readChunk"),readFloat16:function(){var c=this.readUint16(),m=(c&32767)>>10,w=c&1023,B=c&32768;if(m===31)return w===0?B?-1/0:1/0:NaN;var M=m?Math.pow(2,m-25)*(1024+w):Math.pow(2,-24)*w;return B?-M:M},readFloat32:function(){var c=this.readUint32(),m=(c&2147483647)>>23,w=c&8388607,B=c&2147483648;if(m===255)return w===0?B?-1/0:1/0:NaN;var M=m?Math.pow(2,m-23-127)*(8388608+w):Math.pow(2,-149)*w;return B?-M:M},readFloat64:function(){var c=this.readUint32(),m=this.readUint32(),w=c>>20&2047,B=(c&1048575)*4294967296+m,M=c&2147483648;if(w===2047)return B===0?M?-1/0:1/0:NaN;var H=w?Math.pow(2,w-52-1023)*(4503599627370496+B):Math.pow(2,-1074)*B;return M?-H:H},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:e("writeByte"),result:e("result"),writeFloat16:e("writeFloat16"),writeFloat32:e("writeFloat32"),writeFloat64:e("writeFloat64"),writeUint16:function(c){this.writeByte(c>>8&255),this.writeByte(c&255)},writeUint32:function(c){this.writeUint16(c>>16&65535),this.writeUint16(c&65535)},writeUint64:function(c){if(c>=9007199254740992||c<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+c+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(c/4294967296)),this.writeUint32(c%4294967296)},writeString:e("writeString"),canWriteBinary:function(c){return!1},writeBinary:e("writeChunk")};function d(c){var m=c.readByte(),w=m>>5,B=m&31;return{type:w,value:B}}function u(c,m){var w=c.value;if(w<24)return w;if(w==24)return m.readByte();if(w==25)return m.readUint16();if(w==26)return m.readUint32();if(w==27)return m.readUint64();if(w==31)return null;e("Additional info: "+w)()}function l(c,m,w){w.writeByte(c<<5|m)}function h(c,m,w){var B=c<<5;m<24?w.writeByte(B|m):m<256?(w.writeByte(B|24),w.writeByte(m)):m<65536?(w.writeByte(B|25),w.writeUint16(m)):m<4294967296?(w.writeByte(B|26),w.writeUint32(m)):(w.writeByte(B|27),w.writeUint64(m))}var t=new Error;function f(c){var m=d(c);switch(m.type){case 0:return u(m,c);case 1:return-1-u(m,c);case 2:return c.readChunk(u(m,c));case 3:var w=c.readChunk(u(m,c));return w.toString("utf-8");case 4:case 5:var B=u(m,c),V=[];if(B!==null){m.type===5&&(B*=2);for(var M=0;M<B;M++)V[M]=f(c)}else for(var H;(H=f(c))!==t;)V.push(H);if(m.type===5){for(var U={},M=0;M<V.length;M+=2)U[V[M]]=V[M+1];return U}else return V;case 6:var Y=u(m,c),$=r[Y],V=f(c);return $?$(V):V;case 7:if(m.value===25)return c.readFloat16();if(m.value===26)return c.readFloat32();if(m.value===27)return c.readFloat64();switch(u(m,c)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return t;default:throw new Error("Unknown fixed value: "+m.value)}default:throw new Error("Unsupported header: "+JSON.stringify(m))}throw new Error("not implemented yet")}function a(c,m){for(var w=0;w<g.length;w++){var B=g[w].fn(c);if(B!==void 0)return h(6,g[w].tag,m),a(B,m)}if(c&&typeof c.toCBOR=="function"&&(c=c.toCBOR()),c===!1)h(7,20,m);else if(c===!0)h(7,21,m);else if(c===null)h(7,22,m);else if(c===void 0)h(7,23,m);else if(typeof c=="number")Math.floor(c)===c&&c<9007199254740992&&c>-9007199254740992?c<0?h(1,-1-c,m):h(0,c,m):(l(7,27,m),m.writeFloat64(c));else if(typeof c=="string")m.writeString(c,function(H){h(3,H,m)});else if(m.canWriteBinary(c))m.writeBinary(c,function(H){h(2,H,m)});else if(typeof c=="object")if(v.config.useToJSON&&typeof c.toJSON=="function"&&(c=c.toJSON()),Array.isArray(c)){h(4,c.length,m);for(var w=0;w<c.length;w++)a(c[w],m)}else{var M=Object.keys(c);h(5,M.length,m);for(var w=0;w<M.length;w++){const U=parseInt(M[w]);isNaN(U)?(a(M[w],m),a(c[M[w]],m)):(a(U,m),a(c[M[w]],m))}}else throw new Error("CBOR encoding not supported: "+c)}var y=[],n=[],v={config:{useToJSON:!0},addWriter:function(c,m){typeof c=="string"?n.push(function(w){if(c===w)return m(w)}):n.push(c)},addReader:function(c,m){typeof c=="string"?y.push(function(w,B){if(c===B)return m(w,B)}):y.push(c)},encode:function(c,m){for(var w=0;w<n.length;w++){var B=n[w],M=B(m);if(M)return a(c,M),M.result()}throw new Error("Unsupported output format: "+m)},encodeDataItem:function(c,m){for(var w=0;w<n.length;w++){var B=n[w],M=B(m);if(M)return c.getTag()!==void 0?(a(c,M),M.result()):(a(c.getData(),M),M.result())}throw new Error("Unsupported output format: "+m)},decode:function(c,m){for(var w=0;w<y.length;w++){var B=y[w],M=B(c,m);if(M)return f(M)}throw new Error("Unsupported input format: "+m)},decodeToDataItem:function(c,m){for(var w=0;w<y.length;w++){var B=y[w],M=B(c,m);if(M){const H=f(M);return H instanceof p?H:new p(H)}}throw new Error("Unsupported input format: "+m)},addSemanticEncode:function(c,m){if(typeof c!="number"||c%1!==0||c<0)throw new Error("Tag must be a positive integer");return g.push({tag:c,fn:m}),this},addSemanticDecode:function(c,m){if(typeof c!="number"||c%1!==0||c<0)throw new Error("Tag must be a positive integer");return r[c]=m,this}};function T(c){this.buffer=c,this.pos=0}T.prototype=Object.create(o.prototype),T.prototype.peekByte=function(){return this.buffer[this.pos]},T.prototype.readByte=function(){return this.buffer[this.pos++]},T.prototype.readUint16=function(){var c=this.buffer.readUInt16BE(this.pos);return this.pos+=2,c},T.prototype.readUint32=function(){var c=this.buffer.readUInt32BE(this.pos);return this.pos+=4,c},T.prototype.readFloat32=function(){var c=this.buffer.readFloatBE(this.pos);return this.pos+=4,c},T.prototype.readFloat64=function(){var c=this.buffer.readDoubleBE(this.pos);return this.pos+=8,c},T.prototype.readChunk=function(c){var m=q.Buffer.alloc(c);return this.buffer.copy(m,0,this.pos,this.pos+=c),m};function S(c){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=q.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=c}S.prototype=Object.create(s.prototype),S.prototype.writeByte=function(c){this.latestBuffer[this.latestBufferOffset++]=c,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=q.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},S.prototype.writeFloat32=function(c){var m=q.Buffer.alloc(4);m.writeFloatBE(c,0),this.writeBuffer(m)},S.prototype.writeFloat64=function(c){var m=q.Buffer.alloc(8);m.writeDoubleBE(c,0),this.writeBuffer(m)},S.prototype.writeString=function(c,m){var w=q.Buffer.from(c,"utf-8");m(w.length),this.writeBuffer(w)},S.prototype.canWriteBinary=function(c){return c instanceof q.Buffer},S.prototype.writeBinary=function(c,m){m(c.length),this.writeBuffer(c)},S.prototype.writeBuffer=function(c){if(!(c instanceof q.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=c.length?(c.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=c.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=q.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(c),this.latestBuffer=q.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(c),this.byteLength+=c.length},S.prototype.result=function(){for(var c=q.Buffer.alloc(this.byteLength),m=0,w=0;w<this.completeBuffers.length;w++){var B=this.completeBuffers[w];B.copy(c,m,0,B.length),m+=B.length}return this.latestBufferOffset&&this.latestBuffer.copy(c,m,0,this.latestBufferOffset),this.stringFormat?c.toString(this.stringFormat):c},typeof q.Buffer=="function"&&(v.addReader(function(c,m){if(q.Buffer.isBuffer(c))return new T(c);if(m==="hex"||m==="base64"){var w=q.Buffer.from(c,m);return new T(w)}}),v.addWriter(function(c){if(!c||c==="buffer")return new S;if(c==="hex"||c==="base64")return new S(c)}));function b(c){this.hex=c,this.pos=0}b.prototype=Object.create(o.prototype),b.prototype.peekByte=function(){var c=this.hex.substring(this.pos,2);return parseInt(c,16)},b.prototype.readByte=function(){var c=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(c,16)},b.prototype.readChunk=function(c){var m=this.hex.substring(this.pos,this.pos+c*2);return this.pos+=c*2,typeof q.Buffer=="function"?q.Buffer.from(m,"hex"):new E(m)};function O(c){this.$hex="",this.finalFormat=c||"hex"}return O.prototype=Object.create(s.prototype),O.prototype.writeByte=function(c){if(c<0||c>255)throw new Error("Byte value out of range: "+c);var m=c.toString(16);m.length==1&&(m="0"+m),this.$hex+=m},O.prototype.canWriteBinary=function(c){return c instanceof E||typeof q.Buffer=="function"&&c instanceof q.Buffer},O.prototype.writeBinary=function(c,m){if(c instanceof E)m(c.length()),this.$hex+=c.$hex;else if(typeof q.Buffer=="function"&&c instanceof q.Buffer)m(c.length),this.$hex+=c.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},O.prototype.result=function(){return this.finalFormat==="buffer"&&typeof q.Buffer=="function"?q.Buffer.from(this.$hex,"hex"):new E(this.$hex).toString(this.finalFormat)},O.prototype.writeString=function(c,m){var w=E.fromUtf8String(c);m(w.length()),this.$hex+=w.$hex},v.addReader(function(c,m){if(c instanceof E||c.$hex)return new b(c.$hex);if(m==="hex")return new b(c)}),v.addWriter(function(c){if(c==="hex")return new O}),v}();return C.addSemanticEncode(0,function(E){if(E instanceof Date)return E.toISOString()}).addSemanticDecode(0,function(E){return new Date(E)}).addSemanticDecode(1,function(E){return new Date(E)}),C})}(nt)),nt.exports}var pr;function X(){return pr||(pr=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DataItem=i.addWriter=i.addReader=i.addSemanticEncode=i.addSemanticDecode=i.decodeToDataItem=i.encodeDataItem=void 0;var p=Ui();Object.defineProperty(i,"encodeDataItem",{enumerable:!0,get:function(){return p.encodeDataItem}}),Object.defineProperty(i,"decodeToDataItem",{enumerable:!0,get:function(){return p.decodeToDataItem}}),Object.defineProperty(i,"addSemanticDecode",{enumerable:!0,get:function(){return p.addSemanticDecode}}),Object.defineProperty(i,"addSemanticEncode",{enumerable:!0,get:function(){return p.addSemanticEncode}}),Object.defineProperty(i,"addReader",{enumerable:!0,get:function(){return p.addReader}}),Object.defineProperty(i,"addWriter",{enumerable:!0,get:function(){return p.addWriter}});var C=or();Object.defineProperty(i,"DataItem",{enumerable:!0,get:function(){return C.DataItem}})}(Rt)),Rt}var gr;function tr(){if(gr)return ve;gr=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.patchTags=void 0;const i=X(),p=[],C=E=>{E.forEach(g=>{p.find(r=>r===g)||((0,i.addSemanticEncode)(g,r=>{if(r instanceof i.DataItem&&r.getTag()===g)return r.getData()}),(0,i.addSemanticDecode)(g,r=>new i.DataItem(r,g)),p.push(g))})};return ve.patchTags=C,ve}var ne={},yr;function W(){if(yr)return ne;yr=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.RegistryTypes=ne.RegistryType=void 0;let i=class{constructor(C,E){this.type=C,this.tag=E,this.getTag=()=>this.tag,this.getType=()=>this.type}};return ne.RegistryType=i,ne.RegistryTypes={UUID:new i("uuid",37),BYTES:new i("bytes",void 0),CRYPTO_HDKEY:new i("crypto-hdkey",303),CRYPTO_KEYPATH:new i("crypto-keypath",304),CRYPTO_COIN_INFO:new i("crypto-coin-info",305),CRYPTO_ECKEY:new i("crypto-eckey",306),CRYPTO_OUTPUT:new i("crypto-output",308),CRYPTO_PSBT:new i("crypto-psbt",310),CRYPTO_ACCOUNT:new i("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new i("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new i("qr-hardware-call",1201),KEY_DERIVATION_CALL:new i("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new i("key-derivation-schema",1302)},ne}var mt={},vr;function sr(){return vr||(vr=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.ScriptExpressions=i.ScriptExpression=void 0;class p{constructor(E,g){this.tag=E,this.expression=g,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}i.ScriptExpression=p,p.fromTag=C=>Object.values(i.ScriptExpressions).find(g=>g.getTag()===C),i.ScriptExpressions={SCRIPT_HASH:new p(400,"sh"),WITNESS_SCRIPT_HASH:new p(401,"wsh"),PUBLIC_KEY:new p(402,"pk"),PUBLIC_KEY_HASH:new p(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new p(404,"wpkh"),COMBO:new p(405,"combo"),MULTISIG:new p(406,"multi"),SORTED_MULTISIG:new p(407,"sortedmulti"),ADDRESS:new p(307,"addr"),RAW_SCRIPT:new p(408,"raw")}}(mt)),mt}var _r;function Rr(){if(_r)return _t;_r=1,Object.defineProperty(_t,"__esModule",{value:!0});const i=tr(),p=W(),C=sr(),E=Object.values(p.RegistryTypes).filter(r=>!!r.getTag()).map(r=>r.getTag()),g=Object.values(C.ScriptExpressions).map(r=>r.getTag());return(0,i.patchTags)(E.concat(g)),_t}var Re={},et={exports:{}},tt={exports:{}},mr;function Gn(){if(mr)return tt.exports;mr=1;var i=typeof Reflect=="object"?Reflect:null,p=i&&typeof i.apply=="function"?i.apply:function(b,O,c){return Function.prototype.apply.call(b,O,c)},C;i&&typeof i.ownKeys=="function"?C=i.ownKeys:Object.getOwnPropertySymbols?C=function(b){return Object.getOwnPropertyNames(b).concat(Object.getOwnPropertySymbols(b))}:C=function(b){return Object.getOwnPropertyNames(b)};function E(S){console&&console.warn&&console.warn(S)}var g=Number.isNaN||function(b){return b!==b};function r(){r.init.call(this)}tt.exports=r,tt.exports.once=n,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var e=10;function o(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return e},set:function(S){if(typeof S!="number"||S<0||g(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");e=S}}),r.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(b){if(typeof b!="number"||b<0||g(b))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+b+".");return this._maxListeners=b,this};function s(S){return S._maxListeners===void 0?r.defaultMaxListeners:S._maxListeners}r.prototype.getMaxListeners=function(){return s(this)},r.prototype.emit=function(b){for(var O=[],c=1;c<arguments.length;c++)O.push(arguments[c]);var m=b==="error",w=this._events;if(w!==void 0)m=m&&w.error===void 0;else if(!m)return!1;if(m){var B;if(O.length>0&&(B=O[0]),B instanceof Error)throw B;var M=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw M.context=B,M}var H=w[b];if(H===void 0)return!1;if(typeof H=="function")p(H,this,O);else for(var U=H.length,Y=f(H,U),c=0;c<U;++c)p(Y[c],this,O);return!0};function d(S,b,O,c){var m,w,B;if(o(O),w=S._events,w===void 0?(w=S._events=Object.create(null),S._eventsCount=0):(w.newListener!==void 0&&(S.emit("newListener",b,O.listener?O.listener:O),w=S._events),B=w[b]),B===void 0)B=w[b]=O,++S._eventsCount;else if(typeof B=="function"?B=w[b]=c?[O,B]:[B,O]:c?B.unshift(O):B.push(O),m=s(S),m>0&&B.length>m&&!B.warned){B.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+B.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=S,M.type=b,M.count=B.length,E(M)}return S}r.prototype.addListener=function(b,O){return d(this,b,O,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(b,O){return d(this,b,O,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(S,b,O){var c={fired:!1,wrapFn:void 0,target:S,type:b,listener:O},m=u.bind(c);return m.listener=O,c.wrapFn=m,m}r.prototype.once=function(b,O){return o(O),this.on(b,l(this,b,O)),this},r.prototype.prependOnceListener=function(b,O){return o(O),this.prependListener(b,l(this,b,O)),this},r.prototype.removeListener=function(b,O){var c,m,w,B,M;if(o(O),m=this._events,m===void 0)return this;if(c=m[b],c===void 0)return this;if(c===O||c.listener===O)--this._eventsCount===0?this._events=Object.create(null):(delete m[b],m.removeListener&&this.emit("removeListener",b,c.listener||O));else if(typeof c!="function"){for(w=-1,B=c.length-1;B>=0;B--)if(c[B]===O||c[B].listener===O){M=c[B].listener,w=B;break}if(w<0)return this;w===0?c.shift():a(c,w),c.length===1&&(m[b]=c[0]),m.removeListener!==void 0&&this.emit("removeListener",b,M||O)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(b){var O,c,m;if(c=this._events,c===void 0)return this;if(c.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):c[b]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete c[b]),this;if(arguments.length===0){var w=Object.keys(c),B;for(m=0;m<w.length;++m)B=w[m],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(O=c[b],typeof O=="function")this.removeListener(b,O);else if(O!==void 0)for(m=O.length-1;m>=0;m--)this.removeListener(b,O[m]);return this};function h(S,b,O){var c=S._events;if(c===void 0)return[];var m=c[b];return m===void 0?[]:typeof m=="function"?O?[m.listener||m]:[m]:O?y(m):f(m,m.length)}r.prototype.listeners=function(b){return h(this,b,!0)},r.prototype.rawListeners=function(b){return h(this,b,!1)},r.listenerCount=function(S,b){return typeof S.listenerCount=="function"?S.listenerCount(b):t.call(S,b)},r.prototype.listenerCount=t;function t(S){var b=this._events;if(b!==void 0){var O=b[S];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}r.prototype.eventNames=function(){return this._eventsCount>0?C(this._events):[]};function f(S,b){for(var O=new Array(b),c=0;c<b;++c)O[c]=S[c];return O}function a(S,b){for(;b+1<S.length;b++)S[b]=S[b+1];S.pop()}function y(S){for(var b=new Array(S.length),O=0;O<b.length;++O)b[O]=S[O].listener||S[O];return b}function n(S,b){return new Promise(function(O,c){function m(B){S.removeListener(b,w),c(B)}function w(){typeof S.removeListener=="function"&&S.removeListener("error",m),O([].slice.call(arguments))}T(S,b,w,{once:!0}),b!=="error"&&v(S,m,{once:!0})})}function v(S,b,O){typeof S.on=="function"&&T(S,"error",b,O)}function T(S,b,O,c){if(typeof S.on=="function")c.once?S.once(b,O):S.on(b,O);else if(typeof S.addEventListener=="function")S.addEventListener(b,function m(w){c.once&&S.removeEventListener(b,m),O(w)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return tt.exports}var Ct,Cr;function Yn(){return Cr||(Cr=1,Ct=Gn().EventEmitter),Ct}var Tt,Tr;function qi(){if(Tr)return Tt;Tr=1;function i(f,a){var y=Object.keys(f);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(f);a&&(n=n.filter(function(v){return Object.getOwnPropertyDescriptor(f,v).enumerable})),y.push.apply(y,n)}return y}function p(f){for(var a=1;a<arguments.length;a++){var y=arguments[a]!=null?arguments[a]:{};a%2?i(Object(y),!0).forEach(function(n){C(f,n,y[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(y)):i(Object(y)).forEach(function(n){Object.defineProperty(f,n,Object.getOwnPropertyDescriptor(y,n))})}return f}function C(f,a,y){return a=e(a),a in f?Object.defineProperty(f,a,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[a]=y,f}function E(f,a){if(!(f instanceof a))throw new TypeError("Cannot call a class as a function")}function g(f,a){for(var y=0;y<a.length;y++){var n=a[y];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(f,e(n.key),n)}}function r(f,a,y){return a&&g(f.prototype,a),Object.defineProperty(f,"prototype",{writable:!1}),f}function e(f){var a=o(f,"string");return typeof a=="symbol"?a:String(a)}function o(f,a){if(typeof f!="object"||f===null)return f;var y=f[Symbol.toPrimitive];if(y!==void 0){var n=y.call(f,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(f)}var s=$e(),d=s.Buffer,u=Vn,l=u.inspect,h=l&&l.custom||"inspect";function t(f,a,y){d.prototype.copy.call(f,a,y)}return Tt=function(){function f(){E(this,f),this.head=null,this.tail=null,this.length=0}return r(f,[{key:"push",value:function(y){var n={data:y,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(y){var n={data:y,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var n=this.head,v=""+n.data;n=n.next;)v+=y+n.data;return v}},{key:"concat",value:function(y){if(this.length===0)return d.alloc(0);for(var n=d.allocUnsafe(y>>>0),v=this.head,T=0;v;)t(v.data,n,T),T+=v.data.length,v=v.next;return n}},{key:"consume",value:function(y,n){var v;return y<this.head.data.length?(v=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?v=this.shift():v=n?this._getString(y):this._getBuffer(y),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var n=this.head,v=1,T=n.data;for(y-=T.length;n=n.next;){var S=n.data,b=y>S.length?S.length:y;if(b===S.length?T+=S:T+=S.slice(0,y),y-=b,y===0){b===S.length?(++v,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=S.slice(b));break}++v}return this.length-=v,T}},{key:"_getBuffer",value:function(y){var n=d.allocUnsafe(y),v=this.head,T=1;for(v.data.copy(n),y-=v.data.length;v=v.next;){var S=v.data,b=y>S.length?S.length:y;if(S.copy(n,n.length-y,0,b),y-=b,y===0){b===S.length?(++T,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=S.slice(b));break}++T}return this.length-=T,n}},{key:h,value:function(y,n){return l(this,p(p({},n),{},{depth:0,customInspect:!1}))}}]),f}(),Tt}var St,Sr;function $n(){if(Sr)return St;Sr=1;function i(e,o){var s=this,d=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return d||u?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,F.nextTick(g,this,e)):F.nextTick(g,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(l){!o&&l?s._writableState?s._writableState.errorEmitted?F.nextTick(C,s):(s._writableState.errorEmitted=!0,F.nextTick(p,s,l)):F.nextTick(p,s,l):o?(F.nextTick(C,s),o(l)):F.nextTick(C,s)}),this)}function p(e,o){g(e,o),C(e)}function C(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function E(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function g(e,o){e.emit("error",o)}function r(e,o){var s=e._readableState,d=e._writableState;s&&s.autoDestroy||d&&d.autoDestroy?e.destroy(o):e.emit("error",o)}return St={destroy:i,undestroy:E,errorOrDestroy:r},St}var Et={},Er;function pe(){if(Er)return Et;Er=1;function i(o,s){o.prototype=Object.create(s.prototype),o.prototype.constructor=o,o.__proto__=s}var p={};function C(o,s,d){d||(d=Error);function u(h,t,f){return typeof s=="string"?s:s(h,t,f)}var l=function(h){i(t,h);function t(f,a,y){return h.call(this,u(f,a,y))||this}return t}(d);l.prototype.name=d.name,l.prototype.code=o,p[o]=l}function E(o,s){if(Array.isArray(o)){var d=o.length;return o=o.map(function(u){return String(u)}),d>2?"one of ".concat(s," ").concat(o.slice(0,d-1).join(", "),", or ")+o[d-1]:d===2?"one of ".concat(s," ").concat(o[0]," or ").concat(o[1]):"of ".concat(s," ").concat(o[0])}else return"of ".concat(s," ").concat(String(o))}function g(o,s,d){return o.substr(0,s.length)===s}function r(o,s,d){return(d===void 0||d>o.length)&&(d=o.length),o.substring(d-s.length,d)===s}function e(o,s,d){return typeof d!="number"&&(d=0),d+s.length>o.length?!1:o.indexOf(s,d)!==-1}return C("ERR_INVALID_OPT_VALUE",function(o,s){return'The value "'+s+'" is invalid for option "'+o+'"'},TypeError),C("ERR_INVALID_ARG_TYPE",function(o,s,d){var u;typeof s=="string"&&g(s,"not ")?(u="must not be",s=s.replace(/^not /,"")):u="must be";var l;if(r(o," argument"))l="The ".concat(o," ").concat(u," ").concat(E(s,"type"));else{var h=e(o,".")?"property":"argument";l='The "'.concat(o,'" ').concat(h," ").concat(u," ").concat(E(s,"type"))}return l+=". Received type ".concat(typeof d),l},TypeError),C("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),C("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),C("ERR_STREAM_PREMATURE_CLOSE","Premature close"),C("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),C("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),C("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),C("ERR_STREAM_WRITE_AFTER_END","write after end"),C("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),C("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),C("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Et.codes=p,Et}var bt,br;function Zn(){if(br)return bt;br=1;var i=pe().codes.ERR_INVALID_OPT_VALUE;function p(E,g,r){return E.highWaterMark!=null?E.highWaterMark:g?E[r]:null}function C(E,g,r,e){var o=p(g,e,r);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var s=e?r:"highWaterMark";throw new i(s,o)}return Math.floor(o)}return E.objectMode?16:16*1024}return bt={getHighWaterMark:C},bt}var wt,wr;function xi(){if(wr)return wt;wr=1,wt=i;function i(C,E){if(p("noDeprecation"))return C;var g=!1;function r(){if(!g){if(p("throwDeprecation"))throw new Error(E);p("traceDeprecation")?console.trace(E):console.warn(E),g=!0}return C.apply(this,arguments)}return r}function p(C){try{if(!le.localStorage)return!1}catch{return!1}var E=le.localStorage[C];return E==null?!1:String(E).toLowerCase()==="true"}return wt}var Ot,Or;function Qn(){if(Or)return Ot;Or=1,Ot=m;function i(D){var I=this;this.next=null,this.entry=null,this.finish=function(){lt(I,D)}}var p;m.WritableState=O;var C={deprecate:xi()},E=Yn(),g=$e().Buffer,r=(typeof le<"u"?le:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function e(D){return g.from(D)}function o(D){return g.isBuffer(D)||D instanceof r}var s=$n(),d=Zn(),u=d.getHighWaterMark,l=pe().codes,h=l.ERR_INVALID_ARG_TYPE,t=l.ERR_METHOD_NOT_IMPLEMENTED,f=l.ERR_MULTIPLE_CALLBACK,a=l.ERR_STREAM_CANNOT_PIPE,y=l.ERR_STREAM_DESTROYED,n=l.ERR_STREAM_NULL_VALUES,v=l.ERR_STREAM_WRITE_AFTER_END,T=l.ERR_UNKNOWN_ENCODING,S=s.errorOrDestroy;J()(m,E);function b(){}function O(D,I,P){p=p||de(),D=D||{},typeof P!="boolean"&&(P=I instanceof p),this.objectMode=!!D.objectMode,P&&(this.objectMode=this.objectMode||!!D.writableObjectMode),this.highWaterMark=u(this,D,"writableHighWaterMark",P),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var L=D.decodeStrings===!1;this.decodeStrings=!L,this.defaultEncoding=D.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(K){V(I,K)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=D.emitClose!==!1,this.autoDestroy=!!D.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}O.prototype.getBuffer=function(){for(var I=this.bufferedRequest,P=[];I;)P.push(I),I=I.next;return P},function(){try{Object.defineProperty(O.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var c;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(I){return c.call(this,I)?!0:this!==m?!1:I&&I._writableState instanceof O}})):c=function(I){return I instanceof this};function m(D){p=p||de();var I=this instanceof p;if(!I&&!c.call(m,this))return new m(D);this._writableState=new O(D,this,I),this.writable=!0,D&&(typeof D.write=="function"&&(this._write=D.write),typeof D.writev=="function"&&(this._writev=D.writev),typeof D.destroy=="function"&&(this._destroy=D.destroy),typeof D.final=="function"&&(this._final=D.final)),E.call(this)}m.prototype.pipe=function(){S(this,new a)};function w(D,I){var P=new v;S(D,P),F.nextTick(I,P)}function B(D,I,P,L){var K;return P===null?K=new n:typeof P!="string"&&!I.objectMode&&(K=new h("chunk",["string","Buffer"],P)),K?(S(D,K),F.nextTick(L,K),!1):!0}m.prototype.write=function(D,I,P){var L=this._writableState,K=!1,_=!L.objectMode&&o(D);return _&&!g.isBuffer(D)&&(D=e(D)),typeof I=="function"&&(P=I,I=null),_?I="buffer":I||(I=L.defaultEncoding),typeof P!="function"&&(P=b),L.ending?w(this,P):(_||B(this,L,D,P))&&(L.pendingcb++,K=H(this,L,_,D,I,P)),K},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var D=this._writableState;D.corked&&(D.corked--,!D.writing&&!D.corked&&!D.bufferProcessing&&D.bufferedRequest&&oe(this,D))},m.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new T(I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(m.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function M(D,I,P){return!D.objectMode&&D.decodeStrings!==!1&&typeof I=="string"&&(I=g.from(I,P)),I}Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function H(D,I,P,L,K,_){if(!P){var R=M(I,L,K);L!==R&&(P=!0,K="buffer",L=R)}var A=I.objectMode?1:L.length;I.length+=A;var N=I.length<I.highWaterMark;if(N||(I.needDrain=!0),I.writing||I.corked){var j=I.lastBufferedRequest;I.lastBufferedRequest={chunk:L,encoding:K,isBuf:P,callback:_,next:null},j?j.next=I.lastBufferedRequest:I.bufferedRequest=I.lastBufferedRequest,I.bufferedRequestCount+=1}else U(D,I,!1,A,L,K,_);return N}function U(D,I,P,L,K,_,R){I.writelen=L,I.writecb=R,I.writing=!0,I.sync=!0,I.destroyed?I.onwrite(new y("write")):P?D._writev(K,I.onwrite):D._write(K,_,I.onwrite),I.sync=!1}function Y(D,I,P,L,K){--I.pendingcb,P?(F.nextTick(K,L),F.nextTick(re,D,I),D._writableState.errorEmitted=!0,S(D,L)):(K(L),D._writableState.errorEmitted=!0,S(D,L),re(D,I))}function $(D){D.writing=!1,D.writecb=null,D.length-=D.writelen,D.writelen=0}function V(D,I){var P=D._writableState,L=P.sync,K=P.writecb;if(typeof K!="function")throw new f;if($(P),I)Y(D,P,L,I,K);else{var _=Qe(P)||D.destroyed;!_&&!P.corked&&!P.bufferProcessing&&P.bufferedRequest&&oe(D,P),L?F.nextTick(te,D,P,_,K):te(D,P,_,K)}}function te(D,I,P,L){P||Ze(D,I),I.pendingcb--,L(),re(D,I)}function Ze(D,I){I.length===0&&I.needDrain&&(I.needDrain=!1,D.emit("drain"))}function oe(D,I){I.bufferProcessing=!0;var P=I.bufferedRequest;if(D._writev&&P&&P.next){var L=I.bufferedRequestCount,K=new Array(L),_=I.corkedRequestsFree;_.entry=P;for(var R=0,A=!0;P;)K[R]=P,P.isBuf||(A=!1),P=P.next,R+=1;K.allBuffers=A,U(D,I,!0,I.length,K,"",_.finish),I.pendingcb++,I.lastBufferedRequest=null,_.next?(I.corkedRequestsFree=_.next,_.next=null):I.corkedRequestsFree=new i(I),I.bufferedRequestCount=0}else{for(;P;){var N=P.chunk,j=P.encoding,x=P.callback,k=I.objectMode?1:N.length;if(U(D,I,!1,k,N,j,x),P=P.next,I.bufferedRequestCount--,I.writing)break}P===null&&(I.lastBufferedRequest=null)}I.bufferedRequest=P,I.bufferProcessing=!1}m.prototype._write=function(D,I,P){P(new t("_write()"))},m.prototype._writev=null,m.prototype.end=function(D,I,P){var L=this._writableState;return typeof D=="function"?(P=D,D=null,I=null):typeof I=="function"&&(P=I,I=null),D!=null&&this.write(D,I),L.corked&&(L.corked=1,this.uncork()),L.ending||ct(this,L,P),this},Object.defineProperty(m.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Qe(D){return D.ending&&D.length===0&&D.bufferedRequest===null&&!D.finished&&!D.writing}function ft(D,I){D._final(function(P){I.pendingcb--,P&&S(D,P),I.prefinished=!0,D.emit("prefinish"),re(D,I)})}function ze(D,I){!I.prefinished&&!I.finalCalled&&(typeof D._final=="function"&&!I.destroyed?(I.pendingcb++,I.finalCalled=!0,F.nextTick(ft,D,I)):(I.prefinished=!0,D.emit("prefinish")))}function re(D,I){var P=Qe(I);if(P&&(ze(D,I),I.pendingcb===0&&(I.finished=!0,D.emit("finish"),I.autoDestroy))){var L=D._readableState;(!L||L.autoDestroy&&L.endEmitted)&&D.destroy()}return P}function ct(D,I,P){I.ending=!0,re(D,I),P&&(I.finished?F.nextTick(P):D.once("finish",P)),I.ended=!0,D.writable=!1}function lt(D,I,P){var L=D.entry;for(D.entry=null;L;){var K=L.callback;I.pendingcb--,K(P),L=L.next}I.corkedRequestsFree.next=D}return Object.defineProperty(m.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),m.prototype.destroy=s.destroy,m.prototype._undestroy=s.undestroy,m.prototype._destroy=function(D,I){I(D)},Ot}var It,Ir;function de(){if(Ir)return It;Ir=1;var i=Object.keys||function(d){var u=[];for(var l in d)u.push(l);return u};It=e;var p=zn(),C=Qn();J()(e,p);for(var E=i(C.prototype),g=0;g<E.length;g++){var r=E[g];e.prototype[r]||(e.prototype[r]=C.prototype[r])}function e(d){if(!(this instanceof e))return new e(d);p.call(this,d),C.call(this,d),this.allowHalfOpen=!0,d&&(d.readable===!1&&(this.readable=!1),d.writable===!1&&(this.writable=!1),d.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(e.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(e.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||F.nextTick(s,this)}function s(d){d.end()}return Object.defineProperty(e.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),It}var Dt={},Dr;function rr(){if(Dr)return Dt;Dr=1;var i=he().Buffer,p=i.isEncoding||function(n){switch(n=""+n,n&&n.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function C(n){if(!n)return"utf8";for(var v;;)switch(n){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return n;default:if(v)return;n=(""+n).toLowerCase(),v=!0}}function E(n){var v=C(n);if(typeof v!="string"&&(i.isEncoding===p||!p(n)))throw new Error("Unknown encoding: "+n);return v||n}Dt.StringDecoder=g;function g(n){this.encoding=E(n);var v;switch(this.encoding){case"utf16le":this.text=l,this.end=h,v=4;break;case"utf8":this.fillLast=s,v=4;break;case"base64":this.text=t,this.end=f,v=3;break;default:this.write=a,this.end=y;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(v)}g.prototype.write=function(n){if(n.length===0)return"";var v,T;if(this.lastNeed){if(v=this.fillLast(n),v===void 0)return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<n.length?v?v+this.text(n,T):this.text(n,T):v||""},g.prototype.end=u,g.prototype.text=d,g.prototype.fillLast=function(n){if(this.lastNeed<=n.length)return n.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);n.copy(this.lastChar,this.lastTotal-this.lastNeed,0,n.length),this.lastNeed-=n.length};function r(n){return n<=127?0:n>>5===6?2:n>>4===14?3:n>>3===30?4:n>>6===2?-1:-2}function e(n,v,T){var S=v.length-1;if(S<T)return 0;var b=r(v[S]);return b>=0?(b>0&&(n.lastNeed=b-1),b):--S<T||b===-2?0:(b=r(v[S]),b>=0?(b>0&&(n.lastNeed=b-2),b):--S<T||b===-2?0:(b=r(v[S]),b>=0?(b>0&&(b===2?b=0:n.lastNeed=b-3),b):0))}function o(n,v,T){if((v[0]&192)!==128)return n.lastNeed=0,"�";if(n.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return n.lastNeed=1,"�";if(n.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return n.lastNeed=2,"�"}}function s(n){var v=this.lastTotal-this.lastNeed,T=o(this,n);if(T!==void 0)return T;if(this.lastNeed<=n.length)return n.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);n.copy(this.lastChar,v,0,n.length),this.lastNeed-=n.length}function d(n,v){var T=e(this,n,v);if(!this.lastNeed)return n.toString("utf8",v);this.lastTotal=T;var S=n.length-(T-this.lastNeed);return n.copy(this.lastChar,0,S),n.toString("utf8",v,S)}function u(n){var v=n&&n.length?this.write(n):"";return this.lastNeed?v+"�":v}function l(n,v){if((n.length-v)%2===0){var T=n.toString("utf16le",v);if(T){var S=T.charCodeAt(T.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=n[n.length-2],this.lastChar[1]=n[n.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=n[n.length-1],n.toString("utf16le",v,n.length-1)}function h(n){var v=n&&n.length?this.write(n):"";if(this.lastNeed){var T=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,T)}return v}function t(n,v){var T=(n.length-v)%3;return T===0?n.toString("base64",v):(this.lastNeed=3-T,this.lastTotal=3,T===1?this.lastChar[0]=n[n.length-1]:(this.lastChar[0]=n[n.length-2],this.lastChar[1]=n[n.length-1]),n.toString("base64",v,n.length-T))}function f(n){var v=n&&n.length?this.write(n):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function a(n){return n.toString(this.encoding)}function y(n){return n&&n.length?this.write(n):""}return Dt}var Bt,Br;function ur(){if(Br)return Bt;Br=1;var i=pe().codes.ERR_STREAM_PREMATURE_CLOSE;function p(r){var e=!1;return function(){if(!e){e=!0;for(var o=arguments.length,s=new Array(o),d=0;d<o;d++)s[d]=arguments[d];r.apply(this,s)}}}function C(){}function E(r){return r.setHeader&&typeof r.abort=="function"}function g(r,e,o){if(typeof e=="function")return g(r,null,e);e||(e={}),o=p(o||C);var s=e.readable||e.readable!==!1&&r.readable,d=e.writable||e.writable!==!1&&r.writable,u=function(){r.writable||h()},l=r._writableState&&r._writableState.finished,h=function(){d=!1,l=!0,s||o.call(r)},t=r._readableState&&r._readableState.endEmitted,f=function(){s=!1,t=!0,d||o.call(r)},a=function(T){o.call(r,T)},y=function(){var T;if(s&&!t)return(!r._readableState||!r._readableState.ended)&&(T=new i),o.call(r,T);if(d&&!l)return(!r._writableState||!r._writableState.ended)&&(T=new i),o.call(r,T)},n=function(){r.req.on("finish",h)};return E(r)?(r.on("complete",h),r.on("abort",y),r.req?n():r.on("request",n)):d&&!r._writableState&&(r.on("end",u),r.on("close",u)),r.on("end",f),r.on("finish",h),e.error!==!1&&r.on("error",a),r.on("close",y),function(){r.removeListener("complete",h),r.removeListener("abort",y),r.removeListener("request",n),r.req&&r.req.removeListener("finish",h),r.removeListener("end",u),r.removeListener("close",u),r.removeListener("finish",h),r.removeListener("end",f),r.removeListener("error",a),r.removeListener("close",y)}}return Bt=g,Bt}var At,Ar;function Ki(){if(Ar)return At;Ar=1;var i;function p(T,S,b){return S=C(S),S in T?Object.defineProperty(T,S,{value:b,enumerable:!0,configurable:!0,writable:!0}):T[S]=b,T}function C(T){var S=E(T,"string");return typeof S=="symbol"?S:String(S)}function E(T,S){if(typeof T!="object"||T===null)return T;var b=T[Symbol.toPrimitive];if(b!==void 0){var O=b.call(T,S);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(T)}var g=ur(),r=Symbol("lastResolve"),e=Symbol("lastReject"),o=Symbol("error"),s=Symbol("ended"),d=Symbol("lastPromise"),u=Symbol("handlePromise"),l=Symbol("stream");function h(T,S){return{value:T,done:S}}function t(T){var S=T[r];if(S!==null){var b=T[l].read();b!==null&&(T[d]=null,T[r]=null,T[e]=null,S(h(b,!1)))}}function f(T){F.nextTick(t,T)}function a(T,S){return function(b,O){T.then(function(){if(S[s]){b(h(void 0,!0));return}S[u](b,O)},O)}}var y=Object.getPrototypeOf(function(){}),n=Object.setPrototypeOf((i={get stream(){return this[l]},next:function(){var S=this,b=this[o];if(b!==null)return Promise.reject(b);if(this[s])return Promise.resolve(h(void 0,!0));if(this[l].destroyed)return new Promise(function(w,B){F.nextTick(function(){S[o]?B(S[o]):w(h(void 0,!0))})});var O=this[d],c;if(O)c=new Promise(a(O,this));else{var m=this[l].read();if(m!==null)return Promise.resolve(h(m,!1));c=new Promise(this[u])}return this[d]=c,c}},p(i,Symbol.asyncIterator,function(){return this}),p(i,"return",function(){var S=this;return new Promise(function(b,O){S[l].destroy(null,function(c){if(c){O(c);return}b(h(void 0,!0))})})}),i),y),v=function(S){var b,O=Object.create(n,(b={},p(b,l,{value:S,writable:!0}),p(b,r,{value:null,writable:!0}),p(b,e,{value:null,writable:!0}),p(b,o,{value:null,writable:!0}),p(b,s,{value:S._readableState.endEmitted,writable:!0}),p(b,u,{value:function(m,w){var B=O[l].read();B?(O[d]=null,O[r]=null,O[e]=null,m(h(B,!1))):(O[r]=m,O[e]=w)},writable:!0}),b));return O[d]=null,g(S,function(c){if(c&&c.code!=="ERR_STREAM_PREMATURE_CLOSE"){var m=O[e];m!==null&&(O[d]=null,O[r]=null,O[e]=null,m(c)),O[o]=c;return}var w=O[r];w!==null&&(O[d]=null,O[r]=null,O[e]=null,w(h(void 0,!0))),O[s]=!0}),S.on("readable",f.bind(null,O)),O};return At=v,At}var Pt,Pr;function Hi(){return Pr||(Pr=1,Pt=function(){throw new Error("Readable.from is not available in the browser")}),Pt}var Mt,Mr;function zn(){if(Mr)return Mt;Mr=1,Mt=w;var i;w.ReadableState=m,Gn().EventEmitter;var p=function(R,A){return R.listeners(A).length},C=Yn(),E=$e().Buffer,g=(typeof le<"u"?le:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function r(_){return E.from(_)}function e(_){return E.isBuffer(_)||_ instanceof g}var o=Vn,s;o&&o.debuglog?s=o.debuglog("stream"):s=function(){};var d=qi(),u=$n(),l=Zn(),h=l.getHighWaterMark,t=pe().codes,f=t.ERR_INVALID_ARG_TYPE,a=t.ERR_STREAM_PUSH_AFTER_EOF,y=t.ERR_METHOD_NOT_IMPLEMENTED,n=t.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v,T,S;J()(w,C);var b=u.errorOrDestroy,O=["error","close","destroy","pause","resume"];function c(_,R,A){if(typeof _.prependListener=="function")return _.prependListener(R,A);!_._events||!_._events[R]?_.on(R,A):Array.isArray(_._events[R])?_._events[R].unshift(A):_._events[R]=[A,_._events[R]]}function m(_,R,A){i=i||de(),_=_||{},typeof A!="boolean"&&(A=R instanceof i),this.objectMode=!!_.objectMode,A&&(this.objectMode=this.objectMode||!!_.readableObjectMode),this.highWaterMark=h(this,_,"readableHighWaterMark",A),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=_.emitClose!==!1,this.autoDestroy=!!_.autoDestroy,this.destroyed=!1,this.defaultEncoding=_.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_.encoding&&(v||(v=rr().StringDecoder),this.decoder=new v(_.encoding),this.encoding=_.encoding)}function w(_){if(i=i||de(),!(this instanceof w))return new w(_);var R=this instanceof i;this._readableState=new m(_,this,R),this.readable=!0,_&&(typeof _.read=="function"&&(this._read=_.read),typeof _.destroy=="function"&&(this._destroy=_.destroy)),C.call(this)}Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(R){this._readableState&&(this._readableState.destroyed=R)}}),w.prototype.destroy=u.destroy,w.prototype._undestroy=u.undestroy,w.prototype._destroy=function(_,R){R(_)},w.prototype.push=function(_,R){var A=this._readableState,N;return A.objectMode?N=!0:typeof _=="string"&&(R=R||A.defaultEncoding,R!==A.encoding&&(_=E.from(_,R),R=""),N=!0),B(this,_,R,!1,N)},w.prototype.unshift=function(_){return B(this,_,null,!0,!1)};function B(_,R,A,N,j){s("readableAddChunk",R);var x=_._readableState;if(R===null)x.reading=!1,V(_,x);else{var k;if(j||(k=H(x,R)),k)b(_,k);else if(x.objectMode||R&&R.length>0)if(typeof R!="string"&&!x.objectMode&&Object.getPrototypeOf(R)!==E.prototype&&(R=r(R)),N)x.endEmitted?b(_,new n):M(_,x,R,!0);else if(x.ended)b(_,new a);else{if(x.destroyed)return!1;x.reading=!1,x.decoder&&!A?(R=x.decoder.write(R),x.objectMode||R.length!==0?M(_,x,R,!1):oe(_,x)):M(_,x,R,!1)}else N||(x.reading=!1,oe(_,x))}return!x.ended&&(x.length<x.highWaterMark||x.length===0)}function M(_,R,A,N){R.flowing&&R.length===0&&!R.sync?(R.awaitDrain=0,_.emit("data",A)):(R.length+=R.objectMode?1:A.length,N?R.buffer.unshift(A):R.buffer.push(A),R.needReadable&&te(_)),oe(_,R)}function H(_,R){var A;return!e(R)&&typeof R!="string"&&R!==void 0&&!_.objectMode&&(A=new f("chunk",["string","Buffer","Uint8Array"],R)),A}w.prototype.isPaused=function(){return this._readableState.flowing===!1},w.prototype.setEncoding=function(_){v||(v=rr().StringDecoder);var R=new v(_);this._readableState.decoder=R,this._readableState.encoding=this._readableState.decoder.encoding;for(var A=this._readableState.buffer.head,N="";A!==null;)N+=R.write(A.data),A=A.next;return this._readableState.buffer.clear(),N!==""&&this._readableState.buffer.push(N),this._readableState.length=N.length,this};var U=1073741824;function Y(_){return _>=U?_=U:(_--,_|=_>>>1,_|=_>>>2,_|=_>>>4,_|=_>>>8,_|=_>>>16,_++),_}function $(_,R){return _<=0||R.length===0&&R.ended?0:R.objectMode?1:_!==_?R.flowing&&R.length?R.buffer.head.data.length:R.length:(_>R.highWaterMark&&(R.highWaterMark=Y(_)),_<=R.length?_:R.ended?R.length:(R.needReadable=!0,0))}w.prototype.read=function(_){s("read",_),_=parseInt(_,10);var R=this._readableState,A=_;if(_!==0&&(R.emittedReadable=!1),_===0&&R.needReadable&&((R.highWaterMark!==0?R.length>=R.highWaterMark:R.length>0)||R.ended))return s("read: emitReadable",R.length,R.ended),R.length===0&&R.ended?P(this):te(this),null;if(_=$(_,R),_===0&&R.ended)return R.length===0&&P(this),null;var N=R.needReadable;s("need readable",N),(R.length===0||R.length-_<R.highWaterMark)&&(N=!0,s("length less than watermark",N)),R.ended||R.reading?(N=!1,s("reading or ended",N)):N&&(s("do read"),R.reading=!0,R.sync=!0,R.length===0&&(R.needReadable=!0),this._read(R.highWaterMark),R.sync=!1,R.reading||(_=$(A,R)));var j;return _>0?j=I(_,R):j=null,j===null?(R.needReadable=R.length<=R.highWaterMark,_=0):(R.length-=_,R.awaitDrain=0),R.length===0&&(R.ended||(R.needReadable=!0),A!==_&&R.ended&&P(this)),j!==null&&this.emit("data",j),j};function V(_,R){if(s("onEofChunk"),!R.ended){if(R.decoder){var A=R.decoder.end();A&&A.length&&(R.buffer.push(A),R.length+=R.objectMode?1:A.length)}R.ended=!0,R.sync?te(_):(R.needReadable=!1,R.emittedReadable||(R.emittedReadable=!0,Ze(_)))}}function te(_){var R=_._readableState;s("emitReadable",R.needReadable,R.emittedReadable),R.needReadable=!1,R.emittedReadable||(s("emitReadable",R.flowing),R.emittedReadable=!0,F.nextTick(Ze,_))}function Ze(_){var R=_._readableState;s("emitReadable_",R.destroyed,R.length,R.ended),!R.destroyed&&(R.length||R.ended)&&(_.emit("readable"),R.emittedReadable=!1),R.needReadable=!R.flowing&&!R.ended&&R.length<=R.highWaterMark,D(_)}function oe(_,R){R.readingMore||(R.readingMore=!0,F.nextTick(Qe,_,R))}function Qe(_,R){for(;!R.reading&&!R.ended&&(R.length<R.highWaterMark||R.flowing&&R.length===0);){var A=R.length;if(s("maybeReadMore read 0"),_.read(0),A===R.length)break}R.readingMore=!1}w.prototype._read=function(_){b(this,new y("_read()"))},w.prototype.pipe=function(_,R){var A=this,N=this._readableState;switch(N.pipesCount){case 0:N.pipes=_;break;case 1:N.pipes=[N.pipes,_];break;default:N.pipes.push(_);break}N.pipesCount+=1,s("pipe count=%d opts=%j",N.pipesCount,R);var j=(!R||R.end!==!1)&&_!==F.stdout&&_!==F.stderr,x=j?se:ge;N.endEmitted?F.nextTick(x):A.once("end",x),_.on("unpipe",k);function k(ue,fe){s("onunpipe"),ue===A&&fe&&fe.hasUnpiped===!1&&(fe.hasUnpiped=!0,ci())}function se(){s("onend"),_.end()}var Je=ft(A);_.on("drain",Je);var cr=!1;function ci(){s("cleanup"),_.removeListener("close",ht),_.removeListener("finish",pt),_.removeListener("drain",Je),_.removeListener("error",dt),_.removeListener("unpipe",k),A.removeListener("end",se),A.removeListener("end",ge),A.removeListener("data",lr),cr=!0,N.awaitDrain&&(!_._writableState||_._writableState.needDrain)&&Je()}A.on("data",lr);function lr(ue){s("ondata");var fe=_.write(ue);s("dest.write",fe),fe===!1&&((N.pipesCount===1&&N.pipes===_||N.pipesCount>1&&K(N.pipes,_)!==-1)&&!cr&&(s("false write response, pause",N.awaitDrain),N.awaitDrain++),A.pause())}function dt(ue){s("onerror",ue),ge(),_.removeListener("error",dt),p(_,"error")===0&&b(_,ue)}c(_,"error",dt);function ht(){_.removeListener("finish",pt),ge()}_.once("close",ht);function pt(){s("onfinish"),_.removeListener("close",ht),ge()}_.once("finish",pt);function ge(){s("unpipe"),A.unpipe(_)}return _.emit("pipe",A),N.flowing||(s("pipe resume"),A.resume()),_};function ft(_){return function(){var A=_._readableState;s("pipeOnDrain",A.awaitDrain),A.awaitDrain&&A.awaitDrain--,A.awaitDrain===0&&p(_,"data")&&(A.flowing=!0,D(_))}}w.prototype.unpipe=function(_){var R=this._readableState,A={hasUnpiped:!1};if(R.pipesCount===0)return this;if(R.pipesCount===1)return _&&_!==R.pipes?this:(_||(_=R.pipes),R.pipes=null,R.pipesCount=0,R.flowing=!1,_&&_.emit("unpipe",this,A),this);if(!_){var N=R.pipes,j=R.pipesCount;R.pipes=null,R.pipesCount=0,R.flowing=!1;for(var x=0;x<j;x++)N[x].emit("unpipe",this,{hasUnpiped:!1});return this}var k=K(R.pipes,_);return k===-1?this:(R.pipes.splice(k,1),R.pipesCount-=1,R.pipesCount===1&&(R.pipes=R.pipes[0]),_.emit("unpipe",this,A),this)},w.prototype.on=function(_,R){var A=C.prototype.on.call(this,_,R),N=this._readableState;return _==="data"?(N.readableListening=this.listenerCount("readable")>0,N.flowing!==!1&&this.resume()):_==="readable"&&!N.endEmitted&&!N.readableListening&&(N.readableListening=N.needReadable=!0,N.flowing=!1,N.emittedReadable=!1,s("on readable",N.length,N.reading),N.length?te(this):N.reading||F.nextTick(re,this)),A},w.prototype.addListener=w.prototype.on,w.prototype.removeListener=function(_,R){var A=C.prototype.removeListener.call(this,_,R);return _==="readable"&&F.nextTick(ze,this),A},w.prototype.removeAllListeners=function(_){var R=C.prototype.removeAllListeners.apply(this,arguments);return(_==="readable"||_===void 0)&&F.nextTick(ze,this),R};function ze(_){var R=_._readableState;R.readableListening=_.listenerCount("readable")>0,R.resumeScheduled&&!R.paused?R.flowing=!0:_.listenerCount("data")>0&&_.resume()}function re(_){s("readable nexttick read 0"),_.read(0)}w.prototype.resume=function(){var _=this._readableState;return _.flowing||(s("resume"),_.flowing=!_.readableListening,ct(this,_)),_.paused=!1,this};function ct(_,R){R.resumeScheduled||(R.resumeScheduled=!0,F.nextTick(lt,_,R))}function lt(_,R){s("resume",R.reading),R.reading||_.read(0),R.resumeScheduled=!1,_.emit("resume"),D(_),R.flowing&&!R.reading&&_.read(0)}w.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function D(_){var R=_._readableState;for(s("flow",R.flowing);R.flowing&&_.read()!==null;);}w.prototype.wrap=function(_){var R=this,A=this._readableState,N=!1;_.on("end",function(){if(s("wrapped end"),A.decoder&&!A.ended){var k=A.decoder.end();k&&k.length&&R.push(k)}R.push(null)}),_.on("data",function(k){if(s("wrapped data"),A.decoder&&(k=A.decoder.write(k)),!(A.objectMode&&k==null)&&!(!A.objectMode&&(!k||!k.length))){var se=R.push(k);se||(N=!0,_.pause())}});for(var j in _)this[j]===void 0&&typeof _[j]=="function"&&(this[j]=function(se){return function(){return _[se].apply(_,arguments)}}(j));for(var x=0;x<O.length;x++)_.on(O[x],this.emit.bind(this,O[x]));return this._read=function(k){s("wrapped _read",k),N&&(N=!1,_.resume())},this},typeof Symbol=="function"&&(w.prototype[Symbol.asyncIterator]=function(){return T===void 0&&(T=Ki()),T(this)}),Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(w.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(w.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(R){this._readableState&&(this._readableState.flowing=R)}}),w._fromList=I,Object.defineProperty(w.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function I(_,R){if(R.length===0)return null;var A;return R.objectMode?A=R.buffer.shift():!_||_>=R.length?(R.decoder?A=R.buffer.join(""):R.buffer.length===1?A=R.buffer.first():A=R.buffer.concat(R.length),R.buffer.clear()):A=R.buffer.consume(_,R.decoder),A}function P(_){var R=_._readableState;s("endReadable",R.endEmitted),R.endEmitted||(R.ended=!0,F.nextTick(L,R,_))}function L(_,R){if(s("endReadableNT",_.endEmitted,_.length),!_.endEmitted&&_.length===0&&(_.endEmitted=!0,R.readable=!1,R.emit("end"),_.autoDestroy)){var A=R._writableState;(!A||A.autoDestroy&&A.finished)&&R.destroy()}}typeof Symbol=="function"&&(w.from=function(_,R){return S===void 0&&(S=Hi()),S(w,_,R)});function K(_,R){for(var A=0,N=_.length;A<N;A++)if(_[A]===R)return A;return-1}return Mt}var Nt,Nr;function Jn(){if(Nr)return Nt;Nr=1,Nt=o;var i=pe().codes,p=i.ERR_METHOD_NOT_IMPLEMENTED,C=i.ERR_MULTIPLE_CALLBACK,E=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,g=i.ERR_TRANSFORM_WITH_LENGTH_0,r=de();J()(o,r);function e(u,l){var h=this._transformState;h.transforming=!1;var t=h.writecb;if(t===null)return this.emit("error",new C);h.writechunk=null,h.writecb=null,l!=null&&this.push(l),t(u);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function o(u){if(!(this instanceof o))return new o(u);r.call(this,u),this._transformState={afterTransform:e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",s)}function s(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(l,h){d(u,l,h)}):d(this,null,null)}o.prototype.push=function(u,l){return this._transformState.needTransform=!1,r.prototype.push.call(this,u,l)},o.prototype._transform=function(u,l,h){h(new p("_transform()"))},o.prototype._write=function(u,l,h){var t=this._transformState;if(t.writecb=h,t.writechunk=u,t.writeencoding=l,!t.transforming){var f=this._readableState;(t.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},o.prototype._read=function(u){var l=this._transformState;l.writechunk!==null&&!l.transforming?(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform)):l.needTransform=!0},o.prototype._destroy=function(u,l){r.prototype._destroy.call(this,u,function(h){l(h)})};function d(u,l,h){if(l)return u.emit("error",l);if(h!=null&&u.push(h),u._writableState.length)throw new g;if(u._transformState.transforming)throw new E;return u.push(null)}return Nt}var Lt,Lr;function Fi(){if(Lr)return Lt;Lr=1,Lt=p;var i=Jn();J()(p,i);function p(C){if(!(this instanceof p))return new p(C);i.call(this,C)}return p.prototype._transform=function(C,E,g){g(null,C)},Lt}var Ut,Ur;function ki(){if(Ur)return Ut;Ur=1;var i;function p(h){var t=!1;return function(){t||(t=!0,h.apply(void 0,arguments))}}var C=pe().codes,E=C.ERR_MISSING_ARGS,g=C.ERR_STREAM_DESTROYED;function r(h){if(h)throw h}function e(h){return h.setHeader&&typeof h.abort=="function"}function o(h,t,f,a){a=p(a);var y=!1;h.on("close",function(){y=!0}),i===void 0&&(i=ur()),i(h,{readable:t,writable:f},function(v){if(v)return a(v);y=!0,a()});var n=!1;return function(v){if(!y&&!n){if(n=!0,e(h))return h.abort();if(typeof h.destroy=="function")return h.destroy();a(v||new g("pipe"))}}}function s(h){h()}function d(h,t){return h.pipe(t)}function u(h){return!h.length||typeof h[h.length-1]!="function"?r:h.pop()}function l(){for(var h=arguments.length,t=new Array(h),f=0;f<h;f++)t[f]=arguments[f];var a=u(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new E("streams");var y,n=t.map(function(v,T){var S=T<t.length-1,b=T>0;return o(v,S,b,function(O){y||(y=O),O&&n.forEach(s),!S&&(n.forEach(s),a(y))})});return t.reduce(d)}return Ut=l,Ut}var qr;function ji(){return qr||(qr=1,function(i,p){p=i.exports=zn(),p.Stream=p,p.Readable=p,p.Writable=Qn(),p.Duplex=de(),p.Transform=Jn(),p.PassThrough=Fi(),p.finished=ur(),p.pipeline=ki()}(et,et.exports)),et.exports}var qt,xr;function ei(){if(xr)return qt;xr=1;var i=he().Buffer,p=ji().Transform,C=J();function E(r,e){if(!i.isBuffer(r)&&typeof r!="string")throw new TypeError(e+" must be a string or a buffer")}function g(r){p.call(this),this._block=i.allocUnsafe(r),this._blockSize=r,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return C(g,p),g.prototype._transform=function(r,e,o){var s=null;try{this.update(r,e)}catch(d){s=d}o(s)},g.prototype._flush=function(r){var e=null;try{this.push(this.digest())}catch(o){e=o}r(e)},g.prototype.update=function(r,e){if(E(r,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(r)||(r=i.from(r,e));for(var o=this._block,s=0;this._blockOffset+r.length-s>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)o[d++]=r[s++];this._update(),this._blockOffset=0}for(;s<r.length;)o[this._blockOffset++]=r[s++];for(var u=0,l=r.length*8;l>0;++u)this._length[u]+=l,l=this._length[u]/4294967296|0,l>0&&(this._length[u]-=4294967296*l);return this},g.prototype._update=function(){throw new Error("_update is not implemented")},g.prototype.digest=function(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();r!==void 0&&(e=e.toString(r)),this._block.fill(0),this._blockOffset=0;for(var o=0;o<4;++o)this._length[o]=0;return e},g.prototype._digest=function(){throw new Error("_digest is not implemented")},qt=g,qt}var xt,Kr;function Xi(){if(Kr)return xt;Kr=1;var i=J(),p=ei(),C=he().Buffer,E=new Array(16);function g(){p.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}i(g,p),g.prototype._update=function(){for(var u=E,l=0;l<16;++l)u[l]=this._block.readInt32LE(l*4);var h=this._a,t=this._b,f=this._c,a=this._d;h=e(h,t,f,a,u[0],3614090360,7),a=e(a,h,t,f,u[1],3905402710,12),f=e(f,a,h,t,u[2],606105819,17),t=e(t,f,a,h,u[3],3250441966,22),h=e(h,t,f,a,u[4],4118548399,7),a=e(a,h,t,f,u[5],1200080426,12),f=e(f,a,h,t,u[6],2821735955,17),t=e(t,f,a,h,u[7],4249261313,22),h=e(h,t,f,a,u[8],1770035416,7),a=e(a,h,t,f,u[9],2336552879,12),f=e(f,a,h,t,u[10],4294925233,17),t=e(t,f,a,h,u[11],2304563134,22),h=e(h,t,f,a,u[12],1804603682,7),a=e(a,h,t,f,u[13],4254626195,12),f=e(f,a,h,t,u[14],2792965006,17),t=e(t,f,a,h,u[15],1236535329,22),h=o(h,t,f,a,u[1],4129170786,5),a=o(a,h,t,f,u[6],3225465664,9),f=o(f,a,h,t,u[11],643717713,14),t=o(t,f,a,h,u[0],3921069994,20),h=o(h,t,f,a,u[5],3593408605,5),a=o(a,h,t,f,u[10],38016083,9),f=o(f,a,h,t,u[15],3634488961,14),t=o(t,f,a,h,u[4],3889429448,20),h=o(h,t,f,a,u[9],568446438,5),a=o(a,h,t,f,u[14],3275163606,9),f=o(f,a,h,t,u[3],4107603335,14),t=o(t,f,a,h,u[8],1163531501,20),h=o(h,t,f,a,u[13],2850285829,5),a=o(a,h,t,f,u[2],4243563512,9),f=o(f,a,h,t,u[7],1735328473,14),t=o(t,f,a,h,u[12],2368359562,20),h=s(h,t,f,a,u[5],4294588738,4),a=s(a,h,t,f,u[8],2272392833,11),f=s(f,a,h,t,u[11],1839030562,16),t=s(t,f,a,h,u[14],4259657740,23),h=s(h,t,f,a,u[1],2763975236,4),a=s(a,h,t,f,u[4],1272893353,11),f=s(f,a,h,t,u[7],4139469664,16),t=s(t,f,a,h,u[10],3200236656,23),h=s(h,t,f,a,u[13],681279174,4),a=s(a,h,t,f,u[0],3936430074,11),f=s(f,a,h,t,u[3],3572445317,16),t=s(t,f,a,h,u[6],76029189,23),h=s(h,t,f,a,u[9],3654602809,4),a=s(a,h,t,f,u[12],3873151461,11),f=s(f,a,h,t,u[15],530742520,16),t=s(t,f,a,h,u[2],3299628645,23),h=d(h,t,f,a,u[0],4096336452,6),a=d(a,h,t,f,u[7],1126891415,10),f=d(f,a,h,t,u[14],2878612391,15),t=d(t,f,a,h,u[5],4237533241,21),h=d(h,t,f,a,u[12],1700485571,6),a=d(a,h,t,f,u[3],2399980690,10),f=d(f,a,h,t,u[10],4293915773,15),t=d(t,f,a,h,u[1],2240044497,21),h=d(h,t,f,a,u[8],1873313359,6),a=d(a,h,t,f,u[15],4264355552,10),f=d(f,a,h,t,u[6],2734768916,15),t=d(t,f,a,h,u[13],1309151649,21),h=d(h,t,f,a,u[4],4149444226,6),a=d(a,h,t,f,u[11],3174756917,10),f=d(f,a,h,t,u[2],718787259,15),t=d(t,f,a,h,u[9],3951481745,21),this._a=this._a+h|0,this._b=this._b+t|0,this._c=this._c+f|0,this._d=this._d+a|0},g.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var u=C.allocUnsafe(16);return u.writeInt32LE(this._a,0),u.writeInt32LE(this._b,4),u.writeInt32LE(this._c,8),u.writeInt32LE(this._d,12),u};function r(u,l){return u<<l|u>>>32-l}function e(u,l,h,t,f,a,y){return r(u+(l&h|~l&t)+f+a|0,y)+l|0}function o(u,l,h,t,f,a,y){return r(u+(l&t|h&~t)+f+a|0,y)+l|0}function s(u,l,h,t,f,a,y){return r(u+(l^h^t)+f+a|0,y)+l|0}function d(u,l,h,t,f,a,y){return r(u+(h^(l|~t))+f+a|0,y)+l|0}return xt=g,xt}var Kt,Hr;function Wi(){if(Hr)return Kt;Hr=1;var i=$e().Buffer,p=J(),C=ei(),E=new Array(16),g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],r=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],e=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],o=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],s=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function u(){C.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}p(u,C),u.prototype._update=function(){for(var n=E,v=0;v<16;++v)n[v]=this._block.readInt32LE(v*4);for(var T=this._a|0,S=this._b|0,b=this._c|0,O=this._d|0,c=this._e|0,m=this._a|0,w=this._b|0,B=this._c|0,M=this._d|0,H=this._e|0,U=0;U<80;U+=1){var Y,$;U<16?(Y=h(T,S,b,O,c,n[g[U]],s[0],e[U]),$=y(m,w,B,M,H,n[r[U]],d[0],o[U])):U<32?(Y=t(T,S,b,O,c,n[g[U]],s[1],e[U]),$=a(m,w,B,M,H,n[r[U]],d[1],o[U])):U<48?(Y=f(T,S,b,O,c,n[g[U]],s[2],e[U]),$=f(m,w,B,M,H,n[r[U]],d[2],o[U])):U<64?(Y=a(T,S,b,O,c,n[g[U]],s[3],e[U]),$=t(m,w,B,M,H,n[r[U]],d[3],o[U])):(Y=y(T,S,b,O,c,n[g[U]],s[4],e[U]),$=h(m,w,B,M,H,n[r[U]],d[4],o[U])),T=c,c=O,O=l(b,10),b=S,S=Y,m=H,H=M,M=l(B,10),B=w,w=$}var V=this._b+b+M|0;this._b=this._c+O+H|0,this._c=this._d+c+m|0,this._d=this._e+T+w|0,this._e=this._a+S+B|0,this._a=V},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var n=i.alloc?i.alloc(20):new i(20);return n.writeInt32LE(this._a,0),n.writeInt32LE(this._b,4),n.writeInt32LE(this._c,8),n.writeInt32LE(this._d,12),n.writeInt32LE(this._e,16),n};function l(n,v){return n<<v|n>>>32-v}function h(n,v,T,S,b,O,c,m){return l(n+(v^T^S)+O+c|0,m)+b|0}function t(n,v,T,S,b,O,c,m){return l(n+(v&T|~v&S)+O+c|0,m)+b|0}function f(n,v,T,S,b,O,c,m){return l(n+((v|~T)^S)+O+c|0,m)+b|0}function a(n,v,T,S,b,O,c,m){return l(n+(v&S|T&~S)+O+c|0,m)+b|0}function y(n,v,T,S,b,O,c,m){return l(n+(v^(T|~S))+O+c|0,m)+b|0}return Kt=u,Kt}var Ht,Fr;function Vi(){if(Fr)return Ht;Fr=1;var i=he().Buffer,p=hi().Transform,C=rr().StringDecoder,E=J();function g(r){p.call(this),this.hashMode=typeof r=="string",this.hashMode?this[r]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}return E(g,p),g.prototype.update=function(r,e,o){typeof r=="string"&&(r=i.from(r,e));var s=this._update(r);return this.hashMode?this:(o&&(s=this._toString(s,o)),s)},g.prototype.setAutoPadding=function(){},g.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},g.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},g.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},g.prototype._transform=function(r,e,o){var s;try{this.hashMode?this._update(r):this.push(this._update(r))}catch(d){s=d}finally{o(s)}},g.prototype._flush=function(r){var e;try{this.push(this.__final())}catch(o){e=o}r(e)},g.prototype._finalOrDigest=function(r){var e=this.__final()||i.alloc(0);return r&&(e=this._toString(e,r,!0)),e},g.prototype._toString=function(r,e,o){if(this._decoder||(this._decoder=new C(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var s=this._decoder.write(r);return o&&(s+=this._decoder.end()),s},Ht=g,Ht}var Ft,kr;function Gi(){if(kr)return Ft;kr=1;var i=J(),p=Xi(),C=Wi(),E=pi(),g=Vi();function r(e){g.call(this,"digest"),this._hash=e}return i(r,g),r.prototype._update=function(e){this._hash.update(e)},r.prototype._final=function(){return this._hash.digest()},Ft=function(o){return o=o.toLowerCase(),o==="md5"?new p:o==="rmd160"||o==="ripemd160"?new C:new r(E(o))},Ft}var kt,jr;function Yi(){if(jr)return kt;jr=1;var i=he().Buffer;function p(C){if(C.length>=255)throw new TypeError("Alphabet too long");for(var E=new Uint8Array(256),g=0;g<E.length;g++)E[g]=255;for(var r=0;r<C.length;r++){var e=C.charAt(r),o=e.charCodeAt(0);if(E[o]!==255)throw new TypeError(e+" is ambiguous");E[o]=r}var s=C.length,d=C.charAt(0),u=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function h(a){if((Array.isArray(a)||a instanceof Uint8Array)&&(a=i.from(a)),!i.isBuffer(a))throw new TypeError("Expected Buffer");if(a.length===0)return"";for(var y=0,n=0,v=0,T=a.length;v!==T&&a[v]===0;)v++,y++;for(var S=(T-v)*l+1>>>0,b=new Uint8Array(S);v!==T;){for(var O=a[v],c=0,m=S-1;(O!==0||c<n)&&m!==-1;m--,c++)O+=256*b[m]>>>0,b[m]=O%s>>>0,O=O/s>>>0;if(O!==0)throw new Error("Non-zero carry");n=c,v++}for(var w=S-n;w!==S&&b[w]===0;)w++;for(var B=d.repeat(y);w<S;++w)B+=C.charAt(b[w]);return B}function t(a){if(typeof a!="string")throw new TypeError("Expected String");if(a.length===0)return i.alloc(0);for(var y=0,n=0,v=0;a[y]===d;)n++,y++;for(var T=(a.length-y)*u+1>>>0,S=new Uint8Array(T);a[y];){var b=E[a.charCodeAt(y)];if(b===255)return;for(var O=0,c=T-1;(b!==0||O<v)&&c!==-1;c--,O++)b+=s*S[c]>>>0,S[c]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");v=O,y++}for(var m=T-v;m!==T&&S[m]===0;)m++;var w=i.allocUnsafe(n+(T-m));w.fill(0,0,n);for(var B=n;m!==T;)w[B++]=S[m++];return w}function f(a){var y=t(a);if(y)return y;throw new Error("Non-base"+s+" character")}return{encode:h,decodeUnsafe:t,decode:f}}return kt=p,kt}var jt,Xr;function $i(){if(Xr)return jt;Xr=1;var i=Yi(),p="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return jt=i(p),jt}var Xt,Wr;function Zi(){if(Wr)return Xt;Wr=1;var i=$i(),p=he().Buffer;return Xt=function(C){function E(o){var s=C(o);return i.encode(p.concat([o,s],o.length+4))}function g(o){var s=o.slice(0,-4),d=o.slice(-4),u=C(s);if(!(d[0]^u[0]|d[1]^u[1]|d[2]^u[2]|d[3]^u[3]))return s}function r(o){var s=i.decodeUnsafe(o);if(s)return g(s)}function e(o){var s=i.decode(o),d=g(s);if(!d)throw new Error("Invalid checksum");return d}return{encode:E,decode:e,decodeUnsafe:r}},Xt}var Wt,Vr;function Qi(){if(Vr)return Wt;Vr=1;var i=Gi(),p=Zi();function C(E){var g=i("sha256").update(E).digest();return i("sha256").update(g).digest()}return Wt=p(C),Wt}var Vt={},me={},Z={},Gr;function fr(){if(Gr)return Z;Gr=1;var i=Z&&Z.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.URDecoder=Z.UREncoder=Z.UR=void 0;const p=i(gi());Z.UR=p.default;const C=i(Bi());Z.UREncoder=C.default;const E=i(yi());return Z.URDecoder=E.default,Z}var Yr;function G(){if(Yr)return me;Yr=1,Object.defineProperty(me,"__esModule",{value:!0}),me.RegistryItem=void 0;const i=fr(),p=X();let C=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,p.encodeDataItem)(this.toDataItem())},this.toUR=()=>new i.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(g,r,e)=>{const o=this.toUR();return new i.UREncoder(o,g,r,e)}}};return me.RegistryItem=C,me}var $r;function nr(){return $r||($r=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.CryptoCoinInfo=i.Network=i.Type=void 0;const p=X(),C=G(),E=W();var g;(function(s){s.type="1",s.network="2"})(g||(g={}));var r;(function(s){s[s.bitcoin=0]="bitcoin"})(r=i.Type||(i.Type={}));var e;(function(s){s[s.mainnet=0]="mainnet",s[s.testnet=1]="testnet"})(e=i.Network||(i.Network={}));class o extends C.RegistryItem{constructor(d,u){super(),this.type=d,this.network=u,this.getRegistryType=()=>E.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||r.bitcoin,this.getNetwork=()=>this.network||e.mainnet,this.toDataItem=()=>{const l={};return this.type&&(l[g.type]=this.type),this.network&&(l[g.network]=this.network),new p.DataItem(l)}}}i.CryptoCoinInfo=o,o.fromDataItem=s=>{const d=s.getData(),u=d[g.type],l=d[g.network];return new o(u,l)},o.fromCBOR=s=>{const d=(0,p.decodeToDataItem)(s);return o.fromDataItem(d)}}(Vt)),Vt}var Ce={},Te={},Zr;function ir(){if(Zr)return Te;Zr=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.PathComponent=void 0;let i=class ti{constructor(C){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=C.index,this.hardened=C.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&ti.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};return Te.PathComponent=i,i.HARDENED_BIT=2147483648,Te}var Qr;function it(){if(Qr)return Ce;Qr=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.CryptoKeypath=void 0;const i=X(),p=ir(),C=G(),E=W();var g;(function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"})(g||(g={}));let r=class extends C.RegistryItem{constructor(o=[],s,d){super(),this.components=o,this.sourceFingerprint=s,this.depth=d,this.getRegistryType=()=>E.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(l=>`${l.isWildcard()?"*":l.getIndex()}${l.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const u={},l=[];return this.components&&this.components.forEach(h=>{h.isWildcard()?l.push([]):l.push(h.getIndex()),l.push(h.isHardened())}),u[g.components]=l,this.sourceFingerprint&&(u[g.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(u[g.depth]=this.depth),new i.DataItem(u)}}};return Ce.CryptoKeypath=r,r.fromDataItem=e=>{const o=e.getData(),s=[],d=o[g.components];if(d)for(let t=0;t<d.length;t+=2){const f=d[t+1],a=d[t];typeof a=="number"?s.push(new p.PathComponent({index:a,hardened:f})):s.push(new p.PathComponent({hardened:f}))}const u=o[g.source_fingerprint];let l;u&&(l=q.Buffer.alloc(4),l.writeUInt32BE(u,0));const h=o[g.depth];return new r(s,l,h)},r.fromCBOR=e=>{const o=(0,i.decodeToDataItem)(e);return r.fromDataItem(o)},Ce}var zr;function Ye(){if(zr)return Re;zr=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.CryptoHDKey=void 0;const i=Qi(),p=nr(),C=it(),E=X(),g=G(),r=W();var e;(function(s){s[s.is_master=1]="is_master",s[s.is_private=2]="is_private",s[s.key_data=3]="key_data",s[s.chain_code=4]="chain_code",s[s.use_info=5]="use_info",s[s.origin=6]="origin",s[s.children=7]="children",s[s.parent_fingerprint=8]="parent_fingerprint",s[s.name=9]="name",s[s.note=10]="note"})(e||(e={}));let o=class extends g.RegistryItem{constructor(d){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var u,l,h;let t,f,a=0,y=q.Buffer.alloc(4).fill(0);if(this.isMaster())t=q.Buffer.from("0488ADE4","hex"),f=0,a=0;else{f=((u=this.getOrigin())===null||u===void 0?void 0:u.getComponents().length)||((l=this.getOrigin())===null||l===void 0?void 0:l.getDepth());const b=(h=this.getOrigin())===null||h===void 0?void 0:h.getComponents(),O=b[b.length-1];O&&(a=O.isHardened()?O.getIndex()+2147483648:O.getIndex(),this.getParentFingerprint()&&(y=this.getParentFingerprint())),this.isPrivateKey()?t=q.Buffer.from("0488ADE4","hex"):t=q.Buffer.from("0488B21E","hex")}const n=q.Buffer.alloc(1);n.writeUInt8(f,0);const v=q.Buffer.alloc(4);v.writeUInt32BE(a,0);const T=this.getChainCode(),S=this.getKey();return(0,i.encode)(q.Buffer.concat([t,n,y,v,T,S]))},this.getRegistryType=()=>r.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var u,l,h,t,f,a,y;let n="";return this.getOrigin()&&!((u=this.getOrigin())===null||u===void 0)&&u.getSourceFingerprint()&&!((l=this.getOrigin())===null||l===void 0)&&l.getPath()&&(n+=`${(t=(h=this.getOrigin())===null||h===void 0?void 0:h.getSourceFingerprint())===null||t===void 0?void 0:t.toString("hex")}/${(f=this.getOrigin())===null||f===void 0?void 0:f.getPath()}`),n+=this.getBip32Key(),this.getChildren()&&!((a=this.getChildren())===null||a===void 0)&&a.getPath()&&(n+=`/${(y=this.getChildren())===null||y===void 0?void 0:y.getPath()}`),n},this.setupMasterKey=u=>{this.master=!0,this.key=u.key,this.chainCode=u.chainCode},this.setupDeriveKey=u=>{this.master=!1,this.privateKey=u.isPrivateKey,this.key=u.key,this.chainCode=u.chainCode,this.useInfo=u.useInfo,this.origin=u.origin,this.children=u.children,this.parentFingerprint=u.parentFingerprint,this.name=u.name,this.note=u.note},this.toDataItem=()=>{const u={};if(this.master)u[e.is_master]=!0,u[e.key_data]=this.key,u[e.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(u[e.is_private]=this.privateKey),u[e.key_data]=this.key,this.chainCode&&(u[e.chain_code]=this.chainCode),this.useInfo){const l=this.useInfo.toDataItem();l.setTag(this.useInfo.getRegistryType().getTag()),u[e.use_info]=l}if(this.origin){const l=this.origin.toDataItem();l.setTag(this.origin.getRegistryType().getTag()),u[e.origin]=l}if(this.children){const l=this.children.toDataItem();l.setTag(this.children.getRegistryType().getTag()),u[e.children]=l}this.parentFingerprint&&(u[e.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(u[e.name]=this.name),this.note!==void 0&&(u[e.note]=this.note)}return new E.DataItem(u)},d.isMaster?this.setupMasterKey(d):this.setupDeriveKey(d)}};return Re.CryptoHDKey=o,o.fromDataItem=s=>{const d=s.getData(),u=!!d[e.is_master],l=d[e.is_private],h=d[e.key_data],t=d[e.chain_code],f=d[e.use_info]?p.CryptoCoinInfo.fromDataItem(d[e.use_info]):void 0,a=d[e.origin]?C.CryptoKeypath.fromDataItem(d[e.origin]):void 0,y=d[e.children]?C.CryptoKeypath.fromDataItem(d[e.children]):void 0,n=d[e.parent_fingerprint];let v;n&&(v=q.Buffer.alloc(4),v.writeUInt32BE(n,0));const T=d[e.name],S=d[e.note];return new o({isMaster:u,isPrivateKey:l,key:h,chainCode:t,useInfo:f,origin:a,children:y,parentFingerprint:v,name:T,note:S})},o.fromCBOR=s=>{const d=(0,E.decodeToDataItem)(s);return o.fromDataItem(d)},Re}var Se={},Jr;function at(){if(Jr)return Se;Jr=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.CryptoECKey=void 0;const i=X(),p=G(),C=W();var E;(function(r){r[r.curve=1]="curve",r[r.private=2]="private",r[r.data=3]="data"})(E||(E={}));let g=class extends p.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>C.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const o={};return this.curve&&(o[E.curve]=this.curve),this.privateKey!==void 0&&(o[E.private]=this.privateKey),o[E.data]=this.data,new i.DataItem(o)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};return Se.CryptoECKey=g,g.fromDataItem=r=>{const e=r.getData(),o=e[E.curve],s=e[E.private],d=e[E.data];if(!d)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${r}`);return new g({data:d,curve:o,privateKey:s})},g.fromCBOR=r=>{const e=(0,i.decodeToDataItem)(r);return g.fromDataItem(e)},Se}var Ee={},en;function zi(){if(en)return Ee;en=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.Bytes=void 0;const i=X(),p=G(),C=W();let E=class extends p.RegistryItem{constructor(r){super(),this.bytes=r,this.getRegistryType=()=>C.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new i.DataItem(this.bytes)}};return Ee.Bytes=E,E.fromDataItem=g=>{const r=g.getData();if(!r)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${g}`);return new E(r)},E.fromCBOR=g=>{const r=(0,i.decodeToDataItem)(g);return E.fromDataItem(r)},Ee}var be={},we={},tn;function ar(){if(tn)return we;tn=1,Object.defineProperty(we,"__esModule",{value:!0}),we.MultiKey=void 0;const i=at(),p=Ye(),C=or(),E=G(),g=W();var r;(function(o){o[o.threshold=1]="threshold",o[o.keys=2]="keys"})(r||(r={}));let e=class extends E.RegistryItem{constructor(s,d){super(),this.threshold=s,this.keys=d,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const u={};u[r.threshold]=this.threshold;const l=this.keys.map(h=>{const t=h.toDataItem();return t.setTag(h.getRegistryType().getTag()),t});return u[r.keys]=l,new C.DataItem(u)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(u=>u.getOutputDescriptorContent()).join(",")].join(",")}};return we.MultiKey=e,e.fromDataItem=o=>{const s=o.getData(),d=s[r.threshold],u=s[r.keys],l=[];return u.forEach(h=>{h.getTag()===g.RegistryTypes.CRYPTO_HDKEY.getTag()?l.push(p.CryptoHDKey.fromDataItem(h)):h.getTag()===g.RegistryTypes.CRYPTO_ECKEY.getTag()&&l.push(i.CryptoECKey.fromDataItem(h))}),new e(d,l)},we}var rn;function nn(){if(rn)return be;rn=1,Object.defineProperty(be,"__esModule",{value:!0}),be.CryptoOutput=void 0;const i=at(),p=Ye(),C=X(),E=ar(),g=G(),r=W(),e=sr();let o=class extends g.RegistryItem{constructor(d,u){super(),this.scriptExpressions=d,this.cryptoKey=u,this.getRegistryType=()=>r.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof p.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof i.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof E.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=l=>l>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[l].getExpression()}(${this._toOutputDescriptor(l+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let l=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof i.CryptoECKey||this.cryptoKey instanceof p.CryptoHDKey)&&l.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(t=>{const f=t.getTag();l.getTag()===void 0?l.setTag(f):l=new C.DataItem(l,f)}),l}}};return be.CryptoOutput=o,o.fromDataItem=s=>{const d=[];let u=s;for(;;){let t=u.getTag();const f=e.ScriptExpression.fromTag(t);if(f)if(d.push(f),u.getData()instanceof C.DataItem)u=u.getData(),t=u.getTag();else break;else break}const l=d.length;if(l>0&&(d[l-1].getExpression()===e.ScriptExpressions.MULTISIG.getExpression()||d[l-1].getExpression()===e.ScriptExpressions.SORTED_MULTISIG.getExpression())){const t=E.MultiKey.fromDataItem(u);return new o(d,t)}if(u.getTag()===r.RegistryTypes.CRYPTO_HDKEY.getTag()){const t=p.CryptoHDKey.fromDataItem(u);return new o(d,t)}else{const t=i.CryptoECKey.fromDataItem(u);return new o(d,t)}},o.fromCBOR=s=>{const d=(0,C.decodeToDataItem)(s);return o.fromDataItem(d)},be}var Oe={},an;function on(){if(an)return Oe;an=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.CryptoPSBT=void 0;const i=X(),p=G(),C=W();let E=class extends p.RegistryItem{constructor(r){super(),this.psbt=r,this.getRegistryType=()=>C.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new i.DataItem(this.psbt)}};return Oe.CryptoPSBT=E,E.fromDataItem=g=>{const r=g.getData();if(!r)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${g}`);return new E(r)},E.fromCBOR=g=>{const r=(0,i.decodeToDataItem)(g);return E.fromDataItem(r)},Oe}var Ie={},sn;function un(){if(sn)return Ie;sn=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.CryptoAccount=void 0;const i=ot(),p=X(),C=G(),E=W();var g;(function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.outputDescriptors=2]="outputDescriptors"})(g||(g={}));let r=class extends C.RegistryItem{constructor(o,s){super(),this.masterFingerprint=o,this.outputDescriptors=s,this.getRegistryType=()=>E.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const d={};return this.masterFingerprint&&(d[g.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(d[g.outputDescriptors]=this.outputDescriptors.map(u=>u.toDataItem())),new p.DataItem(d)}}};return Ie.CryptoAccount=r,r.fromDataItem=e=>{const o=e.getData(),s=q.Buffer.alloc(4),d=o[g.masterFingerprint];d&&s.writeUInt32BE(d,0);const l=o[g.outputDescriptors].map(h=>i.CryptoOutput.fromDataItem(h));return new r(s,l)},r.fromCBOR=e=>{const o=(0,p.decodeToDataItem)(e);return r.fromDataItem(o)},Ie}var De={},Be={},fn;function ri(){if(fn)return Be;fn=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.UnknownURTypeError=void 0;class i extends Error{constructor(C){super(C)}}return Be.UnknownURTypeError=i,Be}var cn;function ln(){if(cn)return De;cn=1,Object.defineProperty(De,"__esModule",{value:!0}),De.URRegistryDecoder=void 0;const i=fr(),p=ot(),C=W(),E=ri();class g extends i.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const e=this.resultUR();switch(e.type){case C.RegistryTypes.BYTES.getType():return p.Bytes.fromCBOR(e.cbor);case C.RegistryTypes.CRYPTO_HDKEY.getType():return p.CryptoHDKey.fromCBOR(e.cbor);case C.RegistryTypes.CRYPTO_KEYPATH.getType():return p.CryptoKeypath.fromCBOR(e.cbor);case C.RegistryTypes.CRYPTO_COIN_INFO.getType():return p.CryptoCoinInfo.fromCBOR(e.cbor);case C.RegistryTypes.CRYPTO_ECKEY.getType():return p.CryptoECKey.fromCBOR(e.cbor);case C.RegistryTypes.CRYPTO_OUTPUT.getType():return p.CryptoOutput.fromCBOR(e.cbor);case C.RegistryTypes.CRYPTO_PSBT.getType():return p.CryptoPSBT.fromCBOR(e.cbor);case C.RegistryTypes.CRYPTO_ACCOUNT.getType():return p.CryptoAccount.fromCBOR(e.cbor);default:throw new E.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}}return De.URRegistryDecoder=g,De}var Ae={},dn;function hn(){if(dn)return Ae;dn=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.CryptoMultiAccounts=void 0;const i=W(),p=Ye(),C=G(),E=X();var g;(function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.keys=2]="keys",e[e.device=3]="device",e[e.deviceId=4]="deviceId",e[e.version=5]="version"})(g||(g={}));let r=class extends C.RegistryItem{constructor(o,s,d,u,l){super(),this.masterFingerprint=o,this.keys=s,this.device=d,this.deviceId=u,this.version=l,this.getRegistryType=()=>i.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.getDeviceId=()=>this.deviceId,this.getVersion=()=>this.version,this.toDataItem=()=>{const h={};return this.masterFingerprint&&(h[g.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(h[g.keys]=this.keys.map(t=>{const f=t.toDataItem();return f.setTag(t.getRegistryType().getTag()),f})),this.device&&(h[g.device]=this.device),this.deviceId&&(h[g.deviceId]=this.deviceId),this.version&&(h[g.version]=this.version),new E.DataItem(h)}}};return Ae.CryptoMultiAccounts=r,r.fromDataItem=e=>{const o=e.getData(),s=q.Buffer.alloc(4),d=o[g.masterFingerprint];d&&s.writeUInt32BE(d,0);const l=o[g.keys].map(a=>p.CryptoHDKey.fromDataItem(a)),h=o[g.device],t=o[g.deviceId],f=o[g.version];return new r(s,l,h,t,f)},r.fromCBOR=e=>{const o=(0,E.decodeToDataItem)(e);return r.fromDataItem(o)},Ae}var Gt={},Pe={},Yt={},pn;function ni(){return pn||(pn=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.KeyDerivationSchema=i.DerivationAlgorithm=i.Curve=void 0;const p=W(),C=G(),E=X(),g=it();var r;(function(d){d[d.keyPath=1]="keyPath",d[d.curve=2]="curve",d[d.algo=3]="algo"})(r||(r={}));var e;(function(d){d[d.secp256k1=0]="secp256k1",d[d.ed25519=1]="ed25519"})(e=i.Curve||(i.Curve={}));var o;(function(d){d[d.slip10=0]="slip10",d[d.bip32ed25519=1]="bip32ed25519"})(o=i.DerivationAlgorithm||(i.DerivationAlgorithm={}));class s extends C.RegistryItem{constructor(u,l=e.secp256k1,h=o.slip10){super(),this.keypath=u,this.curve=l,this.algo=h,this.getRegistryType=()=>p.RegistryTypes.KEY_DERIVATION_SCHEMA,this.getKeypath=()=>this.keypath,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.toDataItem=()=>{const t={},f=this.getKeypath().toDataItem();return f.setTag(this.getKeypath().getRegistryType().getTag()),t[r.keyPath]=f,t[r.curve]=this.curve,t[r.algo]=this.algo,new E.DataItem(t)}}}i.KeyDerivationSchema=s,s.fromDataItem=d=>{const u=d.getData(),l=g.CryptoKeypath.fromDataItem(u[r.keyPath]),h=u[r.curve],t=u[r.algo];return new s(l,h,t)},s.fromCBOR=d=>{const u=(0,E.decodeToDataItem)(d);return s.fromDataItem(u)}}(Yt)),Yt}var gn;function ii(){if(gn)return Pe;gn=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.KeyDerivation=void 0;const i=W(),p=G(),C=X(),E=ni();var g;(function(e){e[e.schemas=1]="schemas"})(g||(g={}));let r=class extends p.RegistryItem{constructor(o){super(),this.schemas=o,this.getRegistryType=()=>i.RegistryTypes.KEY_DERIVATION_CALL,this.getSchemas=()=>this.schemas,this.toDataItem=()=>{const s={};return s[g.schemas]=this.schemas.map(d=>{const u=d.toDataItem();return u.setTag(d.getRegistryType().getTag()),u}),new C.DataItem(s)}}};return Pe.KeyDerivation=r,r.fromDataItem=e=>{const s=e.getData()[g.schemas].map(d=>E.KeyDerivationSchema.fromDataItem(d));return new r(s)},r.fromCBOR=e=>{const o=(0,C.decodeToDataItem)(e);return r.fromDataItem(o)},Pe}var yn;function Ji(){return yn||(yn=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.QRHardwareCall=i.QRHardwareCallType=void 0;const p=W(),C=G(),E=X(),g=ii();var r;(function(s){s[s.type=1]="type",s[s.params=2]="params",s[s.origin=3]="origin"})(r||(r={}));var e;(function(s){s[s.KeyDerivation=0]="KeyDerivation"})(e=i.QRHardwareCallType||(i.QRHardwareCallType={}));class o extends C.RegistryItem{constructor(d,u,l){super(),this.type=d,this.params=u,this.origin=l,this.getRegistryType=()=>p.RegistryTypes.QR_HARDWARE_CALL,this.getType=()=>this.type,this.getParams=()=>this.params,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const h={};h[r.type]=this.type;const t=this.params.toDataItem();return t.setTag(this.params.getRegistryType().getTag()),h[r.params]=t,this.origin&&(h[r.origin]=this.origin),new E.DataItem(h)}}}i.QRHardwareCall=o,o.fromDataItem=s=>{const d=s.getData(),u=d[r.type]||e.KeyDerivation;let l;switch(u){case e.KeyDerivation:l=g.KeyDerivation.fromDataItem(d[r.params])}const h=d[r.origin];return new o(u,l,h)},o.fromCBOR=s=>{const d=(0,E.decodeToDataItem)(s);return o.fromDataItem(d)}}(Gt)),Gt}var $t={},vn;function ea(){return vn||(vn=1,Object.defineProperty($t,"__esModule",{value:!0})),$t}var _n;function ot(){return _n||(_n=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.Buffer=i.extend=i.PathComponent=i.ScriptExpressions=i.MultiKey=i.CryptoPSBT=i.CryptoOutput=i.CryptoECKey=i.CryptoCoinInfoNetwork=i.CryptoCoinInfoType=i.CryptoCoinInfo=i.CryptoKeypath=i.CryptoMultiAccounts=i.CryptoHDKey=i.CryptoAccount=i.Bytes=i.URRegistryDecoder=i.DataItem=void 0;const p=Ni;Rr();const C=$e();Object.defineProperty(i,"Buffer",{enumerable:!0,get:function(){return C.Buffer}});const E=Ye();Object.defineProperty(i,"CryptoHDKey",{enumerable:!0,get:function(){return E.CryptoHDKey}});const g=it();Object.defineProperty(i,"CryptoKeypath",{enumerable:!0,get:function(){return g.CryptoKeypath}});const r=nr();Object.defineProperty(i,"CryptoCoinInfo",{enumerable:!0,get:function(){return r.CryptoCoinInfo}}),Object.defineProperty(i,"CryptoCoinInfoType",{enumerable:!0,get:function(){return r.Type}}),Object.defineProperty(i,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return r.Network}});const e=at();Object.defineProperty(i,"CryptoECKey",{enumerable:!0,get:function(){return e.CryptoECKey}});const o=zi();Object.defineProperty(i,"Bytes",{enumerable:!0,get:function(){return o.Bytes}});const s=nn();Object.defineProperty(i,"CryptoOutput",{enumerable:!0,get:function(){return s.CryptoOutput}});const d=on();Object.defineProperty(i,"CryptoPSBT",{enumerable:!0,get:function(){return d.CryptoPSBT}});const u=un();Object.defineProperty(i,"CryptoAccount",{enumerable:!0,get:function(){return u.CryptoAccount}});const l=ln();Object.defineProperty(i,"URRegistryDecoder",{enumerable:!0,get:function(){return l.URRegistryDecoder}});const h=ar();Object.defineProperty(i,"MultiKey",{enumerable:!0,get:function(){return h.MultiKey}});const t=sr();Object.defineProperty(i,"ScriptExpressions",{enumerable:!0,get:function(){return t.ScriptExpressions}});const f=ir();Object.defineProperty(i,"PathComponent",{enumerable:!0,get:function(){return f.PathComponent}});const a=G(),y=W(),n=X();var v=X();Object.defineProperty(i,"DataItem",{enumerable:!0,get:function(){return v.DataItem}});const T=tr(),S=hn();Object.defineProperty(i,"CryptoMultiAccounts",{enumerable:!0,get:function(){return S.CryptoMultiAccounts}});const b={URRegistryDecoder:l.URRegistryDecoder,Bytes:o.Bytes,CryptoAccount:u.CryptoAccount,CryptoHDKey:E.CryptoHDKey,CryptoMultiAccounts:S.CryptoMultiAccounts,CryptoKeypath:g.CryptoKeypath,CryptoCoinInfo:r.CryptoCoinInfo,CryptoCoinInfoType:r.Type,CryptoCoinInfoNetwork:r.Network,CryptoECKey:e.CryptoECKey,CryptoOutput:s.CryptoOutput,CryptoPSBT:d.CryptoPSBT,MultiKey:h.MultiKey,ScriptExpressions:t.ScriptExpressions,PathComponent:f.PathComponent},O={addReader:n.addReader,addSemanticDecode:n.addSemanticDecode,addSemanticEncode:n.addSemanticEncode,addWriter:n.addWriter,patchTags:T.patchTags},c={RegistryTypes:y.RegistryTypes,RegistryItem:a.RegistryItem,RegistryType:y.RegistryType,decodeToDataItem:n.decodeToDataItem,encodeDataItem:n.encodeDataItem,cbor:O};i.extend=c,(0,p.__exportStar)(ri(),i),(0,p.__exportStar)(ln(),i),(0,p.__exportStar)(X(),i),(0,p.__exportStar)(un(),i),(0,p.__exportStar)(on(),i),(0,p.__exportStar)(Ye(),i),(0,p.__exportStar)(hn(),i),(0,p.__exportStar)(Ji(),i),(0,p.__exportStar)(ii(),i),(0,p.__exportStar)(ni(),i),(0,p.__exportStar)(nn(),i),(0,p.__exportStar)(nr(),i),(0,p.__exportStar)(at(),i),(0,p.__exportStar)(ar(),i),(0,p.__exportStar)(it(),i),(0,p.__exportStar)(Rr(),i),(0,p.__exportStar)(ir(),i),(0,p.__exportStar)(G(),i),(0,p.__exportStar)(W(),i),(0,p.__exportStar)(ea(),i),(0,p.__exportStar)(tr(),i),i.default=b}(vt)),vt}var Zt={},Me={},rt={},Rn;function ai(){if(Rn)return rt;Rn=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=C;let i;const p=new Uint8Array(16);function C(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(p)}return rt}var ce={},Ne={},Le={},mn;function ta(){if(mn)return Le;mn=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.default=void 0;var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return Le.default=i,Le}var Cn;function st(){if(Cn)return Ne;Cn=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=void 0;var i=p(ta());function p(g){return g&&g.__esModule?g:{default:g}}function C(g){return typeof g=="string"&&i.default.test(g)}var E=C;return Ne.default=E,Ne}var Tn;function ut(){if(Tn)return ce;Tn=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=void 0,ce.unsafeStringify=E;var i=p(st());function p(e){return e&&e.__esModule?e:{default:e}}const C=[];for(let e=0;e<256;++e)C.push((e+256).toString(16).slice(1));function E(e,o=0){return C[e[o+0]]+C[e[o+1]]+C[e[o+2]]+C[e[o+3]]+"-"+C[e[o+4]]+C[e[o+5]]+"-"+C[e[o+6]]+C[e[o+7]]+"-"+C[e[o+8]]+C[e[o+9]]+"-"+C[e[o+10]]+C[e[o+11]]+C[e[o+12]]+C[e[o+13]]+C[e[o+14]]+C[e[o+15]]}function g(e,o=0){const s=E(e,o);if(!(0,i.default)(s))throw TypeError("Stringified UUID is invalid");return s}var r=g;return ce.default=r,ce}var Sn;function ra(){if(Sn)return Me;Sn=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=void 0;var i=C(ai()),p=ut();function C(d){return d&&d.__esModule?d:{default:d}}let E,g,r=0,e=0;function o(d,u,l){let h=u&&l||0;const t=u||new Array(16);d=d||{};let f=d.node||E,a=d.clockseq!==void 0?d.clockseq:g;if(f==null||a==null){const b=d.random||(d.rng||i.default)();f==null&&(f=E=[b[0]|1,b[1],b[2],b[3],b[4],b[5]]),a==null&&(a=g=(b[6]<<8|b[7])&16383)}let y=d.msecs!==void 0?d.msecs:Date.now(),n=d.nsecs!==void 0?d.nsecs:e+1;const v=y-r+(n-e)/1e4;if(v<0&&d.clockseq===void 0&&(a=a+1&16383),(v<0||y>r)&&d.nsecs===void 0&&(n=0),n>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");r=y,e=n,g=a,y+=122192928e5;const T=((y&268435455)*1e4+n)%4294967296;t[h++]=T>>>24&255,t[h++]=T>>>16&255,t[h++]=T>>>8&255,t[h++]=T&255;const S=y/4294967296*1e4&268435455;t[h++]=S>>>8&255,t[h++]=S&255,t[h++]=S>>>24&15|16,t[h++]=S>>>16&255,t[h++]=a>>>8|128,t[h++]=a&255;for(let b=0;b<6;++b)t[h+b]=f[b];return u||(0,p.unsafeStringify)(t)}var s=o;return Me.default=s,Me}var Ue={},ee={},qe={},En;function oi(){if(En)return qe;En=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.default=void 0;var i=p(st());function p(g){return g&&g.__esModule?g:{default:g}}function C(g){if(!(0,i.default)(g))throw TypeError("Invalid UUID");let r;const e=new Uint8Array(16);return e[0]=(r=parseInt(g.slice(0,8),16))>>>24,e[1]=r>>>16&255,e[2]=r>>>8&255,e[3]=r&255,e[4]=(r=parseInt(g.slice(9,13),16))>>>8,e[5]=r&255,e[6]=(r=parseInt(g.slice(14,18),16))>>>8,e[7]=r&255,e[8]=(r=parseInt(g.slice(19,23),16))>>>8,e[9]=r&255,e[10]=(r=parseInt(g.slice(24,36),16))/1099511627776&255,e[11]=r/4294967296&255,e[12]=r>>>24&255,e[13]=r>>>16&255,e[14]=r>>>8&255,e[15]=r&255,e}var E=C;return qe.default=E,qe}var bn;function si(){if(bn)return ee;bn=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.URL=ee.DNS=void 0,ee.default=e;var i=ut(),p=C(oi());function C(o){return o&&o.__esModule?o:{default:o}}function E(o){o=unescape(encodeURIComponent(o));const s=[];for(let d=0;d<o.length;++d)s.push(o.charCodeAt(d));return s}const g="6ba7b810-9dad-11d1-80b4-00c04fd430c8";ee.DNS=g;const r="6ba7b811-9dad-11d1-80b4-00c04fd430c8";ee.URL=r;function e(o,s,d){function u(l,h,t,f){var a;if(typeof l=="string"&&(l=E(l)),typeof h=="string"&&(h=(0,p.default)(h)),((a=h)===null||a===void 0?void 0:a.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let y=new Uint8Array(16+l.length);if(y.set(h),y.set(l,h.length),y=d(y),y[6]=y[6]&15|s,y[8]=y[8]&63|128,t){f=f||0;for(let n=0;n<16;++n)t[f+n]=y[n];return t}return(0,i.unsafeStringify)(y)}try{u.name=o}catch{}return u.DNS=g,u.URL=r,u}return ee}var xe={},wn;function na(){if(wn)return xe;wn=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.default=void 0;function i(t){if(typeof t=="string"){const f=unescape(encodeURIComponent(t));t=new Uint8Array(f.length);for(let a=0;a<f.length;++a)t[a]=f.charCodeAt(a)}return p(E(g(t),t.length*8))}function p(t){const f=[],a=t.length*32,y="0123456789abcdef";for(let n=0;n<a;n+=8){const v=t[n>>5]>>>n%32&255,T=parseInt(y.charAt(v>>>4&15)+y.charAt(v&15),16);f.push(T)}return f}function C(t){return(t+64>>>9<<4)+14+1}function E(t,f){t[f>>5]|=128<<f%32,t[C(f)-1]=f;let a=1732584193,y=-271733879,n=-1732584194,v=271733878;for(let T=0;T<t.length;T+=16){const S=a,b=y,O=n,c=v;a=s(a,y,n,v,t[T],7,-680876936),v=s(v,a,y,n,t[T+1],12,-389564586),n=s(n,v,a,y,t[T+2],17,606105819),y=s(y,n,v,a,t[T+3],22,-1044525330),a=s(a,y,n,v,t[T+4],7,-176418897),v=s(v,a,y,n,t[T+5],12,1200080426),n=s(n,v,a,y,t[T+6],17,-1473231341),y=s(y,n,v,a,t[T+7],22,-45705983),a=s(a,y,n,v,t[T+8],7,1770035416),v=s(v,a,y,n,t[T+9],12,-1958414417),n=s(n,v,a,y,t[T+10],17,-42063),y=s(y,n,v,a,t[T+11],22,-1990404162),a=s(a,y,n,v,t[T+12],7,1804603682),v=s(v,a,y,n,t[T+13],12,-40341101),n=s(n,v,a,y,t[T+14],17,-1502002290),y=s(y,n,v,a,t[T+15],22,1236535329),a=d(a,y,n,v,t[T+1],5,-165796510),v=d(v,a,y,n,t[T+6],9,-1069501632),n=d(n,v,a,y,t[T+11],14,643717713),y=d(y,n,v,a,t[T],20,-373897302),a=d(a,y,n,v,t[T+5],5,-701558691),v=d(v,a,y,n,t[T+10],9,38016083),n=d(n,v,a,y,t[T+15],14,-660478335),y=d(y,n,v,a,t[T+4],20,-405537848),a=d(a,y,n,v,t[T+9],5,568446438),v=d(v,a,y,n,t[T+14],9,-1019803690),n=d(n,v,a,y,t[T+3],14,-187363961),y=d(y,n,v,a,t[T+8],20,1163531501),a=d(a,y,n,v,t[T+13],5,-1444681467),v=d(v,a,y,n,t[T+2],9,-51403784),n=d(n,v,a,y,t[T+7],14,1735328473),y=d(y,n,v,a,t[T+12],20,-1926607734),a=u(a,y,n,v,t[T+5],4,-378558),v=u(v,a,y,n,t[T+8],11,-2022574463),n=u(n,v,a,y,t[T+11],16,1839030562),y=u(y,n,v,a,t[T+14],23,-35309556),a=u(a,y,n,v,t[T+1],4,-1530992060),v=u(v,a,y,n,t[T+4],11,1272893353),n=u(n,v,a,y,t[T+7],16,-155497632),y=u(y,n,v,a,t[T+10],23,-1094730640),a=u(a,y,n,v,t[T+13],4,681279174),v=u(v,a,y,n,t[T],11,-358537222),n=u(n,v,a,y,t[T+3],16,-722521979),y=u(y,n,v,a,t[T+6],23,76029189),a=u(a,y,n,v,t[T+9],4,-640364487),v=u(v,a,y,n,t[T+12],11,-421815835),n=u(n,v,a,y,t[T+15],16,530742520),y=u(y,n,v,a,t[T+2],23,-995338651),a=l(a,y,n,v,t[T],6,-198630844),v=l(v,a,y,n,t[T+7],10,1126891415),n=l(n,v,a,y,t[T+14],15,-1416354905),y=l(y,n,v,a,t[T+5],21,-57434055),a=l(a,y,n,v,t[T+12],6,1700485571),v=l(v,a,y,n,t[T+3],10,-1894986606),n=l(n,v,a,y,t[T+10],15,-1051523),y=l(y,n,v,a,t[T+1],21,-2054922799),a=l(a,y,n,v,t[T+8],6,1873313359),v=l(v,a,y,n,t[T+15],10,-30611744),n=l(n,v,a,y,t[T+6],15,-1560198380),y=l(y,n,v,a,t[T+13],21,1309151649),a=l(a,y,n,v,t[T+4],6,-145523070),v=l(v,a,y,n,t[T+11],10,-1120210379),n=l(n,v,a,y,t[T+2],15,718787259),y=l(y,n,v,a,t[T+9],21,-343485551),a=r(a,S),y=r(y,b),n=r(n,O),v=r(v,c)}return[a,y,n,v]}function g(t){if(t.length===0)return[];const f=t.length*8,a=new Uint32Array(C(f));for(let y=0;y<f;y+=8)a[y>>5]|=(t[y/8]&255)<<y%32;return a}function r(t,f){const a=(t&65535)+(f&65535);return(t>>16)+(f>>16)+(a>>16)<<16|a&65535}function e(t,f){return t<<f|t>>>32-f}function o(t,f,a,y,n,v){return r(e(r(r(f,t),r(y,v)),n),a)}function s(t,f,a,y,n,v,T){return o(f&a|~f&y,t,f,n,v,T)}function d(t,f,a,y,n,v,T){return o(f&y|a&~y,t,f,n,v,T)}function u(t,f,a,y,n,v,T){return o(f^a^y,t,f,n,v,T)}function l(t,f,a,y,n,v,T){return o(a^(f|~y),t,f,n,v,T)}var h=i;return xe.default=h,xe}var On;function ia(){if(On)return Ue;On=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.default=void 0;var i=C(si()),p=C(na());function C(r){return r&&r.__esModule?r:{default:r}}var g=(0,i.default)("v3",48,p.default);return Ue.default=g,Ue}var Ke={},He={},In;function aa(){if(In)return He;In=1,Object.defineProperty(He,"__esModule",{value:!0}),He.default=void 0;var p={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return He.default=p,He}var Dn;function oa(){if(Dn)return Ke;Dn=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.default=void 0;var i=E(aa()),p=E(ai()),C=ut();function E(e){return e&&e.__esModule?e:{default:e}}function g(e,o,s){if(i.default.randomUUID&&!o&&!e)return i.default.randomUUID();e=e||{};const d=e.random||(e.rng||p.default)();if(d[6]=d[6]&15|64,d[8]=d[8]&63|128,o){s=s||0;for(let u=0;u<16;++u)o[s+u]=d[u];return o}return(0,C.unsafeStringify)(d)}var r=g;return Ke.default=r,Ke}var Fe={},ke={},Bn;function sa(){if(Bn)return ke;Bn=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=void 0;function i(g,r,e,o){switch(g){case 0:return r&e^~r&o;case 1:return r^e^o;case 2:return r&e^r&o^e&o;case 3:return r^e^o}}function p(g,r){return g<<r|g>>>32-r}function C(g){const r=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof g=="string"){const u=unescape(encodeURIComponent(g));g=[];for(let l=0;l<u.length;++l)g.push(u.charCodeAt(l))}else Array.isArray(g)||(g=Array.prototype.slice.call(g));g.push(128);const o=g.length/4+2,s=Math.ceil(o/16),d=new Array(s);for(let u=0;u<s;++u){const l=new Uint32Array(16);for(let h=0;h<16;++h)l[h]=g[u*64+h*4]<<24|g[u*64+h*4+1]<<16|g[u*64+h*4+2]<<8|g[u*64+h*4+3];d[u]=l}d[s-1][14]=(g.length-1)*8/Math.pow(2,32),d[s-1][14]=Math.floor(d[s-1][14]),d[s-1][15]=(g.length-1)*8&4294967295;for(let u=0;u<s;++u){const l=new Uint32Array(80);for(let n=0;n<16;++n)l[n]=d[u][n];for(let n=16;n<80;++n)l[n]=p(l[n-3]^l[n-8]^l[n-14]^l[n-16],1);let h=e[0],t=e[1],f=e[2],a=e[3],y=e[4];for(let n=0;n<80;++n){const v=Math.floor(n/20),T=p(h,5)+i(v,t,f,a)+y+r[v]+l[n]>>>0;y=a,a=f,f=p(t,30)>>>0,t=h,h=T}e[0]=e[0]+h>>>0,e[1]=e[1]+t>>>0,e[2]=e[2]+f>>>0,e[3]=e[3]+a>>>0,e[4]=e[4]+y>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var E=C;return ke.default=E,ke}var An;function ua(){if(An)return Fe;An=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.default=void 0;var i=C(si()),p=C(sa());function C(r){return r&&r.__esModule?r:{default:r}}var g=(0,i.default)("v5",80,p.default);return Fe.default=g,Fe}var je={},Pn;function fa(){if(Pn)return je;Pn=1,Object.defineProperty(je,"__esModule",{value:!0}),je.default=void 0;var i="00000000-0000-0000-0000-000000000000";return je.default=i,je}var Xe={},Mn;function ca(){if(Mn)return Xe;Mn=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.default=void 0;var i=p(st());function p(g){return g&&g.__esModule?g:{default:g}}function C(g){if(!(0,i.default)(g))throw TypeError("Invalid UUID");return parseInt(g.slice(14,15),16)}var E=C;return Xe.default=E,Xe}var Nn;function ui(){return Nn||(Nn=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return e.default}});var p=u(ra()),C=u(ia()),E=u(oa()),g=u(ua()),r=u(fa()),e=u(ca()),o=u(st()),s=u(ut()),d=u(oi());function u(l){return l&&l.__esModule?l:{default:l}}}(Zt)),Zt}var Ln;function la(){return Ln||(Ln=1,function(i){Object.defineProperty(i,"__esModule",{value:!0});var p=ot(),C=ui();const E={TRON_SIGN_REQUEST:new p.RegistryType("ton-sign-request",7201),TRON_SIGNATURE:new p.RegistryType("ton-signature",7202)},{decodeToDataItem:g,RegistryTypes:r}=p.extend;var e,o;(function(t){t[t.requestId=1]="requestId",t[t.signData=2]="signData",t[t.dataType=3]="dataType",t[t.derivationPath=4]="derivationPath",t[t.address=5]="address",t[t.origin=6]="origin"})(e||(e={})),(o=i.DataType||(i.DataType={}))[o.TRANSACTION=1]="TRANSACTION",o[o.SIGN_PROOF=2]="SIGN_PROOF";class s extends p.RegistryItem{constructor(f){super(),this.getRegistryType=()=>E.TRON_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath?this.derivationPath.getPath():void 0,this.getAddress=()=>this.address,this.getOrigin=()=>this.origin,this.getDataType=()=>this.dataType,this.toDataItem=()=>{const a={};if(a[e.signData]=this.signData,a[e.dataType]=this.dataType,this.derivationPath){const y=this.derivationPath.toDataItem();y.setTag(this.derivationPath.getRegistryType().getTag()),a[e.derivationPath]=y}return this.requestId&&(a[e.requestId]=new p.DataItem(this.requestId,r.UUID.getTag())),this.address&&(a[e.address]=this.address),this.origin&&(a[e.origin]=this.origin),new p.DataItem(a)},this.requestId=f.requestId,this.signData=f.signData,this.derivationPath=f.derivationPath,this.address=f.address,this.origin=f.origin,this.dataType=f.dataType}static parsePath(f,a){const y=f.replace(/[m|M]\//,"").split("/").map(n=>{const v=parseInt(n.replace("'",""));let T=!1;return n.endsWith("'")&&(T=!0),new p.PathComponent({index:v,hardened:T})});return new p.CryptoKeypath(y,q.Buffer.from(a,"hex"))}static constructTonRequest(f,a,y,n,v,T,S){return new s({requestId:n?q.Buffer.from(C.parse(n)):void 0,signData:f,dataType:a,derivationPath:S&&T?s.parsePath(S,T):void 0,address:y,origin:v})}}s.fromDataItem=t=>{const f=t.getData(),a=f[e.requestId]?f[e.requestId].getData():void 0,y=f[e.derivationPath]?p.CryptoKeypath.fromDataItem(f[e.derivationPath]):void 0;return new s({requestId:a,signData:f[e.signData],dataType:f[e.dataType],derivationPath:y,address:f[e.address],origin:f[e.origin]})},s.fromCBOR=t=>{const f=g(t);return s.fromDataItem(f)};const{RegistryTypes:d,decodeToDataItem:u}=p.extend;var l;(function(t){t[t.requestId=1]="requestId",t[t.signature=2]="signature",t[t.origin=3]="origin"})(l||(l={}));class h extends p.RegistryItem{constructor(f,a,y){super(),this.getRegistryType=()=>E.TRON_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const n={};return this.requestId&&(n[l.requestId]=new p.DataItem(this.requestId,d.UUID.getTag())),this.origin&&(n[l.origin]=this.origin),n[l.signature]=this.signature,new p.DataItem(n)},this.signature=f,this.requestId=a,this.origin=y}}h.fromDataItem=t=>{const f=t.getData(),a=f[l.signature];let y,n;return f[l.requestId]&&(y=f[l.requestId].getData()),f[l.origin]&&(n=f[l.origin]),new h(a,y,n)},h.fromCBOR=t=>{const f=u(t);return h.fromDataItem(f)},p.patchTags(Object.values(E).filter(t=>!!t.getTag()).map(t=>t.getTag())),Object.keys(p).forEach(function(t){t!=="default"&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return p[t]}})}),i.TonSignRequest=s,i.TonSignature=h}(yt)),yt}var Un;function da(){return Un||(Un=1,gt.exports=la()),gt.exports}var ie={},Q={},We={},qn;function fi(){if(qn)return We;qn=1,Object.defineProperty(We,"__esModule",{value:!0}),We.getCoinSymbol=void 0;function i(p){var C;return(C={0:"BTC",2:"LTC",3:"DOGE",4:"RDD",5:"DASH",6:"PPC",7:"NMC",8:"FTC",9:"XCP",10:"BLK",11:"NSR",12:"NBT",13:"MZC",14:"VIA",15:"XCH",16:"RBY",17:"GRS",18:"DGC",19:"CCN",20:"DGB",22:"MONA",23:"CLAM",24:"XPM",25:"NEOS",26:"JBS",27:"ZRC",28:"VTC",29:"NXT",30:"BURST",31:"MUE",32:"ZOOM",33:"VASH",34:"CDN",35:"SDC",36:"PKB",37:"PND",38:"START",39:"MOIN",40:"EXP",41:"EMC2",42:"DCR",43:"XEM",44:"PART",45:"ARG",48:"SHR",49:"GCR",50:"NVC",51:"AC",52:"BTCD",53:"DOPE",54:"TPC",55:"AIB",56:"EDRC",57:"SYS",58:"SLR",59:"SMLY",60:"ETH",61:"ETC",62:"PSB",63:"LDCN",65:"XBC",66:"IOP",67:"NXS",68:"INSN",69:"OK",70:"BRIT",71:"CMP",72:"CRW",73:"BELA",74:"ICX",75:"FJC",76:"MIX",77:"XVG",78:"EFL",79:"CLUB",80:"RICHX",81:"POT",82:"QRK",83:"TRC",84:"GRC",85:"AUR",86:"IXC",87:"NLG",88:"BITB",89:"BTA",90:"XMY",91:"BSD",92:"UNO",93:"MTR",94:"GB",95:"SHM",96:"CRX",97:"BIQ",98:"EVO",99:"STO",100:"BIGUP",101:"GAME",102:"DLC",103:"ZYD",104:"DBIC",105:"STRAT",106:"SH",107:"MARS",108:"UBQ",109:"PTC",110:"NRO",111:"ARK",112:"USC",113:"THC",114:"LINX",115:"ECN",116:"DNR",117:"PINK",118:"ATOM",119:"PIVX",120:"FLASH",121:"ZEN",122:"PUT",123:"ZNY",124:"UNIFY",125:"XST",126:"BRK",127:"VC",128:"XMR",129:"VOX",130:"NAV",131:"FCT",132:"EC",133:"ZEC",134:"LSK",135:"STEEM",136:"XZC",137:"RBTC",139:"RPT",140:"LBC",141:"KMD",142:"BSQ",143:"RIC",144:"XRP",145:"BCH",146:"NEBL",147:"ZCL",148:"XLM",149:"NLC2",150:"WHL",151:"ERC",152:"DMD",153:"BTM",154:"BIO",155:"XWCC",156:"BTG",157:"BTC2X",158:"SSN",159:"TOA",160:"BTX",161:"ACC",162:"BCO",163:"ELLA",164:"PIRL",165:"XNO",166:"VIVO",167:"FRST",168:"HNC",169:"BUZZ",170:"MBRS",171:"HC",172:"HTML",173:"ODN",174:"ONX",175:"RVN",176:"GBX",177:"BTCZ",178:"POA",179:"NYC",180:"MXT",181:"WC",182:"MNX",183:"BTCP",184:"MUSIC",185:"BCA",186:"CRAVE",187:"STAK",188:"WBTC",189:"LCH",190:"EXCL",192:"LCC",193:"XFE",194:"EOS",195:"TRX",196:"KOBO",197:"HUSH",198:"BAN",199:"ETF",200:"OMNI",201:"BIFI",202:"UFO",203:"CNMC",204:"BCN",205:"RIN",206:"ATP",207:"EVT",208:"ATN",209:"BIS",210:"NEET",211:"BOPO",212:"OOT",213:"ALIAS",214:"MONK",215:"BOXY",216:"FLO",217:"MEC",218:"BTDX",219:"XAX",220:"ANON",221:"LTZ",222:"BITG",223:"ICP",224:"SMART",225:"XUEZ",226:"HLM",227:"WEB",228:"ACM",229:"NOS",230:"BITC",231:"HTH",232:"TZC",233:"VAR",234:"IOV",235:"FIO",236:"BSV",237:"DXN",238:"QRL",239:"PCX",240:"LOKI",242:"NIM",243:"SOV",244:"JCT",245:"SLP",246:"EWT",247:"UC",248:"EXOS",249:"ECA",250:"SOOM",251:"XRD",252:"FREE",253:"NPW",254:"BST",256:"NANO",257:"BTCC",259:"ZEST",260:"ABT",261:"PION",262:"DT3",263:"ZBUX",264:"KPL",265:"TPAY",266:"ZILLA",267:"ANK",268:"BCC",269:"HPB",270:"ONE",271:"SBC",272:"IPC",273:"DMTC",274:"OGC",275:"SHIT",276:"ANDES",277:"AREPA",278:"BOLI",279:"RIL",280:"HTR",281:"FCTID",282:"BRAVO",283:"ALGO",284:"BZX",285:"GXX",286:"HEAT",287:"XDN",288:"FSN",289:"CPC",290:"BOLD",291:"IOST",292:"TKEY",293:"USE",294:"BCZ",295:"IOC",296:"ASF",297:"MASS",298:"FAIR",299:"NUKO",300:"GNX",301:"DIVI",302:"CMT",303:"EUNO",304:"IOTX",305:"ONION",306:"8BIT",307:"ATC",308:"BTS",309:"CKB",310:"UGAS",311:"ADS",312:"ARA",313:"ZIL",314:"MOAC",315:"SWTC",316:"VNSC",317:"PLUG",318:"MAN",319:"ECC",320:"RPD",321:"RAP",322:"GARD",323:"ZER",324:"EBST",325:"SHARD",326:"MRX",327:"CMM",328:"BLOCK",329:"AUDAX",330:"LUNA",331:"ZPM",332:"KUVA",333:"MEM",334:"CS",335:"SWIFT",336:"FIX",337:"CPC",338:"VGO",339:"DVT",340:"N8V",341:"MTNS",342:"BLAST",343:"DCT",344:"AUX",345:"USDP",346:"HTDF",347:"YEC",348:"QLC",349:"TEA",350:"ARW",351:"MDM",352:"CYB",353:"LTO",354:"DOT",355:"AEON",356:"RES",357:"AYA",358:"DAPS",359:"CSC",360:"VSYS",361:"NOLLAR",362:"XNOS",363:"CPU",364:"LAMB",365:"VCT",366:"CZR",367:"ABBC",368:"HET",369:"XAS",370:"VDL",371:"MED",372:"ZVC",373:"VESTX",374:"DBT",375:"SEOS",376:"MXW",377:"ZNZ",378:"XCX",379:"SOX",380:"NYZO",381:"ULC",382:"RYO",383:"KAL",384:"XSN",385:"DOGEC",386:"BMV",387:"QBC",388:"IMG",389:"QOS",390:"PKT",391:"LHD",392:"CENNZ",393:"HSN",394:"CRO",395:"UMBRU",396:"EVER",397:"NEAR",398:"XPC",399:"ZOC",400:"NIX",401:"UC",402:"GALI",403:"OLT",404:"XBI",405:"DONU",406:"EARTHS",407:"HDD",408:"SUGAR",409:"AILE",410:"TENT",411:"TAN",412:"AIN",413:"MSR",414:"SUMO",415:"ETN",416:"BYTZ",417:"WOW",418:"XTNC",419:"LTHN",420:"NODE",421:"AGM",422:"CCX",423:"TNET",424:"TELOS",425:"AION",426:"BC",427:"KTV",428:"ZCR",429:"ERG",430:"PESO",431:"BTC2",432:"XRPHD",433:"WE",434:"KSM",435:"PCN",436:"NCH",437:"ICU",438:"LN",439:"DTP",440:"BTCR",441:"AERGO",442:"XTH",443:"LV",444:"PHR",445:"VITAE",446:"COCOS",447:"DIN",448:"SPL",449:"YCE",450:"XLR",451:"KTS",452:"DGLD",453:"XNS",454:"EM",455:"SHN",456:"SEELE",457:"AE",458:"ODX",459:"KAVA",460:"GLEEC",461:"FIL",462:"RUTA",463:"CSDT",464:"ETI",465:"ZSLP",466:"ERE",467:"DX",468:"CPS",469:"BTH",470:"MESG",471:"FIMK",472:"AR",473:"OGO",474:"ROSE",475:"BARE",476:"GLEEC",477:"CLR",478:"RNG",479:"OLO",480:"PEXA",481:"MOON",482:"OCEAN",483:"BNT",484:"AMO",485:"FCH",486:"LAT",487:"COIN",488:"VEO",489:"CCA",490:"GFN",491:"BIP",492:"KPG",493:"FIN",494:"BAND",495:"DROP",496:"BHT",497:"LYRA",498:"CS",499:"RUPX",500:"THETA",501:"SOL",502:"THT",503:"CFX",504:"KUMA",505:"HASH",506:"CSPR",507:"EARTH",508:"EGLD",509:"CHI",510:"KOTO",511:"OTC",512:"XRD",513:"SEELEN",514:"AETH",515:"DNA",516:"VEE",517:"SIERRA",518:"LET",519:"BSC",520:"BTCV",521:"ABA",522:"SCC",523:"EDG",524:"AMS",525:"GOSS",526:"BU",527:"GRAM",528:"YAP",529:"SCRT",530:"NOVO",531:"GHOST",532:"HST",533:"PRJ",534:"YOU",535:"XHV",536:"BYND",537:"JOYS",538:"VAL",539:"FLOW",540:"SMESH",541:"SCDO",542:"IQS",543:"BIND",544:"COINEVO",545:"SCRIBE",546:"HYN",547:"BHP",548:"BBC",549:"MKF",550:"XDC",551:"STR",552:"SUM",553:"HBC",555:"BCS",556:"KTS",557:"LKR",558:"TAO",559:"XWC",560:"DEAL",561:"NTY",562:"TOP",564:"AG",565:"CICO",566:"IRIS",567:"NCG",568:"LRG",569:"SERO",570:"BDX",571:"CCXX",572:"SLS",573:"SRM",575:"VIVT",576:"BPS",577:"NKN",578:"ICL",579:"BONO",580:"PLC",581:"DUN",582:"DMCH",583:"CTC",584:"KELP",585:"GBCR",586:"XDAG",587:"PRV",588:"SCAP",589:"TFUEL",590:"GTM",591:"RNL",592:"GRIN",593:"MWC",594:"DOCK",595:"POLYX",596:"DIVER",597:"XEP",598:"APN",599:"TFC",600:"UTE",601:"MTC",602:"NC",603:"XINY",604:"DYN",605:"BUFS",606:"STOS",607:"TON",608:"TAFT",609:"HYDRA",610:"NOR",613:"WCN",614:"OPT",615:"PSWAP",616:"VAL",617:"XOR",618:"SSP",619:"DEI",621:"ZERO",622:"ALPHA",623:"BDECO",624:"NOBL",625:"EAST",626:"KDA",627:"SOUL",628:"LORE",629:"FNR",630:"NEXUS",631:"QTZ",632:"XMA",633:"CALL",634:"VAL",635:"POKT",636:"EMIT",637:"APTOS",638:"ADON",639:"BTSG",640:"LFC",641:"KCS",642:"KCC",643:"AZERO",644:"TREE",645:"LX",646:"XLN",647:"CIC",648:"ZRB",650:"UCO",651:"SFX",652:"SFT",653:"WSFX",654:"USDG",655:"WMP",659:"KOIN",660:"PIRATE",663:"SFRX",666:"ACT",667:"PRKL",668:"SSC",669:"GC",670:"PLGR",671:"MPLGR",672:"KNOX",673:"ZED",674:"CNDL",675:"WLKR",676:"WLKRR",677:"YUNGE",678:"Voken",679:"APL",680:"Evrynet",681:"NENG",682:"CHTA",685:"OAS",686:"KAR",688:"CET",690:"KLV",694:"VTBC",698:"VEIL",699:"GTB",700:"XDAI",701:"COM",702:"CCC",707:"MCOIN",711:"CHC",712:"SERF",713:"XTL",714:"BNB",715:"SIN",716:"DLN",717:"BONTE",718:"PEER",725:"MCX",730:"HEALIOS",731:"BMK",734:"DENTX",737:"ATOP",747:"CFG",750:"XPRT",757:"HONEY",768:"BALLZ",770:"COSA",771:"BR",775:"PLSR",776:"KEY",777:"BTW",780:"PLCUC",781:"PLCUX",782:"PLCU",784:"SUI",786:"UIDD",787:"ACA",788:"BNC",789:"TAU",799:"PDEX",800:"BEET",801:"DST",804:"ZKS",808:"QVT",809:"SDN",810:"ASTR",813:"MEER",818:"VET",819:"REEF",820:"CLO",822:"BDB",827:"ACE",828:"CCN",831:"CRUZ",832:"SAPP",833:"777",834:"KYAN",835:"AZR",836:"CFL",837:"DASHD",838:"TRTT",839:"UCR",840:"PNY",841:"BECN",842:"MONK",843:"SAGA",844:"SUV",845:"ESK",846:"OWO",847:"PEPS",848:"BIR",849:"MOBIC",850:"FLS",852:"DSM",853:"PRCY",858:"HVH",866:"MOB",868:"IF",877:"NAM",880:"LUM",883:"ZBC",886:"ADF",888:"NEO",889:"TOMO",890:"XSEL",896:"LKSC",898:"AS",899:"XEC",900:"LMO",901:"NXT",904:"HNT",907:"FIS",909:"SGE",911:"GERT",916:"META",917:"FRA",919:"CCD",921:"AVN",925:"DIP",928:"GHM",931:"RUNE",945:"UNLOCK",955:"LTP",960:"VKAX",966:"MATIC",968:"UNW",970:"TWINS",977:"TLOS",981:"TAFECO",985:"AU",987:"VCG",988:"XAZAB",989:"AIOZ",990:"CORE",991:"PEC",992:"UNT",993:"XRB",994:"QUAI",995:"CAPS",996:"OKT",997:"SUM",998:"LBTC",999:"BCD",1e3:"BTN",1001:"TT",1002:"BKT",1003:"NODL",1004:"PCOIN",1005:"TAO",1006:"HSK",1007:"FTM",1008:"RPG",1010:"HT",1011:"ELV",1013:"BIC",1020:"EVC",1022:"XRD",1023:"ONE",1024:"ONT",1025:"CZZ",1026:"KEX",1027:"MCM",1032:"BTCR",1042:"MFID",1111:"BBC",1120:"RISE",1122:"CMT",1128:"ETSC",1129:"DFI",1130:"DFI",1137:"$DAG",1145:"CDY",1155:"EFI",1170:"HOO",1234:"ALPH",1284:"GLMR",1285:"MOVR",1298:"WPC",1308:"WEI",1337:"DFC",1397:"HYC",1410:"TENTSLP",1510:"XSC",1512:"AAC",1533:"BEAM",1555:"APC",1616:"ELF",1618:"AUDL",1620:"ATH",1627:"LUME",1642:"NEW",1657:"BTA",1668:"NEOX",1669:"MEWC",1688:"BCX",1729:"XTZ",1776:"LBTC",1777:"BBP",1784:"JPYS",1789:"VEGA",1815:"ADA",1818:"CUBE",1856:"TES",1888:"ZTX",1899:"XEC",1901:"CLC",1919:"VIPS",1926:"CITY",1955:"XX",1977:"XMX",1984:"TRTL",1985:"SLRT",1986:"QTH",1987:"EGEM",1988:"MIRA",1989:"HODL",1990:"PHL",1991:"SC",1996:"MYT",1997:"POLIS",1998:"XMCC",1999:"COLX",2e3:"GIN",2001:"MNP",2002:"MLN",2017:"KIN",2018:"EOSC",2019:"GBT",2020:"PKC",2021:"SKT",2022:"XHT",2048:"MCASH",2049:"TRUE",2086:"KILT",2109:"SAMA",2112:"IoTE",2137:"XRG",2182:"CHZ",2221:"ASK",2301:"QTUM",2302:"ETP",2303:"GXC",2304:"CRP",2305:"ELA",2338:"SNOW",2365:"XIN",2570:"AOA",2718:"NAS",2894:"REOSC",2941:"BND",3003:"LUX",3030:"HBAR",3077:"COS",3276:"CCC",3333:"SXP",3377:"ROI",3381:"DYN",3383:"SEQ",3552:"DEO",3564:"DST",3601:"CY",4040:"FC8",4096:"YEE",4218:"IOTA",4219:"SMR",4242:"AXE",4343:"XYM",4444:"C4E",4919:"XVM",5006:"SBC",5248:"FIC",5353:"HNS",5404:"ISK",5467:"ALTME",5555:"FUND",5757:"STX",5895:"VOW",5920:"SLU",6060:"GO",6174:"MOI",6599:"RSC",6666:"BPA",6688:"SAFE",6779:"COTI",6969:"ROGER",7091:"TOPL",7331:"KLY",7341:"SHFT",7777:"BTV",8e3:"SKY",8192:"PAC",8217:"KLAY",8339:"BTQ",8444:"XCH",8680:"PLMNT",8888:"SBTC",8964:"NULS",8997:"BBC",8998:"JGC",8999:"BTP",9e3:"AVAX",9001:"ARB1",9002:"BOBA",9003:"LOOP",9004:"STRK",9005:"AVAXC",9006:"BSC",9797:"NRG",9888:"BTF",9999:"GOD",1e4:"FO",10226:"RTM",10291:"XRC",10605:"XPI",11111:"ESS",12345:"IPOS",12586:"MINA",13107:"BTY",13108:"YCC",14001:"WAX",15845:"SDGO",16181:"XTX",16754:"ARDR",18e3:"MTR",19165:"SAFE",19167:"FLUX",19169:"RITO",20036:"XND",21004:"C4EI",21888:"PCT",22504:"PWR",25252:"BELL",25718:"CHX",29223:"NEXA",31102:"ESN",33416:"TEO",33878:"BTCS",34952:"BTT",37992:"FXTC",39321:"AMA",42069:"FACT",43028:"AXIV",49262:"EVE",49344:"STASH",52752:"CELO",61616:"TH",65536:"KETH",69420:"GRLC",70007:"GWL",77777:"ZYN",88888:"RYO",99999:"WICC",100500:"HOME",101010:"STC",105105:"STRAX",111111:"KAS",161803:"APTA",200625:"AKA",200665:"GENOM",246529:"ATS",261131:"ZAMA",314159:"PI",333332:"VALUE",333333:"3333",424242:"X42",534352:"SCR",666666:"VITE",888888:"SEA",1048576:"AMAX",1171337:"ILT",1313114:"ETHO",1313500:"XERO",1712144:"LAX",3924011:"EPK",4741444:"HYD",5249353:"BCO",5249354:"BHD",5264462:"PTN",5655640:"VLX",5718350:"WAN",5741564:"WAVES",5741565:"WEST",6382179:"ABC",6517357:"CRM",7562605:"SEM",7567736:"ION",7777777:"FCT",7825266:"WGR",7825267:"OBSR",8163271:"AFS",15118976:"XDS",61717561:"AQUA",88888888:"HATCH",91927009:"kUSD",99999996:"GENS",99999997:"EQ",99999998:"FLUID",99999999:"QKC",608589380:"FVDC"}[p])!==null&&C!==void 0?C:""}return We.getCoinSymbol=i,We}var xn;function ha(){return xn||(xn=1,function(i){var p=Q&&Q.__createBinding||(Object.create?function(l,h,t,f){f===void 0&&(f=t);var a=Object.getOwnPropertyDescriptor(h,t);(!a||("get"in a?!h.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return h[t]}}),Object.defineProperty(l,f,a)}:function(l,h,t,f){f===void 0&&(f=t),l[f]=h[t]}),C=Q&&Q.__setModuleDefault||(Object.create?function(l,h){Object.defineProperty(l,"default",{enumerable:!0,value:h})}:function(l,h){l.default=h}),E=Q&&Q.__importStar||function(l){if(l&&l.__esModule)return l;var h={};if(l!=null)for(var t in l)t!=="default"&&Object.prototype.hasOwnProperty.call(l,t)&&p(h,l,t);return C(h,l),h},g=Q&&Q.__exportStar||function(l,h){for(var t in l)t!=="default"&&!Object.prototype.hasOwnProperty.call(h,t)&&p(h,l,t)};Object.defineProperty(i,"__esModule",{value:!0}),i.parsePath=i.uuidStringify=i.uuidParse=i.toBuffer=i.toHex=i.uuid=void 0;const r=E(ui());i.uuid=r,g(fi(),i);function e(l){return l===void 0?"":q.Buffer.from(l).toString("hex")}i.toHex=e;function o(l){return q.Buffer.from(l??"","hex")}i.toBuffer=o;function s(l){return q.Buffer.from(r.parse(l))}i.uuidParse=s;function d(l){return r.stringify(l)}i.uuidStringify=d;function u(l){return l.replace(/^m\//i,"").split("/").map(t=>{const f=t.endsWith("'");return{index:Number(f?t.substring(0,t.length-1):t),hardened:f}})}i.parsePath=u}(Q)),Q}var Ve={},Kn;function pa(){if(Kn)return Ve;Kn=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.pathToKeypath=void 0;const i=ot(),p=C=>{const g=C.replace(/[m|M]\//,"").split("/").map(r=>{const e=parseInt(r.replace("'",""),10),o=r.endsWith("'");return new i.PathComponent({index:e,hardened:o})});return new i.CryptoKeypath(g)};return Ve.pathToKeypath=p,Ve}var Hn;function ga(){return Hn||(Hn=1,function(i){var p=ie&&ie.__createBinding||(Object.create?function(E,g,r,e){e===void 0&&(e=r);var o=Object.getOwnPropertyDescriptor(g,r);(!o||("get"in o?!g.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return g[r]}}),Object.defineProperty(E,e,o)}:function(E,g,r,e){e===void 0&&(e=r),E[e]=g[r]}),C=ie&&ie.__exportStar||function(E,g){for(var r in E)r!=="default"&&!Object.prototype.hasOwnProperty.call(g,r)&&p(g,E,r)};Object.defineProperty(i,"__esModule",{value:!0}),C(ha(),i),C(pa(),i),C(fi(),i)}(ie)),ie}var Qt={},Fn;function ya(){return Fn||(Fn=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.URType=i.UR=void 0;var p=fr();Object.defineProperty(i,"UR",{enumerable:!0,get:function(){return p.UR}}),function(C){C.CryptoPSBT="crypto-psbt",C.CryptoMultiAccounts="crypto-multi-accounts",C.CryptoHDKey="crypto-hdkey",C.CryptoAccount="crypto-account",C.BtcSignature="btc-signature",C.ArweaveCryptoAccount="arweave-crypto-account",C.EthSignature="eth-signature",C.SolSignature="sol-signature",C.StellarSignature="stellar-signature",C.CosmosSignature="cosmos-signature",C.EvmSignature="evm-signature",C.AptosSignature="aptos-signature",C.CardanoSignature="cardano-signature",C.TronSignature="keystone-sign-result",C.KeystoneSignResult="keystone-sign-result",C.NearSignature="near-signature",C.ArweaveSignature="arweave-signature",C.SuiSignature="sui-signature",C.XrpAccount="bytes",C.XrpSignRequest="bytes",C.XrpSignature="bytes",C.TonSignature="ton-signature"}(i.URType||(i.URType={}))}(Qt)),Qt}var kn;function va(){if(kn)return ye;kn=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.KeystoneTonSDK=void 0;const i=da(),p=ga(),C=ya();class E{constructor(r){this.config=r}parseSignature(r){if(r.type!==C.URType.TonSignature)throw new Error("type not match");const e=i.TonSignature.fromCBOR(r.cbor),o=e.getRequestId();return{requestId:q.Buffer.isBuffer(o)?(0,p.uuidStringify)(o):"",signature:(0,p.toHex)(e.getSignature()),origin:e.getOrigin()}}generateSignRequest({requestId:r,signData:e,dataType:o,xfp:s,derivationPath:d,address:u}){var l;return i.TonSignRequest.constructTonRequest((0,p.toBuffer)(e),o,u,r,(l=this.config)===null||l===void 0?void 0:l.origin,s,d).toUR()}}return E.DataType=i.DataType,ye.KeystoneTonSDK=E,ye}var _a=va(),Ge={},zt={exports:{}},Jt={},jn;function Ra(){return jn||(jn=1,function(i){Object.defineProperty(i,"__esModule",{value:!0});var p=vi(),C=_i();const E={TRON_SIGN_REQUEST:new p.RegistryType("ton-sign-request",7201),TRON_SIGNATURE:new p.RegistryType("ton-signature",7202)},{decodeToDataItem:g,RegistryTypes:r}=p.extend;var e,o;(function(t){t[t.requestId=1]="requestId",t[t.signData=2]="signData",t[t.dataType=3]="dataType",t[t.derivationPath=4]="derivationPath",t[t.address=5]="address",t[t.origin=6]="origin"})(e||(e={})),(o=i.DataType||(i.DataType={}))[o.TRANSACTION=1]="TRANSACTION",o[o.SIGN_PROOF=2]="SIGN_PROOF";class s extends p.RegistryItem{constructor(f){super(),this.getRegistryType=()=>E.TRON_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath?this.derivationPath.getPath():void 0,this.getAddress=()=>this.address,this.getOrigin=()=>this.origin,this.getDataType=()=>this.dataType,this.toDataItem=()=>{const a={};if(a[e.signData]=this.signData,a[e.dataType]=this.dataType,this.derivationPath){const y=this.derivationPath.toDataItem();y.setTag(this.derivationPath.getRegistryType().getTag()),a[e.derivationPath]=y}return this.requestId&&(a[e.requestId]=new p.DataItem(this.requestId,r.UUID.getTag())),this.address&&(a[e.address]=this.address),this.origin&&(a[e.origin]=this.origin),new p.DataItem(a)},this.requestId=f.requestId,this.signData=f.signData,this.derivationPath=f.derivationPath,this.address=f.address,this.origin=f.origin,this.dataType=f.dataType}static parsePath(f,a){const y=f.replace(/[m|M]\//,"").split("/").map(n=>{const v=parseInt(n.replace("'",""));let T=!1;return n.endsWith("'")&&(T=!0),new p.PathComponent({index:v,hardened:T})});return new p.CryptoKeypath(y,er.Buffer.from(a,"hex"))}static constructTonRequest(f,a,y,n,v,T,S){return new s({requestId:n?er.Buffer.from(C.parse(n)):void 0,signData:f,dataType:a,derivationPath:S&&T?s.parsePath(S,T):void 0,address:y,origin:v})}}s.fromDataItem=t=>{const f=t.getData(),a=f[e.requestId]?f[e.requestId].getData():void 0,y=f[e.derivationPath]?p.CryptoKeypath.fromDataItem(f[e.derivationPath]):void 0;return new s({requestId:a,signData:f[e.signData],dataType:f[e.dataType],derivationPath:y,address:f[e.address],origin:f[e.origin]})},s.fromCBOR=t=>{const f=g(t);return s.fromDataItem(f)};const{RegistryTypes:d,decodeToDataItem:u}=p.extend;var l;(function(t){t[t.requestId=1]="requestId",t[t.signature=2]="signature",t[t.origin=3]="origin"})(l||(l={}));class h extends p.RegistryItem{constructor(f,a,y){super(),this.getRegistryType=()=>E.TRON_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const n={};return this.requestId&&(n[l.requestId]=new p.DataItem(this.requestId,d.UUID.getTag())),this.origin&&(n[l.origin]=this.origin),n[l.signature]=this.signature,new p.DataItem(n)},this.signature=f,this.requestId=a,this.origin=y}}h.fromDataItem=t=>{const f=t.getData(),a=f[l.signature];let y,n;return f[l.requestId]&&(y=f[l.requestId].getData()),f[l.origin]&&(n=f[l.origin]),new h(a,y,n)},h.fromCBOR=t=>{const f=u(t);return h.fromDataItem(f)},p.patchTags(Object.values(E).filter(t=>!!t.getTag()).map(t=>t.getTag())),Object.keys(p).forEach(function(t){t!=="default"&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return p[t]}})}),i.TonSignRequest=s,i.TonSignature=h}(Jt)),Jt}var Xn;function ma(){return Xn||(Xn=1,zt.exports=Ra()),zt.exports}var Wn;function Ca(){if(Wn)return Ge;Wn=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.KeystoneTonSDK=void 0;const i=ma(),p=Ri(),C=mi();class E{constructor(r){this.config=r}parseSignature(r){if(r.type!==C.URType.TonSignature)throw new Error("type not match");const e=i.TonSignature.fromCBOR(r.cbor),o=e.getRequestId();return{requestId:er.Buffer.isBuffer(o)?(0,p.uuidStringify)(o):"",signature:(0,p.toHex)(e.getSignature()),origin:e.getOrigin()}}generateSignRequest({requestId:r,signData:e,dataType:o,xfp:s,derivationPath:d,address:u}){var l;return i.TonSignRequest.constructTonRequest((0,p.toBuffer)(e),o,u,r,(l=this.config)===null||l===void 0?void 0:l.origin,s,d).toUR()}}return E.DataType=i.DataType,Ge.KeystoneTonSDK=E,Ge}var Ta=Ca();const Sa=(i,p,C,E)=>new Ta.KeystoneTonSDK({origin:"TonKeeper"}).generateSignRequest({signData:i.toString("hex"),dataType:p==="transaction"?1:2,address:C,xfp:E?.mfp,derivationPath:E?.path}),Ea=(i,p)=>{z.useEffect(()=>(i.uiEvents.on("navigate",p),()=>{i.uiEvents.off("navigate",p)}),[i,p])},ba=({sdk:i,transactionParams:p,onClose:C,handleResult:E})=>{const g=Ci(),{t:r}=Ti(),{extension:e}=Si();Ea(i,C);const o=z.useCallback(u=>{const l=new _a.KeystoneTonSDK().parseSignature(u);E(l.signature)},[]),s=Ei(null,o),d=z.useMemo(()=>Sa(p.message,p.messageType,bi(g.rawAddress),p.pathInfo),[p]);return ae.jsxs(wi,{onSubmit:u=>{u.preventDefault(),u.stopPropagation(),s()},children:[ae.jsx(Ai,{title:r("keystone_sign_title"),description:r("keystone_sign_subtitle")}),ae.jsx(Pi,{extension:e,margin:!0,children:ae.jsx(Mi,{data:d})}),ae.jsx(Oi,{primary:!0,size:"large",fullWidth:!0,type:"submit",children:r("signer_scan_result")})]})},ja=()=>{const i=Ii(),[p,C]=z.useState(void 0),[E,g]=z.useState(void 0),r=z.useCallback(()=>{C(void 0),g(void 0)},[]),e=z.useCallback(d=>{i.uiEvents.emit("response",{method:"response",id:E,params:d}),r()},[i,E,r]),o=z.useCallback(()=>{E&&i.uiEvents.emit("response",{method:"response",id:E,params:new Error("Cancel auth request")}),r()},[E,i,r]);z.useEffect(()=>{const d=u=>{C(u.params),g(u.id)};return i.uiEvents.on("keystone",d),()=>{i.uiEvents.off("keystone",d)}},[i]);const s=z.useCallback(()=>{if(!(!p||!E))return ae.jsx(ba,{sdk:i,transactionParams:p,onClose:o,handleResult:e})},[i,p,E,o,e]);return ae.jsx(Di,{isOpen:p!=null&&E!=null,handleClose:o,children:s})};export{ba as SignerContent,ja as default};
