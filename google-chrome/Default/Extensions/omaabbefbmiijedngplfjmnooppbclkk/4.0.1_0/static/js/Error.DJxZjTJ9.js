import{r as i,j as d}from"./main.BJ1Zz46B.js";const h=i.createContext(null),c={didCatch:!1,error:null};class p extends i.Component{constructor(r){super(r),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=c}static getDerivedStateFromError(r){return{didCatch:!0,error:r}}resetErrorBoundary(){const{error:r}=this.state;if(r!==null){for(var t,e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];(t=(e=this.props).onReset)===null||t===void 0||t.call(e,{args:o,reason:"imperative-api"}),this.setState(c)}}componentDidCatch(r,t){var e,n;(e=(n=this.props).onError)===null||e===void 0||e.call(n,r,t)}componentDidUpdate(r,t){const{didCatch:e}=this.state,{resetKeys:n}=this.props;if(e&&t.error!==null&&m(r.resetKeys,n)){var o,s;(o=(s=this.props).onReset)===null||o===void 0||o.call(s,{next:n,prev:r.resetKeys,reason:"keys"}),this.setState(c)}}render(){const{children:r,fallbackRender:t,FallbackComponent:e,fallback:n}=this.props,{didCatch:o,error:s}=this.state;let l=r;if(o){const u={error:s,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")l=t(u);else if(e)l=i.createElement(e,u);else if(n===null||i.isValidElement(n))l=n;else throw s}return i.createElement(h.Provider,{value:{didCatch:o,error:s,resetErrorBoundary:this.resetErrorBoundary}},l)}}function m(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return a.length!==r.length||a.some((t,e)=>!Object.is(t,r[e]))}function E(a){return({error:r})=>d.jsxs("div",{role:"alert",children:[d.jsx("p",{children:a}),d.jsx("p",{children:"Something went wrong:"}),d.jsx("pre",{style:{color:"red"},children:r.message})]})}export{p as E,E as f};
