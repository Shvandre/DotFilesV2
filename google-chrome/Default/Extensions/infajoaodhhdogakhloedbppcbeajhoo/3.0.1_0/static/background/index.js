var e,r;"function"==typeof(e=globalThis.define)&&(r=e,e=null),function(r,t,s,o,a){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i="function"==typeof n[o]&&n[o],l=i.cache||{},c="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(e,t){if(!l[e]){if(!r[e]){var s="function"==typeof n[o]&&n[o];if(!t&&s)return s(e,!0);if(i)return i(e,!0);if(c&&"string"==typeof e)return c(e);var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}d.resolve=function(t){var s=r[e][1][t];return null!=s?s:t},d.cache={};var p=l[e]=new u.Module(e);r[e][0].call(p.exports,d,p,p.exports,this)}return l[e].exports;function d(e){var r=d.resolve(e);return!1===r?{}:u(r)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=r,u.cache=l,u.parent=i,u.register=function(e,t){r[e]=[function(e,r){r.exports=t},{}]},Object.defineProperty(u,"root",{get:function(){return n[o]}}),n[o]=u;for(var p=0;p<t.length;p++)u(t[p]);if(s){var d=u(s);"object"==typeof exports&&"undefined"!=typeof module?module.exports=d:"function"==typeof e&&e.amd?e(function(){return d}):a&&(this[a]=d)}}({kgW6q:[function(e,r,t){e("./messaging"),e("../../../src/background/index")},{"./messaging":"iG3ww","../../../src/background/index":"iqY5N"}],iG3ww:[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js"),o=e("~background/messages/connectToProxy"),a=s.interopDefault(o),n=e("~background/messages/disconnectFromProxy"),i=s.interopDefault(n),l=e("~background/messages/sessionRefresh"),c=s.interopDefault(l);globalThis.__plasmoInternalPortMap=new Map,chrome.runtime.onMessageExternal.addListener((e,r,t)=>(e?.name,!0)),chrome.runtime.onMessage.addListener((e,r,t)=>{switch(e.name){case"connectToProxy":(0,a.default)({...e,sender:r},{send:e=>t(e)});break;case"disconnectFromProxy":(0,i.default)({...e,sender:r},{send:e=>t(e)});break;case"sessionRefresh":(0,c.default)({...e,sender:r},{send:e=>t(e)})}return!0}),chrome.runtime.onConnect.addListener(function(e){globalThis.__plasmoInternalPortMap.set(e.name,e),e.onMessage.addListener(function(r){e.name})})},{"~background/messages/connectToProxy":"lJ5xS","~background/messages/disconnectFromProxy":"5ZehA","~background/messages/sessionRefresh":"d6VMw","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],lJ5xS:[function(e,r,t){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(t);var s=e("@/background/utils/connectToProxy"),o=e("@/utils/constants/keys"),a=e("@plasmohq/storage");let n=async(e,r)=>{let t=new a.Storage;try{let a=e.body.activeProxy;await t.set(o.StorageKeys.ACTIVE_PROXY,a),await (0,s.connectToProxy)(a),r.send("Success")}catch(e){console.error("Error connecting to proxies",e),r.send("Error")}};t.default=n},{"@/background/utils/connectToProxy":"l08RT","@/utils/constants/keys":"3T3KR","@plasmohq/storage":"luF8G","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],l08RT:[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"connectToProxy",()=>p);var o=e("@/background/utils/buildBypassList"),a=e("@/background/utils/chromium/useChromiumProxy"),n=e("@/background/utils/firefox/useFirefoxProxy"),i=e("@/background/utils/setIcon"),l=e("@/utils/constants/browser"),c=e("@/utils/constants/keys"),u=e("@plasmohq/storage");let p=async e=>{let r=new u.Storage;try{let t=await r.get(c.StorageKeys.GLOBAL_BYPASS_LIST),s=(0,o.buildBypassList)({globalBypassList:t,proxyBypassList:e.bypassList});switch(l.BROWSER_TYPE){case"chromium":(0,a.useChromiumProxy)({proxy:e,bypassList:s});break;case"firefox":(0,n.useFirefoxProxy)({proxy:e,bypassList:s})}(0,i.setIcon)("active",e.badge)}catch(e){console.error("Error connecting to proxies",e)}}},{"@/background/utils/buildBypassList":"2igx0","@/background/utils/chromium/useChromiumProxy":"9erLu","@/background/utils/firefox/useFirefoxProxy":"bavYV","@/background/utils/setIcon":"e6c84","@/utils/constants/browser":"5vboW","@/utils/constants/keys":"3T3KR","@plasmohq/storage":"luF8G","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"2igx0":[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"parseBypassList",()=>o),s.export(t,"buildBypassList",()=>a);let o=e=>e&&"string"==typeof e?e.split("\n").map(e=>e.trim()).filter(e=>""!==e):[],a=({globalBypassList:e,proxyBypassList:r})=>{let t=o(e),s=o(r);return Array.from(new Set([...t,...s]))}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],hbR2Q:[function(e,r,t){t.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},t.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.exportAll=function(e,r){return Object.keys(e).forEach(function(t){"default"===t||"__esModule"===t||r.hasOwnProperty(t)||Object.defineProperty(r,t,{enumerable:!0,get:function(){return e[t]}})}),r},t.export=function(e,r,t){Object.defineProperty(e,r,{enumerable:!0,get:t})}},{}],"9erLu":[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"useChromiumProxy",()=>a);var o=e("../setAuthListener");let a=async({proxy:{hostname:e,port:r,protocol:t},bypassList:s})=>{await (0,o.setAuthListener)(),chrome.proxy.settings.set({value:{mode:"fixed_servers",rules:{singleProxy:{host:e,port:r,scheme:t},bypassList:s}},scope:"regular"}),chrome.proxy.onProxyError.addListener(e=>{console.error("onProxyError",{details:e})})}},{"../setAuthListener":"jqOY1","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],jqOY1:[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"setAuthListener",()=>c);var o=e("@/utils/constants/browser"),a=e("@/utils/constants/keys"),n=e("@plasmohq/storage"),i=e("./chromium/provideChromiumCredentials"),l=e("./firefox/provideFirefoxCredentials");let c=async()=>{let e=new n.Storage,r=await e.get(a.StorageKeys.ACTIVE_PROXY);if(r)switch(o.BROWSER_TYPE){case"chromium":chrome.webRequest.onAuthRequired.addListener(i.provideChromiumCredentials,{urls:["<all_urls>"]},["asyncBlocking"]);break;case"firefox":browser.webRequest.onAuthRequired.addListener(l.provideFirefoxCredentials,{urls:["<all_urls>"]},["blocking"])}}},{"@/utils/constants/browser":"5vboW","@/utils/constants/keys":"3T3KR","@plasmohq/storage":"luF8G","./chromium/provideChromiumCredentials":"9yd0A","./firefox/provideFirefoxCredentials":"7hMuf","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"5vboW":[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"BROWSER_API",()=>o),s.export(t,"BROWSER_TYPE",()=>a);let o="undefined"!=typeof browser?browser:"undefined"!=typeof chrome?chrome:(()=>{throw Error("Unsupported browser")})(),a="undefined"!=typeof browser&&void 0!==browser.runtime?"firefox":"undefined"!=typeof chrome&&void 0!==chrome.runtime?"chromium":"unknown"},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"3T3KR":[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"StorageKeys",()=>o);let o={ACTIVE_PROXY:"ACTIVE_PROXY",PROXY_LIST:"proxy_list",THEME:"THEME",GLOBAL_BYPASS_LIST:"GLOBAL_BYPASS_LIST",GLOBAL_SETTINGS:"GLOBAL_SETTINGS"}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],luF8G:[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"BaseStorage",()=>i),s.export(t,"Storage",()=>l);var o=e("pify"),a=s.interopDefault(o),n=()=>{try{let e=globalThis.navigator?.userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if("Chrome"===e[1])return 100>parseInt(e[2])||globalThis.chrome.runtime?.getManifest()?.manifest_version===2}catch{}return!1},i=class{#e;#r;get primaryClient(){return this.#r}#t;get secondaryClient(){return this.#t}#s;get area(){return this.#s}get hasWebApi(){try{return"u">typeof window&&!!window.localStorage}catch(e){return console.error(e),!1}}#o=new Map;#a;get copiedKeySet(){return this.#a}isCopied=e=>this.hasWebApi&&(this.allCopied||this.copiedKeySet.has(e));#n=!1;get allCopied(){return this.#n}getExtStorageApi=()=>globalThis.browser?.storage||globalThis.chrome?.storage;get hasExtensionApi(){try{return!!this.getExtStorageApi()}catch(e){return console.error(e),!1}}isWatchSupported=()=>this.hasExtensionApi;keyNamespace="";isValidKey=e=>e.startsWith(this.keyNamespace);getNamespacedKey=e=>`${this.keyNamespace}${e}`;getUnnamespacedKey=e=>e.slice(this.keyNamespace.length);serde={serializer:JSON.stringify,deserializer:JSON.parse};constructor({area:e="sync",allCopied:r=!1,copiedKeyList:t=[],serde:s={}}={}){this.setCopiedKeySet(t),this.#s=e,this.#n=r,this.serde={...this.serde,...s};try{this.hasWebApi&&(r||t.length>0)&&(this.#t=window.localStorage)}catch{}try{this.hasExtensionApi&&(this.#e=this.getExtStorageApi(),n()?this.#r=(0,a.default)(this.#e[this.area],{exclude:["getBytesInUse"],errorFirst:!1}):this.#r=this.#e[this.area])}catch{}}setCopiedKeySet(e){this.#a=new Set(e)}rawGetAll=()=>this.#r?.get();getAll=async()=>Object.entries(await this.rawGetAll()).filter(([e])=>this.isValidKey(e)).reduce((e,[r,t])=>(e[this.getUnnamespacedKey(r)]=t,e),{});copy=async e=>{let r=void 0===e;if(!r&&!this.copiedKeySet.has(e)||!this.allCopied||!this.hasExtensionApi)return!1;let t=this.allCopied?await this.rawGetAll():await this.#r.get((r?[...this.copiedKeySet]:[e]).map(this.getNamespacedKey));if(!t)return!1;let s=!1;for(let e in t){let r=t[e],o=this.#t?.getItem(e);this.#t?.setItem(e,r),s||=r!==o}return s};rawGet=async e=>(await this.rawGetMany([e]))[e];rawGetMany=async e=>this.hasExtensionApi?await this.#r.get(e):e.filter(this.isCopied).reduce((e,r)=>(e[r]=this.#t?.getItem(r),e),{});rawSet=async(e,r)=>await this.rawSetMany({[e]:r});rawSetMany=async e=>(this.#t&&Object.entries(e).filter(([e])=>this.isCopied(e)).forEach(([e,r])=>this.#t.setItem(e,r)),this.hasExtensionApi&&await this.#r.set(e),null);clear=async(e=!1)=>{e&&this.#t?.clear(),await this.#r.clear()};rawRemove=async e=>{await this.rawRemoveMany([e])};rawRemoveMany=async e=>{this.#t&&e.filter(this.isCopied).forEach(e=>this.#t.removeItem(e)),this.hasExtensionApi&&await this.#r.remove(e)};removeAll=async()=>{let e=Object.keys(await this.getAll());await this.removeMany(e)};watch=e=>{let r=this.isWatchSupported();return r&&this.#i(e),r};#i=e=>{for(let r in e){let t=this.getNamespacedKey(r),s=this.#o.get(t)?.callbackSet||new Set;if(s.add(e[r]),s.size>1)continue;let o=(e,r)=>{if(r!==this.area||!e[t])return;let s=this.#o.get(t);if(!s)throw Error(`Storage comms does not exist for nsKey: ${t}`);Promise.all([this.parseValue(e[t].newValue),this.parseValue(e[t].oldValue)]).then(([e,t])=>{for(let o of s.callbackSet)o({newValue:e,oldValue:t},r)})};this.#e.onChanged.addListener(o),this.#o.set(t,{callbackSet:s,listener:o})}};unwatch=e=>{let r=this.isWatchSupported();return r&&this.#l(e),r};#l(e){for(let r in e){let t=this.getNamespacedKey(r),s=e[r],o=this.#o.get(t);o&&(o.callbackSet.delete(s),0===o.callbackSet.size&&(this.#o.delete(t),this.#e.onChanged.removeListener(o.listener)))}}unwatchAll=()=>this.#c();#c(){this.#o.forEach(({listener:e})=>this.#e.onChanged.removeListener(e)),this.#o.clear()}async getItem(e){return this.get(e)}async getItems(e){return await this.getMany(e)}async setItem(e,r){await this.set(e,r)}async setItems(e){await await this.setMany(e)}async removeItem(e){return this.remove(e)}async removeItems(e){return await this.removeMany(e)}},l=class extends i{get=async e=>{let r=this.getNamespacedKey(e),t=await this.rawGet(r);return this.parseValue(t)};getMany=async e=>{let r=e.map(this.getNamespacedKey),t=await this.rawGetMany(r),s=await Promise.all(Object.values(t).map(this.parseValue));return Object.keys(t).reduce((e,r,t)=>(e[this.getUnnamespacedKey(r)]=s[t],e),{})};set=async(e,r)=>{let t=this.getNamespacedKey(e),s=this.serde.serializer(r);return this.rawSet(t,s)};setMany=async e=>{let r=Object.entries(e).reduce((e,[r,t])=>(e[this.getNamespacedKey(r)]=this.serde.serializer(t),e),{});return await this.rawSetMany(r)};remove=async e=>{let r=this.getNamespacedKey(e);return this.rawRemove(r)};removeMany=async e=>{let r=e.map(this.getNamespacedKey);return await this.rawRemoveMany(r)};setNamespace=e=>{this.keyNamespace=e};parseValue=async e=>{try{if(void 0!==e)return this.serde.deserializer(e)}catch(e){console.error(e)}}}},{pify:"9arDK","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"9arDK":[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"default",()=>n);let o=(e,r,t,s)=>function(...o){let a=r.promiseModule;return new a((a,n)=>{r.multiArgs?o.push((...e)=>{r.errorFirst?e[0]?n(e):(e.shift(),a(e)):a(e)}):r.errorFirst?o.push((e,r)=>{e?n(e):a(r)}):o.push(a),Reflect.apply(e,this===t?s:this,o)})},a=new WeakMap;function n(e,r){r={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...r};let t=typeof e;if(!(null!==e&&("object"===t||"function"===t)))throw TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":t}\``);let s=(e,t)=>{let s=a.get(e);if(s||(s={},a.set(e,s)),t in s)return s[t];let o=e=>"string"==typeof e||"symbol"==typeof t?t===e:e.test(t),n=Reflect.getOwnPropertyDescriptor(e,t),i=void 0===n||n.writable||n.configurable,l=r.include?r.include.some(e=>o(e)):!r.exclude.some(e=>o(e)),c=l&&i;return s[t]=c,c},n=new WeakMap,i=new Proxy(e,{apply(e,t,s){let a=n.get(e);if(a)return Reflect.apply(a,t,s);let l=r.excludeMain?e:o(e,r,i,e);return n.set(e,l),Reflect.apply(l,t,s)},get(e,t){let a=e[t];if(!s(e,t)||a===Function.prototype[t])return a;let l=n.get(a);if(l)return l;if("function"==typeof a){let t=o(a,r,i,e);return n.set(a,t),t}return a}});return i}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"9yd0A":[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"provideChromiumCredentials",()=>i);var o=e("@/utils/constants/keys"),a=e("@plasmohq/storage"),n=e("../getUsername");let i=async(e,r)=>{let t=new a.Storage,s=await t.get(o.StorageKeys.ACTIVE_PROXY);if(!s||!r)return;let{isOxylabs:i,username:l,password:c}=s,u={username:(0,n.getUsername)({username:l,isOxylabs:i}),password:c};r({authCredentials:u})}},{"@/utils/constants/keys":"3T3KR","@plasmohq/storage":"luF8G","../getUsername":"e3Aos","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],e3Aos:[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"getUsername",()=>a);var o=e("@/utils/constants/app");let a=({isOxylabs:e,username:r})=>e?1===r.split("-").length?`customer-${r}-${o.proxyTool.name}-${o.proxyTool.value}`:`${r}-${o.proxyTool.name}-${o.proxyTool.value}`:r},{"@/utils/constants/app":"7qgZJ","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"7qgZJ":[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"proxyTool",()=>o);let o={value:"q4tnh5",name:"opm"}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"7hMuf":[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"provideFirefoxCredentials",()=>i);var o=e("@/utils/constants/keys"),a=e("@plasmohq/storage"),n=e("../getUsername");let i=async e=>{let r=new a.Storage,t=await r.get(o.StorageKeys.ACTIVE_PROXY);if(!t)return;let{isOxylabs:s,username:i,password:l}=t,c={username:(0,n.getUsername)({username:i,isOxylabs:s}),password:l};return{authCredentials:c}}},{"@/utils/constants/keys":"3T3KR","@plasmohq/storage":"luF8G","../getUsername":"e3Aos","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],bavYV:[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"useFirefoxProxy",()=>a);var o=e("../setAuthListener");let a=({proxy:{hostname:e,port:r,protocol:t},bypassList:s})=>{(0,o.setAuthListener)();let a=`${t}://${e}:${r}`,n={proxyType:"manual",passthrough:s.join(", "),...{http:{http:a,httpProxyAll:!0},socks5:{socksVersion:5,socks:a},https:{ssl:a}}[t]};browser.proxy.settings.set({value:n,scope:"regular"})}},{"../setAuthListener":"jqOY1","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],e6c84:[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"setIcon",()=>a);var o=e("@/utils/constants/browser");let a=(e,r)=>{(0,o.BROWSER_API).action.setBadgeBackgroundColor({color:"#23E6A8"});let t={16:(0,o.BROWSER_API).runtime.getURL("assets/img/grayscalse-icon-16.png"),32:(0,o.BROWSER_API).runtime.getURL("assets/img/grayscalse-icon-32.png"),48:(0,o.BROWSER_API).runtime.getURL("assets/img/grayscalse-icon-48.png"),128:(0,o.BROWSER_API).runtime.getURL("assets/img/grayscalse-icon-128.png")},s={16:(0,o.BROWSER_API).runtime.getURL("assets/img/icon-16.png"),32:(0,o.BROWSER_API).runtime.getURL("assets/img/icon-32.png"),48:(0,o.BROWSER_API).runtime.getURL("assets/img/icon-48.png"),128:(0,o.BROWSER_API).runtime.getURL("assets/img/icon-128.png")};(0,o.BROWSER_API).action.setIcon({path:"active"===e?s:t}),"disabled"===e?(0,o.BROWSER_API).action.setBadgeText({text:""}):(0,o.BROWSER_API).action.setBadgeText({text:r||""})}},{"@/utils/constants/browser":"5vboW","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"5ZehA":[function(e,r,t){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(t);var s=e("@/background/utils/disconnectFromProxy");let o=async(e,r)=>{try{(0,s.disconnectFromProxy)(),r.send("Success")}catch(e){console.error("Error disconecting from proxy",e),r.send("Error")}};t.default=o},{"@/background/utils/disconnectFromProxy":"cHRoK","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],cHRoK:[function(e,r,t){let s;var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(t),o.export(t,"disconnectAndClear",()=>d),o.export(t,"disconnectFromProxy",()=>f);var a=e("@/background/utils/chromium/provideChromiumCredentials"),n=e("@/background/utils/firefox/provideFirefoxCredentials"),i=e("@/background/utils/setIcon"),l=e("@/utils/constants/browser"),c=e("@/utils/constants/keys"),u=e("@plasmohq/storage"),p=e("./clearProxyAuth");let d=e=>{(0,p.clearProxyAuth)(),(0,l.BROWSER_API).proxy.settings.clear({},()=>[]),(0,l.BROWSER_API).webRequest.onAuthRequired.removeListener(e),(0,l.BROWSER_API).webRequest.onAuthRequired.hasListener(e)&&s<3&&(d(e),s++)},f=async()=>{let e=new u.Storage;e.set(c.StorageKeys.ACTIVE_PROXY,null);try{switch(l.BROWSER_TYPE){case"chromium":d(a.provideChromiumCredentials);break;case"firefox":d(n.provideFirefoxCredentials)}(0,i.setIcon)("disabled","")}catch(e){console.error("Error disconecting from proxy",e)}}},{"@/background/utils/chromium/provideChromiumCredentials":"9yd0A","@/background/utils/firefox/provideFirefoxCredentials":"7hMuf","@/background/utils/setIcon":"e6c84","@/utils/constants/browser":"5vboW","@/utils/constants/keys":"3T3KR","@plasmohq/storage":"luF8G","./clearProxyAuth":"b5IYh","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],b5IYh:[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"clearProxyAuth",()=>a);var o=e("@/utils/constants/browser");let a=async()=>{(0,o.BROWSER_API).proxy.settings.get({incognito:!1},e=>{if(!e.value||"fixed_servers"!==e.value.mode||!e.value.rules)return;let r=new Set;for(let[t,s]of Object.entries(e.value.rules)){let e,o;if(Array.isArray(s))return;switch(t){case"proxyForFtp":case"proxyForHttp":case"proxyForHttps":case"singleProxy":case"fallbackProxy":e=s.scheme?s.scheme:"http",o=s.host,r.add(`${e}://${o}`)}}(0,o.BROWSER_API).browsingData.remove({origins:Array.from(r)},{cookies:!0})})}},{"@/utils/constants/browser":"5vboW","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],d6VMw:[function(e,r,t){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(t);var s=e("@/background/utils/buildBypassList"),o=e("@/background/utils/chromium/useChromiumProxy"),a=e("@/background/utils/disconnectFromProxy"),n=e("@/background/utils/firefox/useFirefoxProxy"),i=e("@/background/utils/setIcon"),l=e("@/utils/buildUsername/buildUsername"),c=e("@/utils/constants/browser"),u=e("@/utils/constants/keys"),p=e("uuid"),d=e("@plasmohq/storage");let f=async(e,r)=>{try{let e=new d.Storage,t=await e.get(u.StorageKeys.ACTIVE_PROXY);if(!t)return;let f=await e.get(u.StorageKeys.GLOBAL_BYPASS_LIST),m=(0,s.buildBypassList)({globalBypassList:f,proxyBypassList:t.bypassList}),h=(0,p.v4)().replaceAll("-",""),g={...t.parameters,sessionId:h},y={...t,parameters:g,username:(0,l.buildUsername)({isOxylabs:t.isOxylabs,username:t.username,parameters:g})};switch((0,a.disconnectFromProxy)(),e.set(u.StorageKeys.ACTIVE_PROXY,y),c.BROWSER_TYPE){case"chromium":(0,o.useChromiumProxy)({proxy:y,bypassList:m});break;case"firefox":(0,n.useFirefoxProxy)({proxy:y,bypassList:m})}(0,i.setIcon)("active",t.badge),r.send("Success")}catch(e){console.error("Error connecting to proxies",e),r.send("Error")}};t.default=f},{"@/background/utils/buildBypassList":"2igx0","@/background/utils/chromium/useChromiumProxy":"9erLu","@/background/utils/disconnectFromProxy":"cHRoK","@/background/utils/firefox/useFirefoxProxy":"bavYV","@/background/utils/setIcon":"e6c84","@/utils/buildUsername/buildUsername":"Sdarz","@/utils/constants/browser":"5vboW","@/utils/constants/keys":"3T3KR",uuid:"5Q82B","@plasmohq/storage":"luF8G","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],Sdarz:[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"buildUsername",()=>n);var o=e("./getBaseUsername");let a={cc:"country",st:"state",city:"city",sessid:"sessionId",sesstime:"sessionTime"},n=({isOxylabs:e,parameters:r,username:t})=>{if(!e)return t;let s=(0,o.getBaseUsername)(t),n=["customer",s];for(let[e,t]of Object.entries(a)){let s=r[t];("sessionTime"!==t||r.sessionId)&&s&&n.push(e,s)}return n.join("-")}},{"./getBaseUsername":"7gLHy","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"7gLHy":[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"getBaseUsername",()=>o);let o=e=>{let r="customer-";if(!e.startsWith(r))return e;let[t]=e.slice(r.length).split("-");return t||""}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"5Q82B":[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"MAX",()=>a.default),s.export(t,"NIL",()=>i.default),s.export(t,"parse",()=>c.default),s.export(t,"stringify",()=>p.default),s.export(t,"v1",()=>f.default),s.export(t,"v1ToV6",()=>h.default),s.export(t,"v3",()=>y.default),s.export(t,"v4",()=>x.default),s.export(t,"v5",()=>v.default),s.export(t,"v6",()=>w.default),s.export(t,"v6ToV1",()=>I.default),s.export(t,"v7",()=>A.default),s.export(t,"validate",()=>E.default),s.export(t,"version",()=>F.default);var o=e("./max.js"),a=s.interopDefault(o),n=e("./nil.js"),i=s.interopDefault(n),l=e("./parse.js"),c=s.interopDefault(l),u=e("./stringify.js"),p=s.interopDefault(u),d=e("./v1.js"),f=s.interopDefault(d),m=e("./v1ToV6.js"),h=s.interopDefault(m),g=e("./v3.js"),y=s.interopDefault(g),b=e("./v4.js"),x=s.interopDefault(b),j=e("./v5.js"),v=s.interopDefault(j),R=e("./v6.js"),w=s.interopDefault(R),S=e("./v6ToV1.js"),I=s.interopDefault(S),P=e("./v7.js"),A=s.interopDefault(P),k=e("./validate.js"),E=s.interopDefault(k),T=e("./version.js"),F=s.interopDefault(T)},{"./max.js":!1,"./nil.js":!1,"./parse.js":!1,"./stringify.js":!1,"./v1.js":!1,"./v1ToV6.js":!1,"./v3.js":!1,"./v4.js":"3RNEp","./v5.js":!1,"./v6.js":!1,"./v6ToV1.js":!1,"./v7.js":!1,"./validate.js":!1,"./version.js":!1,"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],jpKHV:[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t),s.export(t,"unsafeStringify",()=>i);var o=e("./validate.js"),a=s.interopDefault(o);let n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));function i(e,r=0){return(n[e[r+0]]+n[e[r+1]]+n[e[r+2]]+n[e[r+3]]+"-"+n[e[r+4]]+n[e[r+5]]+"-"+n[e[r+6]]+n[e[r+7]]+"-"+n[e[r+8]]+n[e[r+9]]+"-"+n[e[r+10]]+n[e[r+11]]+n[e[r+12]]+n[e[r+13]]+n[e[r+14]]+n[e[r+15]]).toLowerCase()}t.default=function(e,r=0){let t=i(e,r);if(!(0,a.default)(t))throw TypeError("Stringified UUID is invalid");return t}},{"./validate.js":"5zNTD","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"5zNTD":[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t);var o=e("./regex.js"),a=s.interopDefault(o);t.default=function(e){return"string"==typeof e&&(0,a.default).test(e)}},{"./regex.js":"hdRB9","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],hdRB9:[function(e,r,t){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(t),t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"3RNEp":[function(e,r,t){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(t);var o=e("./native.js"),a=s.interopDefault(o),n=e("./rng.js"),i=s.interopDefault(n),l=e("./stringify.js");t.default=function(e,r,t){if(a.default.randomUUID&&!r&&!e)return(0,a.default).randomUUID();e=e||{};let s=e.random??e.rng?.()??(0,i.default)();if(s.length<16)throw Error("Random bytes length must be >= 16");if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,r){if((t=t||0)<0||t+16>r.length)throw RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let e=0;e<16;++e)r[t+e]=s[e];return r}return(0,l.unsafeStringify)(s)}},{"./native.js":"dC36x","./rng.js":"7w9mD","./stringify.js":"jpKHV","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],dC36x:[function(e,r,t){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(t);let s="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);t.default={randomUUID:s}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"7w9mD":[function(e,r,t){let s;var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(t),o.export(t,"default",()=>n);let a=new Uint8Array(16);function n(){if(!s){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");s=crypto.getRandomValues.bind(crypto)}return s(a)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],iqY5N:[function(e,r,t){var s=e("@/background/utils/connectToProxy"),o=e("@/background/utils/disconnectFromProxy"),a=e("@/utils/constants/browser"),n=e("@/utils/constants/keys"),i=e("@plasmohq/storage");(0,a.BROWSER_API).runtime.onStartup.addListener(async()=>{let e=new i.Storage,r=await e.get(n.StorageKeys.ACTIVE_PROXY),{shouldConnectProxyOnStartup:t}=await e.get(n.StorageKeys.GLOBAL_SETTINGS);if((!t||r)&&(t||r)){if(!t&&r){(0,o.disconnectFromProxy)();return}await (0,s.connectToProxy)(r)}})},{"@/background/utils/connectToProxy":"l08RT","@/background/utils/disconnectFromProxy":"cHRoK","@/utils/constants/browser":"5vboW","@/utils/constants/keys":"3T3KR","@plasmohq/storage":"luF8G"}]},["kgW6q"],"kgW6q","parcelRequirec40c"),globalThis.define=r;