(()=>{"use strict";const e={identity:()=>[[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1]],invertNHue:()=>[[.333,-.667,-.667,0,1],[-.667,.333,-.667,0,1],[-.667,-.667,.333,0,1],[0,0,0,1,0],[0,0,0,0,1]],brightness:e=>[[e,0,0,0,0],[0,e,0,0,0],[0,0,e,0,0],[0,0,0,1,0],[0,0,0,0,1]],contrast(e){const t=(1-e)/2;return[[e,0,0,0,t],[0,e,0,0,t],[0,0,e,0,t],[0,0,0,1,0],[0,0,0,0,1]]},sepia:e=>[[.393+.607*(1-e),.769-.769*(1-e),.189-.189*(1-e),0,0],[.349-.349*(1-e),.686+.314*(1-e),.168-.168*(1-e),0,0],[.272-.272*(1-e),.534-.534*(1-e),.131+.869*(1-e),0,0],[0,0,0,1,0],[0,0,0,0,1]],grayscale:e=>[[.2126+.7874*(1-e),.7152-.7152*(1-e),.0722-.0722*(1-e),0,0],[.2126-.2126*(1-e),.7152+.2848*(1-e),.0722-.0722*(1-e),0,0],[.2126-.2126*(1-e),.7152-.7152*(1-e),.0722+.9278*(1-e),0,0],[0,0,0,1,0],[0,0,0,0,1]]};function t(e,t,r,o,n){return(e-t)*(n-o)/(r-t)+o}function r(e,t){const r=[];for(let o=0;o<e.length;o++){r[o]=[];for(let n=0;n<t[0].length;n++){let a=0;for(let r=0;r<e[0].length;r++)a+=e[o][r]*t[r][n];r[o][n]=a}}return r}function o([e,t,o],n){const a=r(n,[[e/255],[t/255],[o/255],[1],[1]]);return[0,1,2].map((e=>{return t=Math.round(255*a[e][0]),r=0,o=255,Math.min(o,Math.max(r,t));var t,r,o}))}function n({h:e,s:t,l:r,a:o=1}){if(0===t){const[e,t,n]=[r,r,r].map((e=>Math.round(255*e)));return{r:e,g:n,b:t,a:o}}const n=(1-Math.abs(2*r-1))*t,a=n*(1-Math.abs(e/60%2-1)),i=r-n/2,[l,d,s]=(e<60?[n,a,0]:e<120?[a,n,0]:e<180?[0,n,a]:e<240?[0,a,n]:e<300?[a,0,n]:[n,0,a]).map((e=>Math.round(255*(e+i))));return{r:l,g:d,b:s,a:o}}function a(e,t=0){const r=e.toFixed(t);if(0===t)return r;const o=r.indexOf(".");if(o>=0){const e=r.match(/0+$/);if(e)return e.index===o+1?r.substring(0,o):r.substring(0,e.index)}return r}const i=/^rgba?\([^\(\)]+\)$/,l=/^hsla?\([^\(\)]+\)$/,d=/^#[0-9a-f]+$/i,s=/hsla?|\(|\)|\/|,|\s/gi,c=[360,1,1,1],u={"%":100,deg:360,rad:2*Math.PI,turn:1},g=/rgba?|\(|\)|\/|,|\s/gi,m=[255,255,255,1],b={"%":100},h=new Map(Object.entries({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074})),f=new Map(Object.entries({ActiveBorder:3906044,ActiveCaption:0,AppWorkspace:11184810,Background:6513614,ButtonFace:16777215,ButtonHighlight:15329769,ButtonShadow:10461343,ButtonText:0,CaptionText:0,GrayText:8355711,Highlight:11720703,HighlightText:0,InactiveBorder:16777215,InactiveCaption:16777215,InactiveCaptionText:0,InfoBackground:16514245,InfoText:0,Menu:16185078,MenuText:16777215,Scrollbar:11184810,ThreeDDarkShadow:0,ThreeDFace:12632256,ThreeDHighlight:16777215,ThreeDLightShadow:16777215,ThreeDShadow:0,Window:15527148,WindowFrame:11184810,WindowText:0,"-webkit-focus-ring-color":15046400}).map((([e,t])=>[e.toLowerCase(),t])));function y(e,t,r,o){const n=e.split(t).filter((e=>e)),a=Object.entries(o);return n.map((e=>e.trim())).map(((e,t)=>{let o;const n=a.find((([t])=>e.endsWith(t)));return o=n?parseFloat(e.substring(0,e.length-n[0].length))/n[1]*r[t]:parseFloat(e),r[t]>1?Math.round(o):o}))}function p(e){return function(e){if(e.match(i))return function(e){const[t,r,o,n=1]=y(e,g,m,b);return{r:t,g:r,b:o,a:n}}(e);if(e.match(l))return function(e){const[t,r,o,a=1]=y(e,s,c,u);return n({h:t,s:r,l:o,a})}(e);if(e.match(d))return function(e){const t=e.substring(1);switch(t.length){case 3:case 4:{const[e,r,o]=[0,1,2].map((e=>parseInt(`${t[e]}${t[e]}`,16)));return{r:e,g:r,b:o,a:3===t.length?1:parseInt(`${t[3]}${t[3]}`,16)/255}}case 6:case 8:{const[e,r,o]=[0,2,4].map((e=>parseInt(t.substring(e,e+2),16)));return{r:e,g:r,b:o,a:6===t.length?1:parseInt(t.substring(6,8),16)/255}}}throw new Error(`Unable to parse ${e}`)}(e);if(h.has(e))return function(e){const t=h.get(e);return{r:t>>16&255,g:t>>8&255,b:255&t,a:1}}(e);if(f.has(e))return function(e){const t=f.get(e);return{r:t>>16&255,g:t>>8&255,b:255&t,a:1}}(e);return e}(e.trim().toLowerCase())}function k(e){return localStorage[e]?JSON.parse(localStorage[e]):localStorage[e]}function x(e,t){localStorage[e]=JSON.stringify(t)}let w={mode:0,brightness:100,contrast:100,grayscale:0,sepia:0,useFont:!1,fontFamily:"Hiragino Kaku Gothic Pro",textStroke:0,stylesheet:""};const S=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\)|black|silver|gray|whitesmoke|maroon|red|purple|fuchsia|green|lime|olivedrab|yellow|navy|blue|teal|aquamarine|orange|aliceblue|antiquewhite|aqua|azure|beige|bisque|blanchedalmond|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|gainsboro|ghostwhite|goldenrod|gold|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavenderblush|lavender|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|limegreen|linen|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|oldlace|olive|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|thistle|tomato|turquoise|violet|wheat|white|yellowgreen|rebeccapurple)/gi;function v({h:e,s:r,l:o,a:n}){if(n<.1&&n>0)return{h:e,s:r,l:o,a:n=.3};const a=t(r,0,1,.25,.4);let i=e,l=r;return(o>=.8&&e>200&&e<280||r<.12)&&(l=.05,i=205),{h:i,s:l,l:o<a?o:o<.5?a:t(o,.5,1,a,.22),a:n}}function T({h:e,s:r,l:o,a:n}){const a=205,i=e>a&&e<=245,l=t(r,0,1,i?t(e,a,245,.9,.7):.9,.6),d=o<.5?t(o,0,.5,.9,l):o<l?l:o;let s=e,c=r;i&&(s=t(s,a,245,a,220));return(o<.2||r<.24)&&(c=.2,s=40),{h:s,s:c,l:d,a:n}}function O({h:e,s:r,l:o,a:n}){const a=t(r,0,1,.3,.4),i=t(r,0,1,.4,.5);return{h:e,s:r,l:t(o,0,1,i,a),a:n}}function I(t,i){if("0px"==t||"0px 0px"==t||"0 0"==t||"none"==t)return t;let l=function({r:e,g:t,b:r,a:o=1}){e/=255,t/=255,r/=255;const n=Math.max(e,t,r),a=Math.min(e,t,r),i=n-a,l=(n+a)/2;if(0===i)return{h:0,s:0,l,a:o};let d=60*(n===e?(t-r)/i%6:n===t?(r-e)/i+2:(e-t)/i+4);return d<0&&(d+=360),{h:d,s:i/(1-Math.abs(2*l-1)),l,a:o}}(t),d=i(l),{r:s,g:c,b:u,a:g}=n(d),m=function(t){let o=e.identity();return 0!==t.sepia&&(o=r(o,e.sepia(t.sepia/100))),0!==t.grayscale&&(o=r(o,e.grayscale(t.grayscale/100))),100!==t.contrast&&(o=r(o,e.contrast(t.contrast/100))),100!==t.brightness&&(o=r(o,e.brightness(t.brightness/100))),1===t.mode&&(o=r(o,e.invertNHue())),o}(w),[b,h,f]=o([s,c,u],m),y=1===g?function({r:e,g:t,b:r,a:o}){return`#${(null!=o&&o<1?[e,t,r,Math.round(255*o)]:[e,t,r]).map((e=>`${e<16?"0":""}${e.toString(16)}`)).join("")}`}({r:b,g:h,b:f}):function(e){const{r:t,g:r,b:o,a:n}=e;return null!=n&&n<1?`rgba(${a(t)}, ${a(r)}, ${a(o)}, ${a(n,2)})`:`rgb(${a(t)}, ${a(r)}, ${a(o)})`}({r:b,g:h,b:f,a:g});return y.trim()}function L(e,t){let r=e.replace(/url\(.*?\)/g,"").match(S);return r&&Array.from(r).forEach((r=>{let o=I(p(r),t);e=e.replace(r,o)})),e}function P(e,t,r){let o={modifyFgHSL:"#bab5ab",modifyBgHSL:"#35393b",modifyBorderHSL:"#35393b"};try{if("0px"==e||"0px 0px"==e||"0 0"==e||"none"==e)return e;if(!e.match(/var\(.*?\)/g))return e=L(e,t);{let a=e.match(/--(.+?)(?=\)|,)/g).reverse();for(var n in a){let i=a[n].trim();if(i){let n=k(i);if(n){n=n.trim();let a=new RegExp("var\\([^var\\(]*?"+i+"[^\\)]*\\)","g"),l=e.replace(a,n);return l=L(l,t),(l.match(/\)/g)||[]).length!=(l.match(/\(/g)||[]).length?n:(setTimeout((function(){let e=getComputedStyle(document.body).getPropertyValue(i);e&&x(i,e)}),6e3),l.match(/var\(.*?\)/g)?o[r]:l)}try{let n=getComputedStyle(document.body).getPropertyValue(i);if(!n){if("modifyBgHSL"==r)return n="rgba(53,57,59,0.7)",n;if("modifyFgHSL"==r)return n="#bab5ab",n;throw"Error2"}x(i,n),n=n.trim();let a=new RegExp("var\\([^var\\(]*?"+i+"[^\\)]*\\)","g"),l=e.replace(a,n);return l=L(l,t),l.match(/var\(.*?\)/g)?o[r]:l}catch(n){setTimeout((function(){let n=getComputedStyle(document.body).getPropertyValue(i);n&&x(i,n),n=n.trim();let a=new RegExp("var\\([^var\\(]*?"+i+"[^\\)]*\\)","g"),l=e.replace(a,n);return l=L(l,t),l.match(/var\(.*?\)/g)?o[r]:l}),8e3)}}}}}catch(r){return I(e,t)}}let R="true";void 0===window.myCustomFlag&&(window.myCustomFlag=!0,function(){let e=[],t=Object,r=Object,o=[],n=null,a="",i=["STYLE","LINK"],l=' html, body, table, thead, input, textarea, select {color: #bab5ab!important; background: #35393b;} input[type="text"], textarea, select {color: #bab5ab!important; background: #35393b;} [data-darksite-inline-background-image-gradient] {background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5))!important; -webkit-background-size: cover!important; -moz-background-size: cover!important; -o-background-size: cover!important; background-size: cover!important;} [data-darksite-force-inline-background] * {background-color: rgba(0,0,0,0.7)!important;} [data-darksite-inline-background] {background-color: rgba(0,0,0,0.7)!important;} [data-darksite-inline-color] {color: #fff!important;} [data-darksite-inline-background-image] {background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3))!important} .ytp-gradient-bottom{display: none!important}';const d=/@import (url\()?(('.+?')|(".+?")|([^\)]*?))\)?;?/g,s=["inherit","transparent","initial","currentcolor","none"];window.onbeforeunload=function(){n&&n.disconnect()},document.addEventListener("visibilitychange",(function(e){n&&("visible"===document.visibilityState?(n.observe(document.documentElement,{childList:!0,subtree:!0}),g()):n.disconnect())}));window;L();let c=function(o){if("true"===R)for(let l=0;l<o.length;++l){let d=o[l],s=[],c=d.target;if(c&&1==c.nodeType){if((s=c.querySelectorAll("[style]")).length)for(var n in s=Array.from(s),s.push(c),s){let e=s[n];if(-1!==e.style.cssText.indexOf("background-color")&&-1==e.style.cssText.indexOf("rgba(")&&-1==e.style.cssText.indexOf("hsla(")){let t=e.style.backgroundColor;if(t){let o=I(p(t),v),n="data-darksite-inline-background-color"+o.replace(/[^\dA-Za-z]/g,""),i=w(o+"!important","background-color","["+n+"]");i&&(a+=i,r.innerText=r.innerText+i),e.setAttribute(n,"")}}else if(-1!==e.style.cssText.indexOf("background-image")){let t=e.style.backgroundImage;-1!==t.indexOf("url(")&&-1==t.indexOf("linear-gradient(")&&(e.style.backgroundImage=t,e.style.filter="brightness(78%)")}else if(-1!==e.style.cssText.indexOf("background")&&-1==e.style.cssText.indexOf("rgba(")&&-1==e.style.cssText.indexOf("hsla(")){let t=e.style.background;if(t){let o=I(p(t),v),n="data-darksite-inline-background"+o.replace(/[^\dA-Za-z]/g,""),i=w(o+"!important","background","["+n+"]");i&&(a+=i,r.innerText=r.innerText+i),e.setAttribute(n,"")}}if(-1!==e.style.cssText.indexOf("linear-gradient(")&&-1==e.style.cssText.indexOf("url(")&&e.setAttribute("data-darksite-inline-background-image",""),e.style.color){let t=e.style.color;if(t){let o=I(p(t),T),n="data-darksite-inline-color"+o.replace(/[^\dA-Za-z]/g,""),i=w(o+"!important","color","["+n+"]");i&&(a+=i,r.innerText=r.innerText+i),e.setAttribute(n,"")}}}for(let r in d.addedNodes){let o=d.addedNodes[r];if(o&&1==o.nodeType){let r=o.nodeName.toUpperCase();if(-1!==i.indexOf(r))try{if(o.sheet&&o.sheet.cssRules&&-1==e.indexOf(o.sheet)&&"dark-theme"!=o.id&&"temporary-dark-theme"!=o.id){B(o.sheet);let e=b(o.sheet.cssRules);t=document.createElement("style"),t.id="dark-theme",t.innerText=e,document.body.appendChild(t),o instanceof HTMLStyleElement&&h(o.sheet,t)}else-1==e.indexOf(o.sheet)&&"dark-theme"!=o.id&&"temporary-dark-theme"!=o.id&&o.addEventListener("load",(function(){try{if(o.sheet&&o.sheet.cssRules&&-1==e.indexOf(o.sheet)){B(o.sheet);let e=b(o.sheet.cssRules);t=document.createElement("style"),t.id="dark-theme",t.innerText=e,document.body.appendChild(t)}}catch(t){o.sheet.href&&-1==e.indexOf(o.sheet)&&(B(o.sheet),C(o.sheet.href,o))}}))}catch(t){o.sheet.href&&-1==e.indexOf(o.sheet)&&"dark-theme"!=o.id&&"temporary-dark-theme"!=o.id&&(B(o.sheet),C(o.sheet.href,o))}if(-1!==["SVG"].indexOf(r)){let e=document.querySelectorAll("[fill]");for(let t=0;t<e.length;t++){let r=e[t].getAttribute("fill");if(r&&"text"==r.nodeName){let o=I(p(r),T);e[t].setAttribute("fill",o)}else{let o=I(p(r),v);e[t].setAttribute("fill",o)}}let t=document.querySelectorAll("[stroke]");for(let e=0;e<t.length;e++){let r=t[e].getAttribute("stroke");if(r){let o=I(p(r),T);t[e].setAttribute("stroke",o)}}}}}}}};"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?u():document.addEventListener("DOMContentLoaded",u);function u(){let t=document.querySelectorAll('link[rel="stylesheet"]'),o=document.getElementsByTagName("style"),i=t.length+o.length;if("true"===R){let t=setInterval((function(){document.body&&!document.getElementById("temporary-dark-theme")&&(r=document.createElement("style"),r.id="temporary-dark-theme",r.innerText=l,document.body.appendChild(r),clearInterval(t))}));for(let e=0;e<document.styleSheets.length;++e)m(document.styleSheets[e]);f(),y(document),n=new MutationObserver(c),n.observe(document.documentElement,{childList:!0,subtree:!0});let o=document.getElementsByTagName("*");for(let e=0;e<o.length;e++)o[e].shadowRoot&&(o[e].style.background="#35393b",o[e].style.color="#bab5ab");let d=e.length,s=setInterval((function(){d==e.length&&e.length>=i&&(clearInterval(s),r.innerText=l+a),d=e.length}),300);setTimeout((function(){r.innerText=l+a,clearInterval(s)}))}window.self==window.top?window.onmessage=function(e){"active"==e.data&&("true"===R?e.source.postMessage("activeDarkSiteTrue","*"):e.source.postMessage("activeDarkSiteFalse","*"))}:(window.top.postMessage("active","*"),window.onmessage=function(e){"activeDarkSiteTrue"==e.data?R=!0:"activeDarkSiteFalse"==e.data&&(R=!1)},window.onbeforeunload=function(){window.top.postMessage("active","*")})}function g(){if("true"==R){for(let e=0;e<document.styleSheets.length;++e)m(document.styleSheets[e]);f(),y(document)}}function m(r){try{if(r.cssRules&&r.cssRules.length>0&&-1==e.indexOf(r)&&"dark-theme"!=r.ownerNode.id&&"temporary-dark-theme"!=r.ownerNode.id){B(r);let e=b(r.cssRules);t=document.createElement("style"),t.id="dark-theme",t.innerText=e,document.body.appendChild(t),r.ownerNode instanceof HTMLStyleElement&&h(r,t)}}catch(t){r.href&&-1==e.indexOf(r)&&(B(r),C(r.href,r.ownerNode))}}function b(e){let t="";if(e&&e.length)for(let r=0;r<e.length;r++)if(e[r]instanceof CSSMediaRule&&4==e[r].type&&"not all"==e[r].conditionText);else try{e[r]instanceof CSSImportRule&&e[r].styleSheet&&e[r].styleSheet.cssRules?t+=b(e[r].styleSheet.cssRules):t+=x(e[r])}catch(e){console.log(e)}return t}function h(e,t,r=1){const o=()=>{if(e.cssRules.length!=r){let o=t.innerText;for(let t=r-1;t<e.cssRules.length-1;t++)o+=x(e.cssRules[t]);r=e.cssRules.length,t.innerText=o}requestAnimationFrame(o)};o()}function f(){let r=document.querySelectorAll('link[rel="import"]'),o="";for(let n of r){let r=n.import;for(let n=0;n<r.styleSheets.length;++n)try{if(r.styleSheets[n].cssRules&&r.styleSheets[n].cssRules.length>0&&-1==e.indexOf(r.styleSheets[n])&&"dark-theme"!=r.styleSheets[n].ownerNode.id&&"temporary-dark-theme"!=r.styleSheets[n].ownerNode.id){B(r.styleSheets[n]);for(let e=0;e<r.styleSheets[n].cssRules.length;e++)o+=x(r.styleSheets[n].cssRules[e]);t=document.createElement("style"),t.id="dark-theme",t.innerText=o,document.body.appendChild(t)}}catch(t){r.styleSheets[n].href&&-1==e.indexOf(r.styleSheets[n])&&(B(r.styleSheets[n]),C(r.styleSheets[n].href,r))}}}function y(e){if(document.body&&"true"===R){let t=e.querySelectorAll("[bgcolor]");for(let e=0;e<t.length;e++){let r=t[e].getAttribute("bgcolor");if(r){let o=I(p(r),v);t[e].setAttribute("bgcolor",o)}}let r=e.querySelectorAll("[color]");for(let e=0;e<r.length;e++){let t=r[e].getAttribute("color");if(t){let o=I(p(t),T);r[e].setAttribute("color",o)}}let o=e.querySelectorAll("[style]");for(let e=0;e<o.length;e++)k(o[e].style,o[e]);let n=e.querySelectorAll("img");for(let e=0;e<n.length;e++){let t=n[e],r=window.screen.width/3;t&&t.offsetWidth>r&&(t.style.filter="brightness(83%)")}}}function k(e,t){let r="";if(e&&-1!==e.cssText.indexOf("background")){if(e.backgroundImage&&-1==e.backgroundImage.indexOf("data:image/png")&&-1==e.backgroundImage.indexOf("data:image/svg+xml"))if("repeat"==e.backgroundRepeatX||"repeat"==e.backgroundRepeatY||"repeat"==e.backgroundRepeat)if(e.backgroundImage.match(S)){let o=e.backgroundImage.trim(),n=P(o,v,"modifyBgHSL");o!=n&&(e.getPropertyPriority("background-image")||e.background?r+=w(n+"!important","background-image",t):r+=w(n,"background-image",t))}else r+=w("rgba(53,57,59,0.5)","background",t);else{let o=e.backgroundImage.trim();if(-1!==o.indexOf("url(")&&-1==o.indexOf("linear-gradient(")&&-1==o.indexOf(".svg")&&-1==o.indexOf(".png"))r+=w(o,"background-image",t),r+=w("brightness(83%)","filter",t);else{let n=P(o,v,"modifyBgHSL");o!=n?e.getPropertyPriority("background-image")||e.background?r+=w(n+"!important","background-image",t):r+=w(n,"background-image",t):"none"==n?r+=w(n,"background-image",t):-1!==e.backgroundImage.indexOf(".gif")&&(r+=w("none","background-image",t))}}if(e.backgroundColor){let o=e.backgroundColor.trim();if(o){let n=P(o,v,"modifyBgHSL");"("==n||")"==n||""==n?r+=w("rgba(53,57,59,0.5)","background-color",t):o!=n&&(e.backgroundImage&&-1!==e.backgroundImage.indexOf("url(")&&-1==e.backgroundImage.indexOf(".png")&&-1==e.backgroundImage.indexOf("data:image/png")&&-1==e.backgroundImage.indexOf("data:image/svg+xml")?e.getPropertyPriority("background-color")||e.background?r+=w(n+"!important","background",t):r+=w(n,"background",t):e.getPropertyPriority("background-color")||e.background?r+=w(n+"!important","background-color",t):r+=w(n,"background-color",t),e.backgroundImage&&(r+=w("multiply","background-blend-mode",t)))}}if(!e.background||""!=e.backgroundImage&&"initial"!=e.backgroundImage||""!=e.backgroundColor&&"initial"!=e.backgroundColor){let o=e.background.trim();if(o){let n=P(o,v,"modifyBgHSL");o!=n&&(e.getPropertyPriority("background")?r+=w(n+"!important","background",t):r+=w(n,"background-color",t))}}else if(-1!==e.background.indexOf("url("))if(-1==e.background.indexOf("data:image/svg+xml"));else{let o=e.background.match(S);if(o){r+=w(I(p(o[0]),v)+"!important","background",t)}}else{let o=e.background.trim();if(o){let n=P(o,v,"modifyBgHSL");"("==n||")"==n||""==n?r+=w("rgba(53,57,59,0.5)","background",t):o!=n&&(e.getPropertyPriority("background")?r+=w(n+"!important","background",t):r+=w(n,"background",t))}}}if(e&&-1!==e.cssText.indexOf("border")){if(e.borderColor&&-1==s.indexOf(e.borderColor)){let o=e.borderColor.trim();if(o){let n=P(o,O,"modifyBorderHSL");o!=n&&(e.getPropertyPriority("border-color")?r+=w(n+"!important","border-color",t):r+=w(n,"border-color",t))}}if(e.border&&-1==s.indexOf(e.border)){let o=e.border.trim();if(o){let n=P(o,O,"modifyBorderHSL");o!=n&&(e.getPropertyPriority("border")?r+=w(n+"!important","border",t):r+=w(n,"border",t))}}if(e.borderBottom&&-1==s.indexOf(e.borderBottom)){let o=e.borderBottom.trim();if(o){let n=P(o,O,"modifyBorderHSL");o!=n&&(e.getPropertyPriority("border-bottom")?r+=w(n+"!important","border-bottom",t):r+=w(n,"border-bottom",t))}}if(e.borderTop&&-1==s.indexOf(e.borderTop)){let o=e.borderTop.trim();if(o){let n=P(o,O,"modifyBorderHSL");o!=n&&(e.getPropertyPriority("border-top")?r+=w(n+"!important","border-top",t):r+=w(n,"border-top",t))}}if(e.borderLeft&&-1==s.indexOf(e.borderLeft)){let o=e.borderLeft.trim();if(o){let n=P(o,O,"modifyBorderHSL");o!=n&&(e.getPropertyPriority("border-left")?r+=w(n+"!important","border-left",t):r+=w(n,"border-left",t))}}if(e.borderRight&&-1==s.indexOf(e.borderRight)){let o=e.borderRight.trim();if(o){let n=P(o,O,"modifyBorderHSL");o!=n&&(e.getPropertyPriority("border-right")?r+=w(n+"!important","border-right",t):r+=w(n,"border-right",t))}}}if(e&&e.outline&&-1==s.indexOf(e.outline)){let o=e.outline.trim();if(o){let n=P(o,O,"modifyBorderHSL");o!=n&&(e.getPropertyPriority("outline")?r+=w(n+"!important","outline",t):r+=w(n,"outline",t))}}if(e&&e.boxShadow&&-1==s.indexOf(e.boxShadow)){let o=e.boxShadow.trim();if(o){let n=P(o,O,"modifyBorderHSL");o!=n&&(e.getPropertyPriority("box-shadow")?r+=w(n+"!important","box-shadow",t):r+=w(n,"box-shadow",t))}}if(e&&e.textShadow&&-1==s.indexOf(e.textShadow)){let o=e.textShadow.trim();if(o){let n=P(o,O,"modifyBorderHSL");o!=n&&(e.getPropertyPriority("text-shadow")?r+=w(n+"!important","text-shadow",t):r+=w(n,"text-shadow",t))}}if(e&&e.color&&-1==s.indexOf(e.color)){let o=e.color.trim();if(o&&"*, ::before, ::after"!=t){let n=P(o,T,"modifyFgHSL");"("==n||")"==n||""==n?r+=w("#bab5ab","color",t):o!=n&&(e.getPropertyPriority("color")?r+=w(n+"!important","color",t):r+=w(n,"color",t))}}if(e&&e.fill&&-1==s.indexOf(e.fill)){let o=e.fill.trim(),n=P(o,T,"modifyFgHSL");o!=n&&(e.getPropertyPriority("fill")?r+=w(n+"!important","fill",t):r+=w(n,"fill",t))}return r}function x(e){if(e&&null==e.selectorText&&e.cssRules){let t="";for(let r=0;r<e.cssRules.length;r++){let o=k(e.cssRules[r].style,e.cssRules[r].selectorText);null!=o&&(t+=o)}return t}if(e){let t="",r=k(e.style,e.selectorText);return null!=r&&(t=r),t}}function w(e,t,r){if("string"==typeof r){let n=` ${r} {${t}:${e};}`;if(null==o[n])return o[n]=" ",n}else r&&(r.style[t]=e);return""}function L(){let e='html, body, input, textarea, select, body *, html *, table *, thead *, div, *:before, *:after, *:active {color: #bab5ab!important; background: #35393b!important; background-color: #35393b!important;} input[type="text"], textarea, select {color: #bab5ab!important; background: #35393b;}';if("true"===R){document.getElementById("temporary-dark-theme")||(r=document.createElement("style"),r.id="temporary-dark-theme",r.innerText=e,document.documentElement.appendChild(r));let t=setInterval((function(){document.body&&!document.body.querySelector("#temporary-dark-theme")&&(document.body.appendChild(r),clearInterval(t))}));setTimeout((function(){clearInterval(t)}),1e3)}}function C(e,t){if(e&&t){let t={url:e,responseType:"text",mimeType:"text/css",origin:window.location.origin};chrome.runtime.sendMessage({type:"fetch",data:t})}}function B(t){e.push(t)}function A(e){let t=document.createElement("style");return t.id=e,document.head.appendChild(t),t}window.addEventListener("load",g),chrome.runtime.onMessage.addListener((({type:e,response:r,href:o})=>{if("fetch-response"===e){let e=r.trim().replace(d,""),n=A(o);n.textContent=e;let a=b(n.sheet.cssRules);t=document.createElement("style"),t.id="dark-theme",t.innerText=a,document.body.appendChild(t);try{n.remove()}catch(e){console.log("Error load",e)}}}))}())})();